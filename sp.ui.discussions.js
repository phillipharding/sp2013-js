function ULS06I(){var o=new Object;o.ULSTeamName="Microsoft SharePoint Foundation";o.ULSFileName="SP.UI.Discussions.js";return o;}
Type.registerNamespace("SP.UI.Discussions");SP.UI.Discussions.SortFilterPickerRenderMode=function(){};SP.UI.Discussions.SortFilterPickerRenderMode.prototype={horizontalList:0,dropDownList:1};SP.UI.Discussions.SortFilterPickerRenderMode.registerEnum("SP.UI.Discussions.SortFilterPickerRenderMode",false);SP.UI.Discussions.AsyncRefreshRequest=function(a,b,c){ULS06I:;this.$$d_$2m_0=Function.createDelegate(this,this.$2m_0);this.$O_0=a;this.$1p_0=b;this.$1H_0=c};SP.UI.Discussions.AsyncRefreshRequest.createCurrentViewRefreshRequest=function(a,b){ULS06I:;return SP.UI.Discussions.AsyncRefreshRequest.$19(a,false,0,null,b)};SP.UI.Discussions.AsyncRefreshRequest.createNewViewRefreshRequest=function(a,b){ULS06I:;return SP.UI.Discussions.AsyncRefreshRequest.$19(a,false,0,b,3)};SP.UI.Discussions.AsyncRefreshRequest.createSingleItemRefreshRequest=function(a,b){ULS06I:;return SP.UI.Discussions.AsyncRefreshRequest.$19(a,true,b,null,3)};SP.UI.Discussions.AsyncRefreshRequest.$19=function(b,l,i,m,n){ULS06I:;var e=new XMLHttpRequest,d="",o=b.clvp,a=SP.UI.Discussions.Helpers.$2M(b);switch(n){case 3:SP.UI.Discussions.AsyncRefreshRequest.$b=null;break;case 1:SP.UI.Discussions.AsyncRefreshRequest.$b=b.ListData.NextHref;break;case 2:SP.UI.Discussions.AsyncRefreshRequest.$b=b.ListData.PrevHref}var c=SP.UI.Discussions.AsyncRefreshRequest.$b;if(!SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(c)){var h=c.indexOf("?");if(h>=0)c=c.substr(h+1);a=ReconcileQstringFilters(a,c)}if(!SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(m)){var j=window.self.ajaxNavigate,k=new URI(j.get_href());a=RemoveQueryParameterFromUrl(a,"View");a=SP.ScriptHelpers.replaceOrAddQueryString(a,"ListViewPageUrl",k.getStringWithoutQueryAndFragment())}var f=b.overrideSelectCommand;if(l)f=SP.UI.Discussions.Helpers.$1g(b,String.format('<Query><Where><Eq><FieldRef Name="ID"/><Value Type="Number">{0}</Value></Eq></Where></Query>',i));if(!SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(f)){a=SP.ScriptHelpers.replaceOrAddQueryString(a,"HasOverrideSelectCommand","TRUE");d+="&OverrideSelectCommand="+escapeProperlyCore(f,false)}var g=GetUrlKeyValue("RootFolder",true,a);if(g.length>0){d=d+"&InplRootFolder="+g;a=RemoveUrlKeyValue("RootFolder",a)}e.open("POST",a,true);e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");return new SP.UI.Discussions.AsyncRefreshRequest(e,d,i)};SP.UI.Discussions.AsyncRefreshRequest.prototype={$O_0:null,$1p_0:null,$26_0:false,$1H_0:0,$G_0:null,$I_0:null,$11_0:null,get_completedCallback:function(){ULS06I:;return this.$G_0},set_completedCallback:function(a){ULS06I:;this.$G_0=a;return a},get_failedCallback:function(){ULS06I:;return this.$I_0},set_failedCallback:function(a){ULS06I:;this.$I_0=a;return a},get_singleItemID:function(){ULS06I:;return this.$1H_0},get_tag:function(){ULS06I:;return this.$11_0},set_tag:function(a){ULS06I:;this.$11_0=a;return a},start:function(){ULS06I:;if(!this.$26_0){this.$O_0.onreadystatechange=this.$$d_$2m_0;this.$O_0.send(this.$1p_0);this.$26_0=true}},$2V_0:function(a){ULS06I:;this.$G_0&&this.$G_0(this,a);this.$G_0=null},$1K_0:function(a){ULS06I:;this.$I_0&&this.$I_0(this,a);this.$I_0=null},$2m_0:function(){ULS06I:;if(this.$O_0.readyState===4){this.$O_0.onreadystatechange=null;if(this.$O_0.status===601)this.$1K_0(this.$O_0.responseText);else{var $v_0=eval("("+this.$O_0.responseText+")");this.$2V_0($v_0)}}}};SP.UI.Discussions.FeaturedDiscussionRenderer=function(a,b){ULS06I:;SP.UI.Discussions.FeaturedDiscussionRenderer.initializeBase(this,[a,b])};SP.UI.Discussions.FeaturedDiscussionRenderer.renderFeaturedHeader=function(b){ULS06I:;var a=new SP.HtmlBuilder,c=b.forumViewState;if(!SP.UI.Discussions.Helpers.isNullOrUndefined(c)){var d=b.ListData.Row;if(d.length>0){a.addAttribute("id",SP.UI.Discussions.Helpers.$J(c.$E_0,"FeaturedHeader"));a.addCssClass("ms-comm-featuredHeader");a.renderBeginTag("h2");a.write(Strings.STS.L_SPDiscFeaturedHeader);a.renderEndTag()}}return a.toString()};SP.UI.Discussions.FeaturedDiscussionRenderer.setFeaturedRenderOptions=function(a){ULS06I:;a.folderTitleStyle="";a.folderBodyWrapStyle="ms-comm-featuredBody";a.renderDate=false};SP.UI.Discussions.FeaturedDiscussionRenderer.get_featuredPostListId=function(){ULS06I:;return"PostListFeatured"};SP.UI.Discussions.FeaturedDiscussionRenderer.prototype={renderForumHeader:function(a){ULS06I:;return SP.UI.Discussions.FeaturedDiscussionRenderer.renderFeaturedHeader(a)},setRenderOptions:function(a){ULS06I:;SP.UI.Discussions.FeaturedDiscussionRenderer.setFeaturedRenderOptions(a)},get_postListId:function(){ULS06I:;return SP.UI.Discussions.FeaturedDiscussionRenderer.get_featuredPostListId()}};SP.UI.Discussions.ForumRenderer=function(a,b){ULS06I:;this.$$d_$2b_0=Function.createDelegate(this,this.$2b_0);this.$$d_$1l_0=Function.createDelegate(this,this.$1l_0);this.$$d_renderForumPost=Function.createDelegate(this,this.renderForumPost);this.$$d_renderForumHeader=Function.createDelegate(this,this.renderForumHeader);this.$$d_renderForumFooter=Function.createDelegate(this,this.renderForumFooter);this.$$d_renderForumBody=Function.createDelegate(this,this.renderForumBody);this.$v_0=a;this.$T_0=b};SP.UI.Discussions.ForumRenderer.prototype={$T_0:0,$v_0:0,createRenderingContextOverrides:function(){ULS06I:;var a=new ListContext;a.BaseViewID=this.$T_0;a.ListTemplateType=this.$v_0;a.Templates.Body=this.$$d_renderForumBody;a.Templates.Footer=this.$$d_renderForumFooter;a.Templates.Header=this.$$d_renderForumHeader;var b={};b.SPListItem2=this.$$d_renderForumPost;a.Templates.Item=b;a.OnPreRender=this.$$d_$1l_0;a.OnPostRender=this.$$d_$2b_0;return a},attachEvents:function(c){ULS06I:;if(!SP.UI.Discussions.Helpers.isNullOrUndefined(c.forumViewState)){var a=c.forumViewState;a.initialize();for(var b=0,d=a.$6_0.length;b<d;b++){var e=a.$6_0[b];e.initialize()}}},createForumViewState:function(a){ULS06I:;return new SP.UI.Discussions.ForumViewState(a)},$2b_0:function(a){ULS06I:;this.attachEvents(a);SP.ScriptHelpers.disableWebpartSelection(a);if(SP.UI.Discussions.PostBehavior.$Z>0){var b=this;EnsureScriptFunc("strings.js","Strings.STS.L_ViewProperties_Text",function(){ULS06I:;for(var a=1;a<=SP.UI.Discussions.PostBehavior.$Z;a++){var b=$get("discAttachmentLink"+a);if(!SP.UI.Discussions.Helpers.isNullOrUndefined(b))b.innerHTML=window.self.Strings.STS.L_ViewProperties_Text}})}},$1l_0:function(b){ULS06I:;if(!SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(b.ListData.FilterLink)){var d=SP.ScriptHelpers.getDocumentQueryPairs(),c=SP.UI.Discussions.Helpers.getListSortOverride(d),a="";if(c){a=SP.ScriptHelpers.replaceOrAddQueryString(a,"SortField",c.$e_0);a=SP.ScriptHelpers.replaceOrAddQueryString(a,"SortDir",c.$1A_0)}var e=d.CategoryID;if(!SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(e))a=SP.ScriptHelpers.replaceOrAddQueryString(a,"CategoryID",e);if(a.length>0)a="&"+a.substr(1);var f=b.ListData.NextHref;if(!SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(f))b.ListData.NextHref=f+a;var g=b.ListData.PrevHref;if(!SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(g))b.ListData.PrevHref=g+a}b.forumViewState=this.createForumViewState(b);b.ListSchema.UserVanilla=true},renderForumBody:function(b){ULS06I:;var a=new SP.HtmlBuilder,f=b.forumViewState;if(!SP.UI.Discussions.Helpers.isNullOrUndefined(f)){var c=b.ListData.Row,d=0;if(!SP.UI.Discussions.Helpers.$L(b)&&c.length>0){a.addCommunitiesCssClass("postList");a.renderBeginTag("ul");b.CurrentItem=c[0];a.write(this.renderForumPost(b));a.renderEndTag();d++}if(!c.length){var g=new Array(0);RenderEmptyText(g,b);a.write(g.join(""))}else{a.addCommunitiesCssClass("postList");a.addAttribute("id",SP.UI.Discussions.Helpers.$J(f.$E_0,this.get_postListId()));a.renderBeginTag("ul");if(d<c.length)for(var e=d,h=c.length;e<h;e++){b.CurrentItem=c[e];a.write(this.renderForumPost(b));b.CurrentItem=null}a.renderEndTag()}}return a.toString()},renderForumFooter:function(b){ULS06I:;var a=new SP.HtmlBuilder;if(!SP.UI.Discussions.Helpers.$L(b)){a.addCommunitiesCssClass("postReplyContainer");a.addAttribute("id",SP.UI.Discussions.Helpers.$J(b.forumViewState.$E_0,"Footer-ReplyContainer"));a.renderBeginTag("div");a.renderEndTag()}var c=new Array(0);RenderPaging(c,b);a.write(c.join(""));a.write("</div>");return a.toString()},renderForumHeader:function(a){ULS06I:;var b=new SP.HtmlBuilder,e=a.listName+"-"+a.view;b.write('<div class="ms-core-defaultFont ms-comm-forumContainer" id="'+e+'">');if(SP.UI.Discussions.Helpers.$L(a)){var c=a.forumViewState,d=c.createHeaderBehavior(a);c.$g_0=d;d.render(b)}return b.toString()},renderForumPost:function(a){ULS06I:;var b=new SP.HtmlBuilder,c=a.forumViewState,d=c.createPostBehavior(a,a.CurrentItem);c.addNewPost(d);var e=SP.UI.Discussions.PostBehavior.RenderOptions.get_$27();this.setRenderOptions(e);d.render(b,e);return b.toString()},setRenderOptions:function(a){ULS06I:;a.folderTitleStyle="ms-textLarge ms-noWrap";a.folderBodyWrapStyle="ms-noWrap";a.renderDate=true},get_postListId:function(){ULS06I:;return"PostList"}};SP.UI.Discussions.ForumViewState=function(a){ULS06I:;this.$$d_$2f_0=Function.createDelegate(this,this.$2f_0);this.$$d_$2e_0=Function.createDelegate(this,this.$2e_0);this.$$d_$2Z_0=Function.createDelegate(this,this.$2Z_0);this.$$d_$2a_0=Function.createDelegate(this,this.$2a_0);this.$E_0=SP.UI.Discussions.ForumViewState.$K;SP.UI.Discussions.ForumViewState.$K++;this.$0_0=a;this.$6_0=[]};SP.UI.Discussions.ForumViewState.prototype={$0_0:null,$6_0:null,$g_0:null,$f_0:null,$E_0:0,$i_0:false,$X_0:null,get_activeElement:function(){ULS06I:;var a;if(this.$X_0)a=this.$X_0;else a=document.activeElement;return a},set_activeElement:function(a){ULS06I:;this.$X_0=a;return a},get_headerBehavior:function(){ULS06I:;return this.$g_0},set_headerBehavior:function(a){ULS06I:;this.$g_0=a;return a},get_id:function(){ULS06I:;return this.$E_0},get_postStateList:function(){ULS06I:;return this.$6_0},addNewPost:function(a){ULS06I:;Array.add(this.$6_0,a)},createHeaderBehavior:function(a){ULS06I:;return new SP.UI.Discussions.HeaderBehavior(a)},createPostBehavior:function(b,a){ULS06I:;return new SP.UI.Discussions.PostBehavior(b,a)},initialize:function(){ULS06I:;if(this.$i_0)return;!SP.UI.Discussions.Helpers.isNullOrUndefined(this.$g_0)&&this.$g_0.attachEvents();if(!SP.UI.Discussions.Helpers.$L(this.$0_0)&&!SP.UI.Discussions.Helpers.isNullOrUndefined(this.$0_0.ListSchema.ListRight_AddListItems)){var h=SP.UI.Discussions.Helpers.$U(this.$0_0);this.$f_0=new SP.UI.Discussions.ReplyBoxControl(h,"Footer",true,false,false);this.$f_0.show(false)}var g="bottomPaging"+this.$0_0.wpq,e=$get(g);if(!SP.UI.Discussions.Helpers.isNullOrUndefined(e)){var b=e.getElementsByTagName("a");if(!SP.UI.Discussions.Helpers.isNullOrUndefined(b))for(var c=0,i=b.length;c<i;c++){var a=b[c],f=a.getAttribute("onclick");if(!SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(f)&&f.startsWith("RefreshPageTo")){a.setAttribute("onclick",null);a.removeAttribute("onclick");var d=a.getElementsByTagName("img"),j=!SP.UI.Discussions.Helpers.isNullOrUndefined(d)&&d.length>0&&d[0].getAttribute("alt")===Strings.STS.L_SPClientPrevious,k=j?this.$$d_$2a_0:this.$$d_$2Z_0;$addHandler(a,"click",k)}}}this.$i_0=true},$m_0:function(d){ULS06I:;var a=new SP.UI.Discussions.ForumViewState.DeferredAnimatedRefreshHandler,c=this;a.set_refreshCompletedCallback(function(b,a){ULS06I:;c.$22_0(a)});this.$1b_0(a);var b=SP.UI.Discussions.AsyncRefreshRequest.createCurrentViewRefreshRequest(this.$0_0,d);b.$G_0=a.$$d_onQueryCompleted;b.$I_0=a.$$d_onQueryFailed;b.start()},refreshSinglePost:function(b){ULS06I:;var a=SP.UI.Discussions.AsyncRefreshRequest.createSingleItemRefreshRequest(this.$0_0,b);a.$G_0=this.$$d_$2e_0;a.$I_0=this.$$d_$2f_0;a.start()},removePost:function(a){ULS06I:;Array.remove(this.$6_0,a)},switchToNewView:function(e,d){ULS06I:;var a=new SP.UI.Discussions.ForumViewState.DeferredAnimatedRefreshHandler,c=this;a.set_refreshCompletedCallback(function(a,b){ULS06I:;c.$0_0.BaseViewID=a.$11_0;c.$0_0.overrideSelectCommand=null;c.$22_0(b)});this.$1b_0(a);var b=SP.UI.Discussions.AsyncRefreshRequest.createNewViewRefreshRequest(this.$0_0,d);b.$G_0=a.$$d_onQueryCompleted;b.$I_0=a.$$d_onQueryFailed;b.$11_0=e;b.start()},$2A_0:function(){ULS06I:;for(var b=0,a=0,d=this.$6_0.length;a<d;a++){var c=this.$6_0[a];if(!c.$4_0||SP.UI.Discussions.Helpers.$L(this.$0_0)){c.animateFadeIn(b);b+=75}}},$1b_0:function(b){ULS06I:;var a=SP.UI.Discussions.Helpers.$2H(this.$E_0,"PostList");if(!SP.UI.Discussions.Helpers.isNullOrUndefined(a))SPAnimationUtility.BasicAnimator.FadeOut(a,b.$$d_onAnimationCompleteHandler,null);else b.onAnimationCompleteHandler()},$2Z_0:function(a){ULS06I:;a.preventDefault();this.$m_0(1)},$2a_0:function(a){ULS06I:;a.preventDefault();this.$m_0(2)},$2e_0:function(a,b){ULS06I:;this.$33_0(b,a.$1H_0)},$2f_0:function(b,a){ULS06I:;SP.UI.Discussions.Helpers.showScriptError(a)},$22_0:function(l){ULS06I:;var a=$get("script"+this.$0_0.wpq);if(a){this.set_activeElement(document.activeElement);while(a.nextSibling)a.parentNode.removeChild(a.nextSibling);this.$0_0.ListData=l;SPClientRenderer.Render(a,this.$0_0);SP.UI.Discussions.Helpers.$n();for(var e={},c=0,j=this.$6_0.length;c<j;c++){var g=this.$6_0[c];e[g.get_itemID().toString()]=g}var b=this.$0_0.forumViewState;b.$X_0=this.$X_0;for(var f=b.$6_0,m=this.$6_0.length,d=0,k=f.length;d<k;d++){var h=f[d],i=e[h.get_itemID().toString()];!SP.UI.Discussions.Helpers.isNullOrUndefined(i)&&i.transferState(h)}this.$f_0&&this.$f_0.transferState(b.$f_0);b.$2A_0()}},$33_0:function(q,h){ULS06I:;var i=q.Row,b=null;if(i.length===1){var j=i[0];if(j.ID===h)b=j}if(!b)this.$m_0(0);else{for(var f=this.$0_0.ListData.Row,c=0,l=f.length;c<l;c++){var m=f[c];if(m.ID===h){f[c]=b;break}}for(var d=0,n=this.$6_0.length;d<n;d++){var e=this.$6_0[d];if(e.get_itemID()===h)if(e.get_isRenderedByRootPost()){var o=SP.UI.Discussions.Helpers.$U(this.$0_0);o.$1Y_0()}else{var p=e.get_rootElementID(),g=$get(p);if(!SP.UI.Discussions.Helpers.isNullOrUndefined(g)){var a=this.createPostBehavior(this.$0_0,b);this.set_activeElement(document.activeElement);var k=new SP.HtmlBuilder;a.render(k,SP.UI.Discussions.PostBehavior.RenderOptions.get_$1a());g.innerHTML=k.toString();g.setAttribute("ID",a.get_rootElementID());this.$6_0[d]=a;a.initialize();e.transferState(a);SP.UI.Discussions.Helpers.$n()}}}}}};SP.UI.Discussions.ForumViewState.DeferredAnimatedRefreshHandler=function(){ULS06I:;this.$$d_onAnimationCompleteHandler=Function.createDelegate(this,this.onAnimationCompleteHandler);this.$$d_onQueryFailed=Function.createDelegate(this,this.onQueryFailed);this.$$d_onQueryCompleted=Function.createDelegate(this,this.onQueryCompleted);this.$15_0=true;this.$1Z_0=true};SP.UI.Discussions.ForumViewState.DeferredAnimatedRefreshHandler.prototype={$15_0:false,$1Z_0:false,$q_0:null,$1Q_0:null,$w_0:null,get_refreshCompletedCallback:function(){ULS06I:;return this.$q_0},set_refreshCompletedCallback:function(a){ULS06I:;this.$q_0=a;return a},onAnimationCompleteHandler:function(){ULS06I:;this.$1Z_0=false;this.$1F_0()},onQueryCompleted:function(a,b){ULS06I:;this.$1Q_0=a;this.$w_0=b;this.$15_0=false;this.$1F_0()},onQueryFailed:function(a,b){ULS06I:;this.$1Q_0=a;this.$w_0={};this.$w_0.Row=[];SP.UI.Discussions.Helpers.showScriptError(b);this.$15_0=false;this.$1F_0()},$1F_0:function(){ULS06I:;!this.$15_0&&!this.$1Z_0&&this.$q_0&&this.$q_0(this.$1Q_0,this.$w_0)}};SP.UI.Discussions.GlobalTemplateOverrides=function(){};SP.UI.Discussions.GlobalTemplateOverrides.$$cctor=function(){ULS06I:;if(typeof SPClientTemplates==="undefined")return;for(var d=SP.UI.Discussions.GlobalTemplateOverrides.$24,e=d.length,a=0;a<e;++a){var b=d[a],c;if(b===7)c=new SP.UI.Discussions.FeaturedDiscussionRenderer(108,b);else c=new SP.UI.Discussions.ForumRenderer(108,b);SPClientTemplates.TemplateManager.RegisterTemplateOverrides(c.createRenderingContextOverrides())}var f=new SP.UI.Discussions.ManagementViewRenderer(108,5);SPClientTemplates.TemplateManager.RegisterTemplateOverrides(f.createRenderingContextOverrides())};SP.UI.Discussions.HeaderBehavior=function(a){ULS06I:;this.$$d_$2U_0=Function.createDelegate(this,this.$2U_0);this.$$d_onClickNewPostLink=Function.createDelegate(this,this.onClickNewPostLink);this.context=a;this.$1J_0=SP.UI.Discussions.Helpers.$J(this.context.forumViewState.$E_0,"NewPostLink");this.$1P_0=SP.UI.Discussions.Helpers.$J(this.context.forumViewState.$E_0,"RefreshLink");this.sortFilterPickerControl=new SP.UI.Discussions.SortFilterPickerControl;this.populateSortFilterItemList()};SP.UI.Discussions.HeaderBehavior.prototype={context:null,sortFilterPickerControl:null,$1J_0:null,$1P_0:null,$35_0:"None",attachEvents:function(){ULS06I:;var a=$get(this.$1J_0);!SP.UI.Discussions.Helpers.isNullOrUndefined(a)&&$addHandler(a,"click",this.$$d_onClickNewPostLink);var b=$get(this.$1P_0);!SP.UI.Discussions.Helpers.isNullOrUndefined(b)&&$addHandler(b,"click",this.$$d_$2U_0);this.sortFilterPickerControl.initialize()},render:function(a){ULS06I:;var b=this.context.ListSchema;if(!SP.UI.Discussions.Helpers.isAnonymousAccess(this.context)&&!SP.UI.Discussions.Helpers.isNullOrUndefined(b)&&b.Toolbar!==this.$35_0){var c=this.getNewPostUrl();a.addCommunitiesCssClass("heroLinkContainer");a.renderBeginTag("div");a.addAttribute("id",this.$1J_0);a.addAttribute("href",c);a.addCssClass("ms-textXLarge");a.addCssClass("ms-heroCommandLink");a.addAttribute("title",Strings.STS.L_SPDiscHeroLinkAltText);a.renderBeginTag("a");a.addCssClass("ms-list-addnew-imgSpan20");a.renderBeginTag("span");a.addCssClass("ms-list-addnew-img20");a.addAttribute("src",GetThemedImageUrl("spcommon.png"));a.renderBeginTag("img");a.renderEndTag();a.renderEndTag();a.renderBeginTag("span");a.writeEncoded(Strings.STS.L_SPDiscHeroLinkFormat);a.renderEndTag();a.renderEndTag();a.addCssClass("ms-clear");a.renderBeginTag("div");a.renderEndTag();a.renderEndTag()}a.addCommunitiesCssClass("forumHeaderContainer");a.renderBeginTag("div");this.sortFilterPickerControl.$1B_0=true;this.sortFilterPickerControl.render(a);a.addAttribute("id",this.$1P_0);a.addAttribute("href","javascript:;");a.addAttribute("title",Strings.STS.L_SPDiscRefresh);a.addCssClass("ms-floatRight");a.addCommunitiesCssClass("refreshIcon-a");a.renderBeginTag("a");a.addAttribute("src",GetThemedImageUrl("spcommon.png"));a.addCommunitiesCssClass("refreshIcon");a.addAttribute("alt",Strings.STS.L_SPDiscRefresh);a.addAttribute("title",Strings.STS.L_SPDiscRefresh);a.renderBeginTag("img");a.renderEndTag();a.renderEndTag();a.addCssClass("ms-clear");a.renderBeginTag("div");a.renderEndTag();a.renderEndTag()},getNewPostUrl:function(){ULS06I:;var a=this.context.listUrlDir+"/NewForm.aspx",b=window.self.ajaxNavigate;a=SP.ScriptHelpers.replaceOrAddQueryString(a,"Source",b.get_href());return a},onClickNewPostLink:function(){},populateSortFilterItemList:function(){ULS06I:;for(var d=[new SP.UI.Discussions.QueryOverrideItem(this.context,Strings.STS.L_SPDiscSortMostRecent,""),new SP.UI.Discussions.QueryOverrideItem(this.context,Strings.STS.L_SPDiscSortUnanswered,'<Query><OrderBy UseIndexForOrderBy="TRUE" Override="TRUE"/><Where><Eq><FieldRef Name="IsAnswered"/><Value Type="Integer">0</Value></Eq></Where></Query>'),new SP.UI.Discussions.QueryOverrideItem(this.context,Strings.STS.L_SPDiscSortAnswered,'<Query><OrderBy UseIndexForOrderBy="TRUE" Override="TRUE"/><Where><Eq><FieldRef Name="IsAnswered"/><Value Type="Integer">1</Value></Eq></Where></Query>'),new SP.UI.Discussions.QueryOverrideItem(this.context,Strings.STS.L_SPDiscFilterFeatured,'<Query><OrderBy UseIndexForOrderBy="TRUE" Override="TRUE"/><Where><Eq><FieldRef Name="IsFeatured"></FieldRef><Value Type="Integer">1</Value></Eq></Where></Query>')],b=d,c=b.length,a=0;a<c;++a){var e=b[a];this.sortFilterPickerControl.addItem(e)}!SP.UI.Discussions.Helpers.isAnonymousAccess(this.context)&&this.sortFilterPickerControl.insertItem(1,new SP.UI.Discussions.QueryOverrideItem(this.context,Strings.STS.L_SPDiscSortMyPosts,'<Query><OrderBy UseIndexForOrderBy="TRUE" Override="TRUE"/><Where><Eq><FieldRef Name="Author"/><Value Type="Integer"><UserID Type="Integer"/></Value></Eq></Where></Query>'))},$2U_0:function(a){ULS06I:;a.preventDefault();SP.UI.Discussions.Helpers.refreshCurrentPage(this.context)}};SP.UI.Discussions.Helpers=function(){};SP.UI.Discussions.Helpers.authorFieldRenderCallback=function(a){ULS06I:;return a.authorRenderCallbackDetail};SP.UI.Discussions.Helpers.doesSchemaContainField=function(b,a){ULS06I:;return!!SP.ScriptHelpers.getFieldFromSchema(b,a)};SP.UI.Discussions.Helpers.$1e=function(c,b){ULS06I:;var a=c.forumViewState;if(a.get_activeElement())try{a.get_activeElement().blur()}catch(d){}b.focus();a.set_activeElement(b)};SP.UI.Discussions.Helpers.setUserFieldProperty=function(f,c,b,a){ULS06I:;var d=f[c],e=d[0];e[b]=a};SP.UI.Discussions.Helpers.getDocumentUrlWithoutFilters=function(g){ULS06I:;var a=document.URL,e=a.indexOf("?");if(e!==-1)a=a.substr(0,e);var c=g;for(var d in c){var f={key:d,value:c[d]},b=f.key,h=f.value;if(!b.startsWith("FilterField")&&!b.startsWith("FilterValue")&&b!=="SortField"&&b!=="SortDir")a=SP.ScriptHelpers.replaceOrAddQueryString(a,b,h)}a=RemoveOnlyPagingArgs(a);return a};SP.UI.Discussions.Helpers.$2H=function(a,b){ULS06I:;return $get(SP.UI.Discussions.Helpers.$J(a,b))};SP.UI.Discussions.Helpers.$J=function(a,b){ULS06I:;return"forum"+a+"-"+b};SP.UI.Discussions.Helpers.getFolderUrl=function(a){ULS06I:;var b=[];FolderUrl(a.CurrentItem,a.ListSchema,b);return b.join("")};SP.UI.Discussions.Helpers.getListFilterOverrides=function(b){ULS06I:;for(var c=new Array(0),a=1;a<256;a++){var f="FilterField"+a.toString(),g="FilterValue"+a.toString(),d=b[f],e=b[g];if(SP.UI.Discussions.Helpers.isNullOrUndefined(d)||SP.UI.Discussions.Helpers.isNullOrUndefined(e))break;else Array.add(c,new SP.UI.Discussions.FilterOverride(d,e))}return c};SP.UI.Discussions.Helpers.getListSortOverride=function(a){ULS06I:;var b=null,c=a.SortField,d=a.SortDir;if(!SP.UI.Discussions.Helpers.isNullOrUndefined(c)&&!SP.UI.Discussions.Helpers.isNullOrUndefined(d))b=new SP.UI.Discussions.SortOverride(c,d);return b};SP.UI.Discussions.Helpers.$1f=function(f,g){ULS06I:;for(var b=null,c=f.forumViewState.$6_0,a=0,e=c.length;a<e;a++){var d=c[a];if(d.jsonItem.ID===g){b=d;break}}return b};SP.UI.Discussions.Helpers.$2M=function(b){ULS06I:;var a=b.clvp;return a.RefreshCurrent()};SP.UI.Discussions.Helpers.$U=function(f){ULS06I:;for(var b=null,c=f.forumViewState.$6_0,a=0,e=c.length;a<e;a++){var d=c[a];if(d.$4_0){b=d;break}}return b};SP.UI.Discussions.Helpers.$1g=function(m,i){ULS06I:;var f=null;if(!SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(i)){for(var a="<View><ViewFields>",g=["ID","PermMask","Created","Modified","Title","FSObjType","ContentTypeId","FileRef"],d=g,j=d.length,b=0;b<j;++b){var l=d[b];a+='<FieldRef Name="'+l+'"/>'}for(var e=m.ListSchema.Field,k=e.length,c=0;c<k;++c){var h=e[c];if(!Array.contains(g,h.Name))a+='<FieldRef Name="'+h.Name+'"/>'}a+="</ViewFields>";a+=i;a+="</View>";f=a}return f};SP.UI.Discussions.Helpers.$L=function(a){ULS06I:;return a.BaseViewID===3||a.BaseViewID===7};SP.UI.Discussions.Helpers.isNullOrUndefined=function(a){ULS06I:;var b=null;return a===b||typeof a==="undefined"};SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty=function(b){ULS06I:;var c=null,a=b;return a===c||typeof a==="undefined"||!b.length};SP.UI.Discussions.Helpers.refreshCurrentPage=function(a){ULS06I:;var b=SP.ScriptHelpers.getDocumentQueryPairs();if(!SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(b.CategoryID)){var c=window.self.ajaxNavigate;SubmitFormPost(c.get_href())}else a.forumViewState.$m_0(0)};SP.UI.Discussions.Helpers.checkForImageAndRemoveHtml=function(a,c){ULS06I:;var d=new RegExp("<img[^>]+>","g");c.val=a.search(d)!==-1;if(c.val)a=a.replace(d,"");var b=document.createElement("div");b.innerHTML=a;SP.ScriptHelpers.removeStyleChildren(b);return GetInnerText(b)};SP.UI.Discussions.Helpers.sendRefreshRequest=function(b,e){ULS06I:;var a=new XMLHttpRequest,c="",d=GetUrlKeyValue("RootFolder",true,b);if(d.length>0){c=c+"&InplRootFolder="+d;b=RemoveUrlKeyValue("RootFolder",b)}a.open("POST",b,true);a.setRequestHeader("Content-Type","application/x-www-form-urlencoded");a.onreadystatechange=e;a.send(c);return a};SP.UI.Discussions.Helpers.showScriptError=function(a){ULS06I:;alert(a)};SP.UI.Discussions.Helpers.$n=function(){ULS06I:;typeof ProcessImn==="function"&&ProcessImn()};SP.UI.Discussions.Helpers.parseDateIso8601=function(a){ULS06I:;return Date.parseInvariant(a.replace("T"," "))};SP.UI.Discussions.Helpers.isAnonymousAccess=function(a){ULS06I:;return SP.UI.Discussions.Helpers.isNullOrUndefined(a.CurrentUserId)||a.CurrentUserId===-1};SP.UI.Discussions.FilterOverride=function(b,a){ULS06I:;this.$e_0=b;this.$1d_0=a};SP.UI.Discussions.FilterOverride.prototype={$e_0:null,$1d_0:null,get_fieldName:function(){ULS06I:;return this.$e_0},get_fieldValue:function(){ULS06I:;return this.$1d_0}};SP.UI.Discussions.SortOverride=function(b,a){ULS06I:;this.$e_0=b;this.$1A_0=a};SP.UI.Discussions.SortOverride.prototype={$e_0:null,$1A_0:null,get_direction:function(){ULS06I:;return this.$1A_0},get_fieldName:function(){ULS06I:;return this.$e_0}};SP.UI.Discussions.ManagementViewRenderer=function(a,b){ULS06I:;this.$$d_$1l_0=Function.createDelegate(this,this.$1l_0);this.$v_0=a;this.$T_0=b};SP.UI.Discussions.ManagementViewRenderer.prototype={$T_0:0,$v_0:0,createRenderingContextOverrides:function(){ULS06I:;var a=new ListContext;a.BaseViewID=this.$T_0;a.ListTemplateType=this.$v_0;a.OnPreRender=this.$$d_$1l_0;return a},$1l_0:function(b){ULS06I:;for(var e=SP.UI.Discussions.Helpers.doesSchemaContainField(b.ListSchema,"Title")||SP.UI.Discussions.Helpers.doesSchemaContainField(b.ListSchema,"LinkTitle"),f=SP.UI.Discussions.Helpers.doesSchemaContainField(b.ListSchema,"Body"),d=b.ListData.Row,c=0;c<d.length;c++){var a=d[c];if(a.FSObjType==="0"&&e)a.Title=Strings.STS.L_SPDiscReply;if(f){var g=a.Body;a.Body=STSHtmlEncode(SP.ScriptHelpers.removeHtmlAndTrimStringWithEllipsis(g,180))}}}};SP.UI.Discussions.PostBehavior=function(c,a){ULS06I:;this.$$d_$2P_0=Function.createDelegate(this,this.$2P_0);this.$$d_$2Q_0=Function.createDelegate(this,this.$2Q_0);this.$$d_$2S_0=Function.createDelegate(this,this.$2S_0);this.$$d_$2R_0=Function.createDelegate(this,this.$2R_0);this.$$d_$2Y_0=Function.createDelegate(this,this.$2Y_0);this.$$d_$2q_0=Function.createDelegate(this,this.$2q_0);this.$$d_$2X_0=Function.createDelegate(this,this.$2X_0);this.$$d_$2g_0=Function.createDelegate(this,this.$2g_0);this.$0_0=c;this.jsonItem=a;this.$4_0=a.FSObjType==="1";if(!SP.UI.Discussions.Helpers.$L(this.$0_0)){this.commandBar=new SP.UI.CommandBar;this.populateCommandBar()}this.$1q_0=SP.UI.Discussions.PostBehavior.$K;SP.UI.Discussions.PostBehavior.$K++;this.$9_0=new SP.UI.Discussions.ReplyBoxControl(this,null,true,false,false);this.$9_0.$h_0=true;this.$9_0.$W_0=this.$$d_$2g_0;this.$Q_0=new SP.UI.Discussions.ReplyBoxControl(this,null,false,true,true);this.$Q_0.$h_0=true;this.$Q_0.$W_0=this.$$d_$2X_0;if(this.$4_0){var d=SP.ScriptHelpers.getDocumentQueryPairs(),b=d.PageFirstRow;if(!SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(b)){var e=Number.parseInvariant(b);if(e>1)this.$t_0=true}if(this.$0_0.ListData.Row.length>1){this.repliesSortPicker=new SP.UI.Discussions.SortFilterPickerControl;this.repliesSortPicker.$14_0=true;this.populateRepliesSortPicker()}}this.$R_0=[]};SP.UI.Discussions.PostBehavior.prototype={commandBar:null,jsonItem:null,repliesSortPicker:null,$4_0:false,$k_0:false,$0_0:null,$9_0:null,$Q_0:null,$D_0:null,$P_0:null,$t_0:false,$i_0:false,$1I_0:false,$y_0:0,$1q_0:0,$R_0:null,get_context:function(){ULS06I:;return this.$0_0},get_commandBar:function(){ULS06I:;return this.commandBar},get_bestResponseIsVisible:function(){ULS06I:;return this.$4_0&&!this.get_$B_0()&&!SP.UI.Discussions.Helpers.$L(this.$0_0)&&SP.UI.Discussions.Helpers.doesSchemaContainField(this.$0_0.ListSchema,"BestAnswerId")&&!SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(this.jsonItem.BestAnswerId)},get_itemID:function(){ULS06I:;return this.jsonItem.ID},get_$1k_0:function(){ULS06I:;return this.$k_0},set_$1k_0:function(a){ULS06I:;if(this.$k_0!==a){this.$k_0=a;this.$1Y_0()}return a},get_isRenderedByRootPost:function(){ULS06I:;var a=false,b=SP.UI.Discussions.Helpers.$U(this.$0_0);if(!SP.UI.Discussions.Helpers.isNullOrUndefined(b))if(b.$D_0===this)a=true;return a},get_isRoot:function(){ULS06I:;return this.$4_0},get_jsonItem:function(){ULS06I:;return this.jsonItem},get_rootElementID:function(){ULS06I:;return this.getPostElementID("Root")},get_topicListViewUrl:function(){ULS06I:;return this.$0_0.listUrlDir},get_topicLinkUrl:function(){ULS06I:;return SP.UI.Discussions.Helpers.getFolderUrl(this.$0_0)},get_$B_0:function(){ULS06I:;return this.$t_0},set_$B_0:function(a){ULS06I:;if(this.$t_0!==a){this.$t_0=a;a&&this.$9_0.$7_0&&this.$9_0.hide(false);this.$1Y_0()}return a},animateFadeIn:function(c){ULS06I:;var b=$get(this.get_rootElementID());if(!SP.UI.Discussions.Helpers.isNullOrUndefined(b)){SetOpacity(b,0);var a=this;window.setTimeout(function(){ULS06I:;SPAnimationUtility.BasicAnimator.FadeIn(b,null,null);if(a.$1I_0){var c=$get(a.getPostElementID("PopularityBar"));if(!SP.UI.Discussions.Helpers.isNullOrUndefined(c)){c.style.width="0px";SPAnimationUtility.BasicAnimator.Resize(c,null,a.$y_0,null,null)}a.$1I_0=false}},c)}},clone:function(){ULS06I:;var a=this.$0_0.forumViewState;return a.createPostBehavior(this.$0_0,this.jsonItem)},initialize:function(){ULS06I:;if(this.$i_0)return;if(!this.get_$B_0())this.commandBar&&this.commandBar.attachEvents();if(this.get_bestResponseIsVisible()){var c=this.jsonItem.BestAnswerId,a=SP.UI.Discussions.Helpers.$1f(this.$0_0,c);if(a)this.$D_0=a.clone();if(!this.$D_0)ExecuteOrDelayUntilScriptLoaded(this.$$d_$2q_0,"inplview.js");else this.$1R_0()}if(this.$4_0&&!SP.UI.Discussions.Helpers.$L(this.$0_0)){var b=$get(this.getPostElementID("Expander"));!SP.UI.Discussions.Helpers.isNullOrUndefined(b)&&$addHandler(b,"click",this.$$d_$2Y_0);this.repliesSortPicker&&this.repliesSortPicker.initialize()}this.$2D_0();if(this.$k_0){this.$Q_0.show(true);var d=SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(this.jsonItem.TrimmedBody)?"Body":"TrimmedBody";this.$Q_0.set_textValue(this.jsonItem[d])}this.$i_0=true},detachEvents:function(){},getPostElementID:function(a){ULS06I:;return SP.UI.Discussions.Helpers.$J(this.$0_0.forumViewState.$E_0,"Post"+this.$1q_0+"-"+a)},getBestResponsePostElementID:function(){ULS06I:;return SP.UI.Discussions.Helpers.$J(this.$0_0.forumViewState.$E_0,"Post-BestResponsePlaceHolder")},refresh:function(){ULS06I:;if(this.$4_0)SP.UI.Discussions.Helpers.refreshCurrentPage(this.$0_0);else this.$0_0.forumViewState.refreshSinglePost(this.get_itemID())},render:function(b,a){ULS06I:;this.$0_0.CurrentItem=this.jsonItem;if(SP.UI.Discussions.PostBehavior.DiscussionHelpers.$1O){SP.UI.Discussions.PostBehavior.DiscussionHelpers.$32();SP.UI.Discussions.PostBehavior.DiscussionHelpers.$1O=false}if(SP.UI.Discussions.Helpers.$L(this.$0_0))this.$2w_0(b,a);else this.$20_0(b,a)},transferState:function(b){ULS06I:;b.set_$B_0(this.get_$B_0());if(!this.get_$B_0()){if(!SP.UI.Discussions.Helpers.isNullOrUndefined(this.commandBar))for(var a=0,e=this.commandBar.get_commands().length;a<e&&a<this.commandBar.get_dropDownThreshold();a++){var c=this.commandBar.get_commands()[a],d=this.commandBar.findCommandByName(c.get_name());d&&c.transferState(d)}this.$9_0.transferState(b.$9_0)}},populateCommandBar:function(){ULS06I:;if(!SP.UI.Discussions.Helpers.isAnonymousAccess(this.$0_0)){var a=SP.ScriptHelpers.getListLevelPermissionMask(this.jsonItem),f=SP.ScriptHelpers.hasPermission(a,2),i=SP.ScriptHelpers.hasPermission(a,2048),b=SP.ScriptHelpers.hasPermission(a,256),d=SP.ScriptHelpers.hasPermission(a,4),g=SP.ScriptHelpers.hasPermission(a,8);f&&this.commandBar.addCommand(new SP.UI.Discussions.ReplyAction(this));(SP.ScriptHelpers.getUserFieldProperty(this.jsonItem,"Author","id")===this.$0_0.ListSchema.Userid&&d||b)&&this.commandBar.addCommand(new SP.UI.Discussions.EditAction(this));if(!this.$4_0){var c=SP.UI.Discussions.Helpers.$U(this.$0_0);if(!SP.UI.Discussions.Helpers.isNullOrUndefined(c)&&(SP.ScriptHelpers.getUserFieldProperty(c.jsonItem,"Author","id")===this.$0_0.ListSchema.Userid&&d||b)&&SP.UI.Discussions.Helpers.doesSchemaContainField(this.$0_0.ListSchema,"BestAnswerId")){var h=c.jsonItem.BestAnswerId===this.jsonItem.ID;this.commandBar.addCommand(new SP.UI.Discussions.SetBestResponseAction(this,h))}}else this.commandBar.addCommand(new SP.UI.Discussions.AlertMeAction(this));if(b&&this.$4_0){var e=this.jsonItem["IsFeatured.value"];!SP.UI.Discussions.Helpers.isNullOrUndefined(e)&&this.commandBar.addCommand(new SP.UI.Discussions.MarkAsFeaturedAction(this,e))}(SP.ScriptHelpers.getUserFieldProperty(this.jsonItem,"Author","id")===this.$0_0.ListSchema.Userid&&g||b)&&this.commandBar.addCommand(new SP.UI.Discussions.DeleteAction(this))}},populateRepliesSortPicker:function(){ULS06I:;for(var d=[new SP.UI.Discussions.ViewSwitchItem(this.$0_0,Strings.STS.L_SPDiscSortDatePosted,2,"Flat.aspx"),new SP.UI.Discussions.QueryOverrideItem(this.$0_0,Strings.STS.L_SPDiscSortNewest,'<Query><OrderBy><FieldRef Name="Created" Ascending="FALSE"></FieldRef></OrderBy></Query>')],b=d,c=b.length,a=0;a<c;++a){var e=b[a];this.repliesSortPicker.addItem(e)}},renderAuthorCardMetaData:function(){},renderRootPostMetaData:function(){},populateFolderMetalineItems:function(b){ULS06I:;Array.add(this.$R_0,this.$2I_0());if(b.renderDate){var a=this.$2J_0();!SP.ScriptHelpers.isNullOrUndefinedOrEmpty(a)&&Array.add(this.$R_0,a);Array.add(this.$R_0,this.$2K_0())}},insertFolderMetalineItem:function(b,a){ULS06I:;!SP.ScriptHelpers.isNullOrUndefinedOrEmpty(a)&&Array.insert(this.$R_0,b,a)},$2v_0:function(a,d){ULS06I:;this.populateFolderMetalineItems(d);a.addCssClass("ms-comm-metalineList ms-noList");a.renderBeginTag("ul");for(var b=0,c=this.$R_0.length;b<c;b++){b!==c-1&&a.addCssClass("ms-comm-metalineItemSeparator");a.addCssClass("ms-comm-metalineItem");a.renderBeginTag("li");a.write(this.$R_0[b]);a.renderEndTag()}a.renderEndTag()},$2K_0:function(){ULS06I:;var a=new SP.HtmlBuilder;a.renderBeginTag("span");if(SP.UI.Discussions.Helpers.doesSchemaContainField(this.$0_0.ListSchema,"LastReplyBy")&&!SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(this.jsonItem.LastReplyBy))a.write(spMgr.RenderFieldByName(this.$0_0,"DiscussionLastUpdated",this.jsonItem,this.$0_0.ListSchema));else a.write(spMgr.RenderFieldByName(this.$0_0,"Created",this.jsonItem,this.$0_0.ListSchema));a.renderEndTag();return a.toString()},$2J_0:function(){ULS06I:;var a=new SP.HtmlBuilder;if(SP.UI.Discussions.Helpers.doesSchemaContainField(this.$0_0.ListSchema,"LastReplyBy")&&!SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(this.jsonItem.LastReplyBy)){a.renderBeginTag("span");a.write(String.format(STSHtmlEncode(Strings.STS.L_SPDiscLastReply),spMgr.RenderFieldByName(this.$0_0,"LastReplyBy",this.jsonItem,this.$0_0.ListSchema)));a.renderEndTag()}return a.toString()},$2I_0:function(){ULS06I:;var a=new SP.HtmlBuilder,b=SP.ScriptHelpers.getFieldFromSchema(this.$0_0.ListSchema,"Author");if(!SP.UI.Discussions.Helpers.isNullOrUndefined(b)){b.WithPicture=0;b.WithPictureDetail=0;a.renderBeginTag("span");a.write(String.format(STSHtmlEncode(Strings.STS.L_SPDiscInitialPost),spMgr.RenderFieldByName(this.$0_0,"Author",this.jsonItem,this.$0_0.ListSchema)));a.renderEndTag()}return a.toString()},$2D_0:function(){ULS06I:;var b=$get(this.getPostElementID("ReplyToLink"));if(!SP.UI.Discussions.Helpers.isNullOrUndefined(b)){var a=this;EnsureScriptFunc("callout.js","CalloutManager",function(){ULS06I:;var d=new SP.HtmlBuilder;d.addAttribute("id",a.getPostElementID("ReplyToCalloutPlaceholder"));d.renderBeginTag("div");d.renderEndTag();var c=new CalloutOptions;c.content=d.toString();c.launchPoint=b;c.ID=a.getPostElementID("ReplyToCallout");c.onOpeningCallback=a.$$d_$2R_0;try{CalloutManager.createNew(c)}catch(e){}})}},$2s_0:function(b){ULS06I:;var a=SP.ScriptHelpers.getFieldFromSchema(this.$0_0.ListSchema,"Author");if(a){a.WithPictureDetail=0;a.PictureOnly=1;a.PictureSize="Size_48px";b.addCssClass("ms-comm-authorPicture");b.renderBeginTag("div");b.write(spMgr.RenderFieldByName(this.$0_0,"Author",this.jsonItem,this.$0_0.ListSchema));b.renderEndTag()}},$2t_0:function(b){ULS06I:;var a=SP.ScriptHelpers.getFieldFromSchema(this.$0_0.ListSchema,"Author");if(a){a.WithPictureDetail=0;a.PictureOnly=0;a.WithPicture=0;a.NameWithContactCard=1;(this.$4_0||this.get_isRenderedByRootPost())&&b.addCssClass("ms-textXLarge");b.addCssClass("ms-comm-authorTitle");b.renderBeginTag("div");b.write(spMgr.RenderFieldByName(this.$0_0,"Author",this.jsonItem,this.$0_0.ListSchema));b.renderEndTag()}},$20_0:function(a,b){ULS06I:;this.$0_0.CurrentItem=this.jsonItem;if(b.get_$s_0()){a.addCommunitiesCssClass("postListItem");if(this.$4_0)a.addCommunitiesCssClass("postRootContainer");else a.addCommunitiesCssClass("postReplyListItem");a.addAttribute("id",this.getPostElementID("Root"));a.renderBeginTag("li")}if(b.get_$1i_0()){a.addCommunitiesCssClass("postMainContainer");a.renderBeginTag("div")}if(this.$4_0){this.renderRootPostMetaData(a);a.addCommunitiesCssClass(this.get_$B_0()?"threadSubjectContainerCollapsed":"threadSubjectContainer");a.renderBeginTag("div");this.$21_0(a,false,b);if(b.get_$34_0()){a.addCssClass("ms-floatRight");a.addCommunitiesCssClass("postExpander");a.addAttribute("id",this.getPostElementID("Expander"));a.addAttribute("title",this.get_$B_0()?Strings.STS.L_SPDiscExpandPostAltText:Strings.STS.L_SPDiscCollapsePostAltText);a.addAttribute("href","javascript:;");a.renderBeginTag("a");a.addCssClass(this.get_$B_0()?"ms-comm-postExpanderExpandContainer":"ms-comm-postExpanderCollapseContainer");a.renderBeginTag("span");a.addAttribute("src",GetThemedImageUrl("spcommon.png"));a.addCssClass(this.get_$B_0()?"ms-comm-postExpanderExpand":"ms-comm-postExpanderCollapse");a.renderBeginTag("img");a.renderEndTag();a.renderEndTag();a.renderEndTag()}this.$1z_0(a,"ms-metadata ms-comm-statsInlineContainer","ms-comm-statsInline","ms-comm-reputationNumbers");a.renderEndTag()}if(!this.get_$B_0()){if(this.$4_0){a.addCssClass("ms-comm-rootBestBackground");a.addCssClass("ms-comm-rootPostContainer");a.renderBeginTag("div")}a.addCssClass("ms-table");a.renderBeginTag("div");a.addCssClass("ms-tableCell");a.renderBeginTag("div");this.$2s_0(a);a.renderEndTag();a.addCssClass("ms-verticalAlignTop");a.addCssClass("ms-tableCell");a.addCssClass("ms-fullWidth");a.renderBeginTag("div");this.$2t_0(a);this.renderAuthorCardMetaData(a);b.get_$31_0()&&this.$30_0(a);a.addAttribute("class","ms-core-defaultFont");a.renderBeginTag("div");this.$1t_0(a,false,b);this.$2z_0(a);b.get_$1w_0()&&this.$1w_0(a);a.renderEndTag();a.renderBeginTag("div");a.addCommunitiesCssClass("postReplyContainer");a.addAttribute("id",this.getPostElementID("ReplyContainer"));a.renderBeginTag("div");a.renderEndTag();a.renderEndTag();a.renderEndTag();a.renderEndTag();if(b.get_$1R_0()&&this.get_bestResponseIsVisible()){a.addCssClass("ms-comm-bestResponseDividerHr");a.renderBeginTag("hr");a.renderEndTag();a.addCommunitiesCssClass("bestResponseContainer");a.addCommunitiesCssClass("postMainContainer");a.addAttribute("id",this.getBestResponsePostElementID());a.renderBeginTag("div");a.addCssClass("ms-textLarge");a.addCommunitiesCssClass("bestPostHeader");a.renderBeginTag("div");a.addCommunitiesCssClass("bestResponseIcon-span");a.renderBeginTag("span");a.addAttribute("src",GetThemedImageUrl("spcommon.png"));a.addCommunitiesCssClass("bestResponseIcon");a.renderBeginTag("img");a.renderEndTag();a.renderEndTag();a.writeEncoded(Strings.STS.L_SPDiscBestHeader);a.renderEndTag();a.renderEndTag()}this.$4_0&&a.renderEndTag()}b.get_$1i_0()&&a.renderEndTag();if(b.get_$s_0()){a.renderEndTag();if(this.$4_0){a.addCssClass("ms-comm-allRepliesHeader");a.renderBeginTag("li");if(this.repliesSortPicker){var c=new SP.HtmlBuilder;c.addCssClass("ms-textLarge");c.renderBeginTag("span");c.writeEncoded(Strings.STS.L_SPDiscAllRepliesLabel);c.renderEndTag();a.addCommunitiesCssClass("replyHeader");a.renderBeginTag("div");a.write(c.toString());a.renderEndTag();this.repliesSortPicker.render(a)}a.renderEndTag()}}},$30_0:function(b){ULS06I:;var c=SP.UI.Discussions.Helpers.$U(this.$0_0);if(!this.$4_0&&!SP.UI.Discussions.Helpers.isNullOrUndefined(this.jsonItem.ParentItemEditor)&&!SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(this.jsonItem.ParentItemID)&&!SP.UI.Discussions.Helpers.isNullOrUndefined(c)&&this.jsonItem.ParentItemID!==c.get_itemID()){var d=Strings.STS.L_SPDiscRepliedToLabel,e=SP.ScriptHelpers.getUserFieldProperty(this.jsonItem,"ParentItemEditor","title"),a=new SP.HtmlBuilder;a.addAttribute("href","javascript:;");a.addAttribute("id",this.getPostElementID("ReplyToLink"));a.addCssClass("ms-bold");a.addCssClass("ms-subtleLink");a.renderBeginTag("a");a.writeEncoded(String.format(Strings.STS.L_SPDiscRepliedToLink,e));a.renderEndTag();b.addCssClass("ms-metadata");b.addCssClass("ms-textSmall");b.addCssClass("ms-comm-replyToLink");b.renderBeginTag("div");b.write(String.format(d,a.toString()));b.renderEndTag()}},$2w_0:function(a,b){ULS06I:;if(b.get_$s_0()){a.addCommunitiesCssClass("postListItem");a.addAttribute("id",this.getPostElementID("Root"));a.renderBeginTag("li")}a.addAttribute("title",STSHtmlEncode(this.jsonItem.Title));a.addCssClass("ms-accessible");a.renderBeginTag("div");a.renderEndTag();this.$2y_0(a);a.addCommunitiesCssClass("postMainContainer");a.addCommunitiesCssClass("postSubjectColumn");a.renderBeginTag("div");this.$21_0(a,true,b);this.$1t_0(a,true,b);a.addCssClass("ms-clear");a.renderBeginTag("div");a.renderEndTag();a.addCssClass("ms-metadata");a.renderBeginTag("div");this.$2v_0(a,b);a.renderEndTag();a.renderEndTag();b.get_$s_0()&&a.renderEndTag()},$2P_0:function(h,g){ULS06I:;for(var d=this.jsonItem.BestAnswerId,b=g.Row,a=0,e=b.length;a<e;a++){var c=b[a];if(c.ID===d){var f=this.$0_0.forumViewState;this.$D_0=f.createPostBehavior(this.$0_0,c);this.$1R_0()}}},$2Q_0:function(b,a){ULS06I:;SP.UI.Discussions.Helpers.showScriptError(a)},$2R_0:function(){ULS06I:;if(SP.UI.Discussions.Helpers.doesSchemaContainField(this.$0_0.ListSchema,"ParentItemID")&&!SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(this.jsonItem.ParentItemID)){var b=this.jsonItem.ParentItemID;if(!this.$P_0)this.$P_0=SP.UI.Discussions.Helpers.$1f(this.$0_0,b);if(!this.$P_0){var a=SP.UI.Discussions.AsyncRefreshRequest.createSingleItemRefreshRequest(this.$0_0,b);a.$G_0=this.$$d_$2S_0;a.$I_0=this.$$d_$2Q_0;a.start()}else this.$1u_0()}},$2S_0:function(h,g){ULS06I:;var d=this.jsonItem.ParentItemID,a=g.Row;if(!SP.UI.Discussions.Helpers.isNullOrUndefined(a))for(var b=0,e=a.length;b<e;b++){var c=a[b];if(c.ID===d){var f=this.$0_0.forumViewState;this.$P_0=f.createPostBehavior(this.$0_0,c);this.$1u_0();break}}},$2q_0:function(){ULS06I:;var b=this.jsonItem.BestAnswerId,a=SP.UI.Discussions.AsyncRefreshRequest.createSingleItemRefreshRequest(this.$0_0,b);a.$G_0=this.$$d_$2P_0;a.$I_0=this.$$d_$2Q_0;a.start()},$2z_0:function(a){ULS06I:;a.addCssClass("ms-metadata");a.addCssClass("ms-comm-cmdSpaceListItem");a.renderBeginTag("span");var b=spMgr.RenderFieldByName(this.$0_0,"Created",this.jsonItem,this.$0_0.ListSchema);a.write(b);a.renderEndTag()},$1t_0:function(a,i,g){ULS06I:;if(i){if(!SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(this.jsonItem.Body)){var c,d,e,b=(e=SP.UI.Discussions.Helpers.checkForImageAndRemoveHtml(this.jsonItem.Body,d={val:c}),c=d.val,e);b=b.trim();b=b.replace("\u200b","");a.renderBeginTag("div");if(c){a.addCommunitiesCssClass("postImageIcon-span");a.addCssClass("ms-floatLeft");a.renderBeginTag("span");a.addAttribute("src",GetThemedImageUrl("spcommon.png"));a.addCommunitiesCssClass("postImageIcon");a.addAttribute("alt",Strings.STS.L_SPDiscPostImageIndicatorAltText);a.addAttribute("title",Strings.STS.L_SPDiscPostImageIndicatorAltText);a.renderBeginTag("img");a.renderEndTag();a.renderEndTag()}if(!SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(b)){a.addCssClass(g.folderBodyWrapStyle);a.addCommunitiesCssClass("postBody");a.renderBeginTag("div");a.writeEncoded(b);a.renderEndTag()}a.renderEndTag()}}else{a.addCssClass("ms-forceWrap");a.addCommunitiesCssClass("postBodyThreaded");g.get_$2p_0()&&a.addCommunitiesCssClass("postBodyOverflow");if(this.$4_0||this.get_isRenderedByRootPost())a.addCssClass("ms-textLarge");else{a.addCommunitiesCssClass("postReplyBody");a.addCssClass("ms-textSmall")}a.renderBeginTag("div");if(this.$k_0){a.addCommunitiesCssClass("postReplyContainer");a.addAttribute("id",this.getPostElementID("EditContainer"));a.renderBeginTag("div");a.renderEndTag()}else{var h=SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(this.jsonItem.TrimmedBody)?"Body":"TrimmedBody";a.write(spMgr.RenderFieldByName(this.$0_0,h,this.jsonItem,this.$0_0.ListSchema))}var f=this.jsonItem.Attachments;if(!SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(f)&&f!=="0"){a.renderBeginTag("div");a.addAttribute("src",GetThemedImageUrl("attach16.png"));a.renderBeginTag("img");a.renderEndTag();SP.UI.Discussions.PostBehavior.$Z++;a.addAttribute("id","discAttachmentLink"+SP.UI.Discussions.PostBehavior.$Z);a.addCssClass("ms-secondaryCommandLink");a.addCssClass("ms-verticalAlignTop");a.addAttribute("href",this.$0_0.displayFormUrl+"&SearchRedirect=0&ID="+this.jsonItem.ID);a.renderBeginTag("a");a.renderEndTag();a.renderEndTag()}a.renderEndTag()}},$21_0:function(a,b,c){ULS06I:;if(this.$4_0){if(b){a.addAttribute("href",this.get_topicLinkUrl());a.renderBeginTag("a");a.addCssClass(c.folderTitleStyle)}else{a.addCssClass("ms-accentText");a.addCssClass("ms-textXLarge")}a.renderBeginTag(b?"span":"div");a.writeEncoded(this.jsonItem.Title);a.renderEndTag();b&&a.renderEndTag()}},showReplyBox:function(){ULS06I:;if(!this.$9_0.$7_0){for(var b=this.$0_0.forumViewState.$6_0,a=0,d=b.length;a<d;a++){var c=b[a];c.$9_0.$7_0&&c.$9_0.hide(true)}this.$9_0.show(true)}},$2X_0:function(b){ULS06I:;var a=this.commandBar.findCommandByName("edit");a&&a.set_isEnabled(!b.$7_0);!b.$7_0&&this.set_$1k_0(false)},$2Y_0:function(a){ULS06I:;a.preventDefault();this.set_$B_0(!this.get_$B_0())},$2g_0:function(b){ULS06I:;var a=this.commandBar.findCommandByName("reply");a&&a.set_isEnabled(!b.$7_0)},$1R_0:function(){ULS06I:;var a=new SP.HtmlBuilder;this.$0_0.CurrentItem=this.$D_0.jsonItem;this.$D_0.$20_0(a,new SP.UI.Discussions.PostBehavior.RenderOptions(false,false,true,true,true,true,true));var b=$get(this.getBestResponsePostElementID());if(!SP.UI.Discussions.Helpers.isNullOrUndefined(b)){b.innerHTML+=a.toString();this.$0_0.forumViewState.addNewPost(this.$D_0);this.$D_0.initialize();SP.UI.Discussions.Helpers.$n()}},$1u_0:function(){ULS06I:;var a=new SP.HtmlBuilder;if(this.$P_0){this.$0_0.CurrentItem=this.$P_0.jsonItem;this.$P_0.render(a,new SP.UI.Discussions.PostBehavior.RenderOptions(false,true,false,false,true,true,true))}var b=$get(this.getPostElementID("ReplyToCalloutPlaceholder"));if(!SP.UI.Discussions.Helpers.isNullOrUndefined(b)){b.innerHTML+=a.toString();SP.UI.Discussions.Helpers.$n()}},$1w_0:function(a){ULS06I:;this.commandBar.render(a)},$2y_0:function(a){ULS06I:;if(!SP.UI.Discussions.Helpers.doesSchemaContainField(this.$0_0.ListSchema,"Popularity")||!SP.UI.Discussions.Helpers.doesSchemaContainField(this.$0_0.ListSchema,"DescendantLikesCount")||!SP.UI.Discussions.Helpers.doesSchemaContainField(this.$0_0.ListSchema,"DescendantRatingsCount"))return;if(this.$0_0.BaseViewID===7)return;a.addCommunitiesCssClass("popularityBarContainer");a.renderBeginTag("div");var c="",d=this.jsonItem.ItemChildCount;if(SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(d))d="0";c+=String.format(SP.Utilities.LocUtility.getLocalizedCountValue(Strings.STS.L_SPDiscNumberOfReplies,Strings.STS.L_SPDiscNumberOfRepliesIntervals,Number.parseLocale(d)),d);c+=" ";var b="";if(SP.UI.Discussions.Helpers.doesSchemaContainField(this.$0_0.ListSchema,"AverageRating")){b=this.jsonItem.DescendantRatingsCount;if(SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(b))b="0";c+=String.format(SP.Utilities.LocUtility.getLocalizedCountValue(Strings.STS.L_SPDiscNumberOfRatings,Strings.STS.L_SPDiscNumberOfRatingsIntervals,Number.parseLocale(b)),b);c+=" "}else if(SP.UI.Discussions.Helpers.doesSchemaContainField(this.$0_0.ListSchema,"LikesCount")){b=this.jsonItem.DescendantLikesCount;if(SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(b))b="0";c+=String.format(SP.Utilities.LocUtility.getLocalizedCountValue(Strings.STS.L_SPDiscNumberOfLikes,Strings.STS.L_SPDiscNumberOfLikesIntervals,Number.parseLocale(b)),b);c+=" "}var h=!SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(this.jsonItem.BestAnswerId);if(h)c+=Strings.STS.L_SPDiscPopularityBestResponse;a.addAttribute("title",c);a.addCssClass("ms-accessible");a.renderBeginTag("div");a.renderEndTag();var e=this.$2L_0(Number.parseInvariant(d),Number.parseInvariant(b),h?1:0);if(isNaN(e))e=0;var f=0;if(e>50)f=50*1+(e-50)*.5;else f=e*1;f=Math.min(f,100);var j=Math.max(2,f);this.$y_0=j/100*90;this.$1I_0=true;a.addCommunitiesCssClass("popularityBar");a.addAttribute("id",this.getPostElementID("PopularityBar"));a.addAttribute("style","width: "+this.$y_0+"px; ");a.renderBeginTag("span");a.addCssClass("ms-positionAbsolute");a.addAttribute("src",SP.UI.Discussions.PostBehavior.ImageUrls.$1M);a.renderBeginTag("img");a.renderEndTag();a.renderEndTag();a.addCommunitiesCssClass("popularityBarShadow");a.addAttribute("style","width: "+(90-this.$y_0)+"px;");a.renderBeginTag("span");a.addCssClass("ms-positionAbsolute");a.addAttribute("src",SP.UI.Discussions.PostBehavior.ImageUrls.$1N);a.renderBeginTag("img");a.renderEndTag();a.renderEndTag();var g=this.$0_0.ListSchema.Direction,i=!SP.ScriptHelpers.isNullOrUndefinedOrEmpty(g)&&(g.toUpperCase()==="RTL"||g.toUpperCase()==="LTR")?g:document.documentElement.dir,k=!SP.ScriptHelpers.isNullOrUndefinedOrEmpty(i)&&i.toUpperCase()==="RTL";a.addAttribute("style",k?"clear:right;":"clear:left;");a.renderBeginTag("div");a.renderEndTag();this.$1z_0(a,"ms-metadata","ms-comm-stats","ms-comm-reputationNumbers");a.renderEndTag()},$2L_0:function(a,b,c){ULS06I:;if(SP.UI.Discussions.Helpers.isNullOrUndefined(a)||isNaN(a))a=0;if(SP.UI.Discussions.Helpers.isNullOrUndefined(b)||isNaN(b))b=0;if(SP.UI.Discussions.Helpers.isNullOrUndefined(c)||isNaN(c))c=0;return a*5+b+c*10},$1z_0:function(a,h,e,f){ULS06I:;a.addCssClass(h);a.renderBeginTag("div");a.addCssClass(e);a.renderBeginTag("div");var c=this.jsonItem.ItemChildCount;if(SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(c))c="0";a.write(String.format(SP.Utilities.LocUtility.getLocalizedCountValue(Strings.STS.L_SPDiscNumberOfReplies,Strings.STS.L_SPDiscNumberOfRepliesIntervals,Number.parseLocale(c)),String.format('<span class="{0}">{1}</span>',f,c)));a.renderEndTag();a.addCssClass(e);a.renderBeginTag("div");var b="",d="";if(SP.UI.Discussions.Helpers.doesSchemaContainField(this.$0_0.ListSchema,"AverageRating")){b=this.jsonItem.DescendantRatingsCount;if(SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(b))b="0";d=SP.Utilities.LocUtility.getLocalizedCountValue(Strings.STS.L_SPDiscNumberOfRatings,Strings.STS.L_SPDiscNumberOfRatingsIntervals,Number.parseLocale(b))}else if(SP.UI.Discussions.Helpers.doesSchemaContainField(this.$0_0.ListSchema,"LikesCount")){b=this.jsonItem.DescendantLikesCount;if(SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(b))b="0";d=SP.Utilities.LocUtility.getLocalizedCountValue(Strings.STS.L_SPDiscNumberOfLikes,Strings.STS.L_SPDiscNumberOfLikesIntervals,Number.parseLocale(b))}a.write(String.format(d,String.format('<span class="{0}">{1}</span>',f,b)));a.renderEndTag();var g=!SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(this.jsonItem.BestAnswerId);if(g){a.addCssClass(e);a.renderBeginTag("div");a.addCommunitiesCssClass("bestResponseIcon-span");a.renderBeginTag("span");a.addAttribute("src",GetThemedImageUrl("spcommon.png"));a.addCommunitiesCssClass("bestResponseIcon");a.renderBeginTag("img");a.renderEndTag();a.renderEndTag();a.renderBeginTag("span");a.write(Strings.STS.L_SPDiscPopularityBestResponse);a.renderEndTag();a.renderEndTag()}a.renderEndTag()},$1Y_0:function(){ULS06I:;var a=null;if(!SP.UI.Discussions.Helpers.isNullOrUndefined(document.activeElement))a=document.activeElement.id;if(this.$D_0){this.$0_0.forumViewState.removePost(this.$D_0);this.$D_0=null}this.$Q_0.$7_0&&this.$Q_0.hide(false);this.$9_0.$7_0&&this.$9_0.hide(false);var b=new SP.HtmlBuilder;this.render(b,SP.UI.Discussions.PostBehavior.RenderOptions.get_$1a());var c=$get(this.get_rootElementID());if(this.get_isRenderedByRootPost())c=$get(this.getBestResponsePostElementID());c.innerHTML=b.toString();this.$i_0=false;this.initialize();SP.UI.Discussions.Helpers.$n();if(!SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(a)){var d=$get(a);!SP.UI.Discussions.Helpers.isNullOrUndefined(d)&&SP.UI.Discussions.Helpers.$1e(this.$0_0,d)}}};SP.UI.Discussions.PostBehavior.RenderOptions=function(c,b,e,f,g,a,d){ULS06I:;this.$1j_0=c;this.$1h_0=b;this.$1v_0=e;this.$1y_0=f;this.$1o_0=g;this.$23_0=a;this.$1s_0=d};SP.UI.Discussions.PostBehavior.RenderOptions.get_$27=function(){ULS06I:;return new SP.UI.Discussions.PostBehavior.RenderOptions(true,true,true,true,true,true,true)};SP.UI.Discussions.PostBehavior.RenderOptions.get_$1a=function(){ULS06I:;return new SP.UI.Discussions.PostBehavior.RenderOptions(false,true,true,true,true,true,true)};SP.UI.Discussions.PostBehavior.RenderOptions.prototype={$1j_0:false,$1h_0:false,$1v_0:false,$1y_0:false,$1o_0:false,$23_0:false,$1s_0:false,folderTitleStyle:null,folderBodyWrapStyle:null,renderDate:false,get_$s_0:function(){ULS06I:;return this.$1j_0},get_$1i_0:function(){ULS06I:;return this.$1h_0},get_$1w_0:function(){ULS06I:;return this.$1v_0},get_$31_0:function(){ULS06I:;return this.$1y_0},get_$2p_0:function(){ULS06I:;return this.$1o_0},get_$34_0:function(){ULS06I:;return this.$23_0},get_$1R_0:function(){ULS06I:;return this.$1s_0}};SP.UI.Discussions.PostBehavior.ImageUrls=function(){};SP.UI.Discussions.PostBehavior.DiscussionHelpers=function(){};SP.UI.Discussions.PostBehavior.DiscussionHelpers.$32=function(){ULS06I:;SP.UI.Discussions.PostBehavior.ImageUrls.$1M=GetThemedImageUrl("PopularityBar.png");SP.UI.Discussions.PostBehavior.ImageUrls.$1N=GetThemedImageUrl("PopularityBarShadow.png")};SP.UI.Discussions.PostAction=function(b,c,a){ULS06I:;SP.UI.Discussions.PostAction.initializeBase(this,[c,a]);this.$1_1=b};SP.UI.Discussions.PostAction.prototype={$1_1:null,get_owner:function(){ULS06I:;return this.$1_1},transferState:function(a){ULS06I:;this.get_linkElement()===this.$1_1.$0_0.forumViewState.get_activeElement()&&SP.UI.Discussions.Helpers.$1e(this.$1_1.$0_0,a.get_linkElement())}};SP.UI.Discussions.EditAction=function(a){ULS06I:;SP.UI.Discussions.EditAction.initializeBase(this,[a,"edit",Strings.STS.L_SPDiscEdit])};SP.UI.Discussions.EditAction.prototype={get_href:function(){ULS06I:;var a=SP.ScriptHelpers.replaceOrAddQueryString(this.$1_1.$0_0.editFormUrl,"ID",this.$1_1.jsonItem.ID),b=window.self.ajaxNavigate;a=SP.ScriptHelpers.replaceOrAddQueryString(a,"Source",b.get_href());return a},onClick:function(){ULS06I:;if(this.$1_1.$4_0)STSNavigate(this.get_href());else this.$1_1.set_$1k_0(true)}};SP.UI.Discussions.DeleteAction=function(a){ULS06I:;this.$$d_$2c_2=Function.createDelegate(this,this.$2c_2);this.$$d_$2d_2=Function.createDelegate(this,this.$2d_2);SP.UI.Discussions.DeleteAction.initializeBase(this,[a,"delete",Strings.STS.L_SPDiscDelete])};SP.UI.Discussions.DeleteAction.prototype={onClick:function(){ULS06I:;if(confirm(Strings.STS.L_SPDiscDeleteConfirm)){var a=SP.ClientContext.get_current(),c=a.get_web().get_lists().getById(new SP.Guid(this.$1_1.$0_0.listName)),b=c.getItemById(this.$1_1.jsonItem.ID);if(this.$1_1.$0_0.RecycleBinEnabled===1)b.recycle();else b.deleteObject();a.executeQueryAsync(this.$$d_$2d_2,this.$$d_$2c_2)}},$2d_2:function(){ULS06I:;if(this.$1_1.$4_0)STSNavigate(this.$1_1.get_topicListViewUrl());else SP.UI.Discussions.Helpers.refreshCurrentPage(this.$1_1.$0_0)},$2c_2:function(b,a){ULS06I:;SP.UI.Discussions.Helpers.showScriptError(a.get_message())}};SP.UI.Discussions.ReplyAction=function(a){ULS06I:;SP.UI.Discussions.ReplyAction.initializeBase(this,[a,"reply",Strings.STS.L_SPDiscReply])};SP.UI.Discussions.ReplyAction.prototype={onClick:function(){ULS06I:;this.$1_1.showReplyBox()}};SP.UI.Discussions.AlertMeAction=function(a){ULS06I:;SP.UI.Discussions.AlertMeAction.initializeBase(this,[a,"alertMe",Strings.STS.L_Subscribe_Text])};SP.UI.Discussions.AlertMeAction.prototype={onClick:function(){ULS06I:;var b=window.self.ajaxNavigate,a="ID="+escapeProperlyCore(""+this.$1_1.get_itemID(),false)+"&List="+this.$1_1.$0_0.listName;NavigateToSubNewAspx(this.$1_1.$0_0.HttpRoot,a)}};SP.UI.Discussions.SetBestResponseAction=function(b,a){ULS06I:;this.$$d_$1K_2=Function.createDelegate(this,this.$1K_2);this.$$d_$1m_2=Function.createDelegate(this,this.$1m_2);SP.UI.Discussions.SetBestResponseAction.initializeBase(this,[b,"best",a?Strings.STS.L_SPDiscBestUndo:Strings.STS.L_SPDiscBest]);this.$1X_2=a};SP.UI.Discussions.SetBestResponseAction.prototype={$1X_2:false,get_tooltip:function(){ULS06I:;return this.$1X_2?Strings.STS.L_SPDiscBestUndoTooltip:Strings.STS.L_SPDiscBestTooltip},onClick:function(){ULS06I:;var b=SP.UI.Discussions.Helpers.$U(this.$1_1.$0_0);if(b){var d=b.get_itemID(),c=new SP.ClientContext,e=c.get_web().get_lists().getById(new SP.Guid(this.$1_1.$0_0.listName)),a=e.getItemById(d);if(this.$1X_2)a.set_item("BestAnswerId",null);else a.set_item("BestAnswerId",this.$1_1.get_itemID());a.update();c.executeQueryAsync(this.$$d_$1m_2,this.$$d_$1K_2);this.set_isEnabled(false)}},$1m_2:function(){ULS06I:;SP.UI.Discussions.Helpers.refreshCurrentPage(this.$1_1.$0_0);this.set_isEnabled(true)},$1K_2:function(b,a){ULS06I:;SP.UI.Discussions.Helpers.showScriptError(a.get_message());this.set_isEnabled(true)}};SP.UI.Discussions.MarkAsFeaturedAction=function(b,a){ULS06I:;this.$$d_$1K_2=Function.createDelegate(this,this.$1K_2);this.$$d_$1m_2=Function.createDelegate(this,this.$1m_2);SP.UI.Discussions.MarkAsFeaturedAction.initializeBase(this,[b,"best",a==="1"?Strings.STS.L_SPDiscUnmarkAsFeatured:Strings.STS.L_SPDiscMarkAsFeatured]);this.$1G_2=a};SP.UI.Discussions.MarkAsFeaturedAction.prototype={$1G_2:null,get_tooltip:function(){ULS06I:;return this.$1G_2==="1"?Strings.STS.L_SPDiscUnmarkAsFeaturedTooltip:Strings.STS.L_SPDiscMarkAsFeaturedTooltip},onClick:function(){ULS06I:;var a=SP.ClientContext.get_current(),b=this.$1_1.$0_0.listName,c=this.$1_1.get_itemID().toString();if(this.$1G_2==="1")SP.Utilities.Utility.unmarkDiscussionAsFeatured(a,b,c);else SP.Utilities.Utility.markDiscussionAsFeatured(a,b,c);a.executeQueryAsync(this.$$d_$1m_2,this.$$d_$1K_2);this.set_isEnabled(false)},$1m_2:function(){ULS06I:;SP.UI.Discussions.Helpers.refreshCurrentPage(this.$1_1.$0_0);this.set_isEnabled(true)},$1K_2:function(b,a){ULS06I:;SP.UI.Discussions.Helpers.showScriptError(a.get_message());this.set_isEnabled(true)}};SP.UI.Discussions.ReplyBoxControl=function(a,b,c,d,e){ULS06I:;this.$$d_$2n_0=Function.createDelegate(this,this.$2n_0);this.$$d_$2o_0=Function.createDelegate(this,this.$2o_0);this.$$d_$2h_0=Function.createDelegate(this,this.$2h_0);this.$$d_$2i_0=Function.createDelegate(this,this.$2i_0);this.$$d_$2j_0=Function.createDelegate(this,this.$2j_0);this.$$d_$2l_0=Function.createDelegate(this,this.$2l_0);this.$$d_$2k_0=Function.createDelegate(this,this.$2k_0);this.$1_0=a;this.$1L_0=b;this.$Y_0=c;this.$S_0=d;this.$d_0=e;this.$1V_0=this.$$d_$2k_0;this.$1W_0=this.$$d_$2l_0;this.$1U_0=this.$$d_$2j_0;this.$1T_0=this.$$d_$2i_0;this.$18_0=this.$$d_$2h_0};SP.UI.Discussions.ReplyBoxControl.prototype={$1_0:null,$1L_0:null,$Y_0:false,$S_0:false,$h_0:false,$d_0:false,$7_0:false,$H_0:false,$16_0:false,$l_0:null,$W_0:null,$12_0:null,$10_0:null,$p_0:null,$a_0:null,$1V_0:null,$1W_0:null,$1U_0:null,$1T_0:null,$18_0:null,get_allowCollapse:function(){ULS06I:;return this.$Y_0},get_allowCancel:function(){ULS06I:;return this.$S_0},get_hideOnSubmit:function(){ULS06I:;return this.$h_0},set_hideOnSubmit:function(a){ULS06I:;this.$h_0=a;return a},get_isVisible:function(){ULS06I:;return this.$7_0},get_visibilityChanged:function(){ULS06I:;return this.$W_0},set_visibilityChanged:function(a){ULS06I:;this.$W_0=a;return a},get_$17_0:function(){ULS06I:;if(!this.$p_0)this.$p_0=$get(this.$8_0("ReplyCancel"));return this.$p_0},get_$3_0:function(){ULS06I:;if(!this.$a_0||!this.$a_0.parentNode)this.$a_0=$get(this.$8_0(this.$d_0?"EditContainer":"ReplyContainer"));return this.$a_0},get_$j_0:function(){ULS06I:;return this.$16_0},set_$j_0:function(a){ULS06I:;if(this.$16_0!==a){this.$16_0=a;this.$36_0();this.$13_0()}return a},get_$1S_0:function(){ULS06I:;if(!this.$10_0)this.$10_0=$get(this.$8_0("ReplySubmit"));return this.$10_0},get_$2_0:function(){ULS06I:;if(!this.$12_0)this.$12_0=$get(this.$8_0("RichTextArea"));return this.$12_0},get_textValue:function(){ULS06I:;return this.$2N_0()},set_textValue:function(a){ULS06I:;this.get_$2_0().innerHTML=a;this.$13_0();return a},hide:function(a){ULS06I:;if(this.$7_0){this.get_$2_0().blur();RTE.Canvas.makeRegionUnEditable(this.get_$2_0());this.$2E_0();this.$1r_0();this.$7_0=false;a&&this.$29_0();this.$1n_0()}},show:function(b){ULS06I:;RegisterSod("SP.UI.RTE.js","_layouts/15/SP.UI.RTE.js");var a=this;EnsureScriptFunc("SP.UI.RTE.js","RTE",function(){ULS06I:;if(!a.$7_0){var c=a.get_$3_0();c.style.width="";c.style.height="";c.innerHTML=a.$2r_0(b);a.$2O_0();a.$2B_0();if(b){RTE.Canvas.setInitialFocus();a.$H_0=true}else if(!a.$Y_0)a.$H_0=true;a.$7_0=true;a.$13_0();a.$o_0(false);a.$28_0();a.$1n_0()}})},transferState:function(a){ULS06I:;if(this.$7_0){a.show(false);a.$H_0=this.$H_0;a.set_textValue(this.get_textValue());a.$o_0(false)}},$28_0:function(){ULS06I:;if(!SP.UI.Discussions.Helpers.isNullOrUndefined(this.get_$3_0())){var c=this.get_$3_0().offsetHeight,b=this.get_$3_0().offsetWidth;this.get_$3_0().style.height="0px";this.get_$3_0().style.width=b+"px";this.get_$3_0().style.overflow="hidden";SetOpacity(this.get_$3_0(),0);var a=this;SPAnimationUtility.BasicAnimator.Resize(this.get_$3_0(),c,b,function(){ULS06I:;a.get_$3_0().style.height="";a.get_$3_0().style.width="";a.get_$3_0().style.overflow="";SPAnimationUtility.BasicAnimator.FadeIn(a.get_$3_0(),function(){ULS06I:;RTE.Canvas.setInitialFocus()},null)},null)}},$29_0:function(){ULS06I:;if(!SP.UI.Discussions.Helpers.isNullOrUndefined(this.get_$3_0())){var c=this.get_$3_0().offsetHeight,b=this.get_$3_0().offsetWidth,a=this;SPAnimationUtility.BasicAnimator.FadeOut(this.get_$3_0(),function(){ULS06I:;a.get_$3_0().style.height=c+"px";a.get_$3_0().style.width=b+"px";a.get_$3_0().innerHTML=null;SPAnimationUtility.BasicAnimator.Resize(a.get_$3_0(),0,b,null,null)},null)}},$2B_0:function(){ULS06I:;RTE.CanvasEvents.registerListener(RTE.CanvasEvents.editableRegionChangedEvent,this.$1V_0);$addHandler(this.get_$2_0(),"focus",this.$1W_0);RTE.CanvasEvents.registerListener(RTE.CanvasEvents.editableRegionBlurEvent,this.$1U_0);$addHandler(this.get_$1S_0(),"click",this.$1T_0);this.$S_0&&$addHandler(this.get_$17_0(),"click",this.$18_0)},$2C_0:function(a,c){ULS06I:;a.addAttribute("dir",STSHtmlEncode(this.$1_0.$0_0.ListSchema.Direction));a.renderBeginTag("span");a.addCssClass("ms-rtestate-field");a.renderBeginTag("div");var b=c?2:0;a.addCssClass("ms-rtestate-write");a.addCssClass("ms-rteflags-"+b.toString());a.addCssClass("ms-fullWidth");a.addCssClass("ms-inputBox");!this.$d_0&&a.addCssClass("ms-textSmall");a.addCommunitiesCssClass("postReplyTextBox");a.addAttribute("id",this.$8_0("RichTextArea"));a.addAttribute("contentEditable","true");a.renderBeginTag("div");a.renderEndTag();a.addCssClass("ms-clear");a.renderBeginTag("div");a.renderEndTag();a.addAttribute("dir","ltr");a.addCssClass("ms-hidden");a.renderBeginTag("span");a.addAttribute("type","hidden");a.addAttribute("id",this.$8_0("RichHiddenInput"));a.renderBeginTag("input");a.renderEndTag();a.renderEndTag();a.renderEndTag();a.renderEndTag()},$2E_0:function(){ULS06I:;RTE.CanvasEvents.unRegisterListener(RTE.CanvasEvents.editableRegionChangedEvent,this.$1V_0);$removeHandler(this.get_$2_0(),"focus",this.$1W_0);RTE.CanvasEvents.unRegisterListener(RTE.CanvasEvents.editableRegionBlurEvent,this.$1U_0);$removeHandler(this.get_$1S_0(),"click",this.$1T_0);this.$S_0&&$removeHandler(this.get_$17_0(),"click",this.$18_0)},$8_0:function(b){ULS06I:;var a;if(!this.$1L_0)a=this.$1_0.getPostElementID(b);else a=SP.UI.Discussions.Helpers.$J(this.$1_0.$0_0.forumViewState.$E_0,this.$1L_0+"-"+b);return a},$2N_0:function(){ULS06I:;var a="",d=this.$8_0("RichTextArea"),b=$get(d);if(!SP.UI.Discussions.Helpers.isNullOrUndefined(b)){var e=this.$8_0("RichHiddenInput");b.InputFieldId=e}RTE.RichTextEditor.transferContentsToInputField(this.$8_0("RichTextArea"),false);var c=$get(this.$8_0("RichHiddenInput"));if(!SP.UI.Discussions.Helpers.isNullOrUndefined(c))a=c.value;return a},$2O_0:function(){ULS06I:;var b=this.$8_0("RichTextArea"),a=$get(b);if(!SP.UI.Discussions.Helpers.isNullOrUndefined(a)){a.AllowEmbedding="True";RTE.Canvas.fixRegion(b);var c=this.$8_0("RichHiddenInput"),d=$get(c);if(!SP.UI.Discussions.Helpers.isNullOrUndefined(d)){a.InputFieldId=c;d.value=a.innerHTML}}},$2h_0:function(a){ULS06I:;a.preventDefault();this.hide(false)},$2i_0:function(f){ULS06I:;f.preventDefault();var a=SP.ClientContext.get_current(),d=a.get_web().get_lists().getById(new SP.Guid(this.$1_0.$0_0.listName)),b=d.getItemById(this.$1_0.jsonItem.ID);if(this.$d_0){b.set_item("Body",this.get_textValue());b.update()}else{var c=SP.Utilities.Utility.createNewDiscussionReply(a,b),e="Body";c.set_item(e,this.get_textValue());c.update()}this.$l_0=SP.UI.Notify.addNotification(Strings.STS.L_Loading_Text,false);this.set_$j_0(true);a.executeQueryAsync(this.$$d_$2o_0,this.$$d_$2n_0)},$2k_0:function(){ULS06I:;if(SP.ScriptHelpers.removeHtml(this.get_textValue())!==Strings.STS.L_SPDiscReplyPlaceholder){this.$H_0=true;this.$13_0()}},$2l_0:function(){ULS06I:;this.$H_0=true;this.$o_0(true)},$2j_0:function(){ULS06I:;if(document.activeElement!==this.get_$2_0()&&this.$7_0){if(this.$Y_0&&!this.get_textValue().length)this.$H_0=false;this.$o_0(true)}},$2o_0:function(){ULS06I:;RTE.Canvas.revertWikiRegion(this.$8_0("RichTextArea"));this.$h_0&&this.hide(false);if(this.$Y_0&&this.$7_0){this.$H_0=false;this.set_textValue("");this.$o_0(true)}this.set_$j_0(false);SP.UI.Discussions.Helpers.refreshCurrentPage(this.$1_0.$0_0);!SP.ScriptHelpers.isNullOrUndefinedOrEmpty(this.$l_0)&&SP.UI.Notify.removeNotification(this.$l_0)},$2n_0:function(b,a){ULS06I:;SP.UI.Discussions.Helpers.showScriptError(a.get_message());this.set_$j_0(false);!SP.ScriptHelpers.isNullOrUndefinedOrEmpty(this.$l_0)&&SP.UI.Notify.removeNotification(this.$l_0)},$1n_0:function(){ULS06I:;this.$W_0&&this.$W_0(this)},$1r_0:function(){ULS06I:;this.$p_0=null;this.$a_0=null;this.$10_0=null;this.$12_0=null},$2r_0:function(c){ULS06I:;var a=new SP.HtmlBuilder;this.$1r_0();this.$2C_0(a,c);a.renderBeginTag("div");a.addCommunitiesCssClass("postReplyButtonContainer");a.renderBeginTag("div");var b=this.$d_0?Strings.STS.L_SPDiscSubmitEditButton:Strings.STS.L_SPDiscSubmitReplyButton;a.addCssClass("ms-floatRight");a.addCssClass("ms-button-emphasize");a.addCommunitiesCssClass("postReplyButton");a.addAttribute("id",this.$8_0("ReplySubmit"));a.addAttribute("title",b);a.renderBeginTag("button");a.writeEncoded(b);a.renderEndTag();if(this.$S_0){a.addCommunitiesCssClass("postReplyButton");a.addAttribute("id",this.$8_0("ReplyCancel"));a.addAttribute("title",Strings.STS.L_SPDiscCancelReplyButton);a.renderBeginTag("button");a.writeEncoded(Strings.STS.L_SPDiscCancelReplyButton);a.renderEndTag()}a.renderEndTag();a.addCssClass("ms-clear");a.renderBeginTag("div");a.renderEndTag();a.renderEndTag();return a.toString()},$36_0:function(){ULS06I:;if(this.$7_0&&this.$S_0)this.get_$17_0().disabled=this.get_$j_0()},$13_0:function(){ULS06I:;if(this.$7_0)this.get_$1S_0().disabled=!(this.get_textValue().length>0)||SP.ScriptHelpers.removeHtml(this.get_textValue())===Strings.STS.L_SPDiscReplyPlaceholder||!this.$H_0||this.get_$j_0()},$o_0:function(f){ULS06I:;var c=this.get_textValue(),a=74;if(this.$H_0){if(SP.ScriptHelpers.removeHtml(c)===Strings.STS.L_SPDiscReplyPlaceholder){this.get_$2_0().innerHTML="";CSSUtil.RemoveClass(this.get_$2_0(),"ms-metadata");if(!SP.UI.Discussions.Helpers.isNullOrUndefined(this.get_$2_0())){RTE.Cursor.get_range().moveToStartOfNode(this.get_$2_0());RTE.Cursor.update()}}}else if(SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(c)){this.get_$2_0().innerHTML=Strings.STS.L_SPDiscReplyPlaceholder;a=27;CSSUtil.AddClass(this.get_$2_0(),"ms-metadata")}if(f){var d=this.get_$2_0().style.minHeight,e=this.get_$2_0().offsetWidth;if(d!==a+"px"){this.get_$2_0().style.height=d;this.get_$2_0().style.width=e+"px";this.get_$2_0().style.minHeight="";var b=this;SPAnimationUtility.BasicAnimator.QuickResize(this.get_$2_0(),a,e,function(){ULS06I:;b.get_$2_0().style.height="";b.get_$2_0().style.width="";b.get_$2_0().style.minHeight=a+"px"},null)}}else this.get_$2_0().style.minHeight=a+"px"}};SP.UI.Discussions.SortFilterPickerControl=function(){ULS06I:;this.$$d_$2W_0=Function.createDelegate(this,this.$2W_0);this.$V_0=0;this.$C_0=[];this.$1B_0=false;this.$5_0="SortList"+SP.UI.Discussions.SortFilterPickerControl.$K;SP.UI.Discussions.SortFilterPickerControl.$1D[this.$5_0]=this;SP.UI.Discussions.SortFilterPickerControl.$K++};SP.UI.Discussions.SortFilterPickerControl.onMenuItemClick=function(b,c){ULS06I:;var a=SP.UI.Discussions.SortFilterPickerControl.$1D[b];if(!SP.UI.Discussions.Helpers.isNullOrUndefined(a)){var d=a.$C_0[c];d.onClick()}};SP.UI.Discussions.SortFilterPickerControl.prototype={$C_0:null,$V_0:0,$14_0:false,$1B_0:false,$r_0:null,$x_0:null,$5_0:null,get_useSmallHeading:function(){ULS06I:;return this.$14_0},set_useSmallHeading:function(a){ULS06I:;this.$14_0=a;return a},get_renderMode:function(){ULS06I:;return this.$V_0},set_renderMode:function(a){ULS06I:;this.$V_0=a;return a},addItem:function(a){ULS06I:;Array.add(this.$C_0,a);a.$1_0=this},clearSelection:function(){ULS06I:;for(var a=0,b=this.$C_0.length;a<b;a++){var c=this.$C_0[a];c.$M_0=false}},initialize:function(){ULS06I:;if(!this.$V_0){this.$x_0=new ClientPivotControl;this.$x_0.PivotParentId=this.$5_0;for(var a=0,c=this.$C_0.length;a<c;a++){var d=this.$C_0[a];this.$x_0.AddMenuOption(d.$2G_0())}this.$x_0.Render()}else if(this.$V_0===1){var b=$get(this.$5_0);!SP.UI.Discussions.Helpers.isNullOrUndefined(b)&&$addHandler(b,"click",this.$$d_$2W_0)}},insertItem:function(b,a){ULS06I:;Array.insert(this.$C_0,b,a);a.$1_0=this},render:function(a){ULS06I:;this.$1x_0(a,true)},update:function(){ULS06I:;var a=$get(this.$5_0);if(!SP.UI.Discussions.Helpers.isNullOrUndefined(a)){var b=new SP.HtmlBuilder;this.$1x_0(b,false);a.innerHTML=b.toString();this.initialize()}},$2F_0:function(){ULS06I:;if(!this.$r_0){this.$r_0=SP.UI.Menu.create(this.$5_0+"-menu");for(var a=0,b=this.$C_0.length;a<b;a++){var c=this.$C_0[a];this.$r_0.addMenuItem(c.$c_0,"SP.UI.Discussions.SortFilterPickerControl.onMenuItemClick('"+this.$5_0+"',"+a+");",null,null,a,null,null)}}},$2W_0:function(b){ULS06I:;b.preventDefault();b.stopPropagation();var a=$get(this.$5_0);if(!SP.UI.Discussions.Helpers.isNullOrUndefined(a)){this.$2F_0();this.$r_0.show(a,false,false,-1)}},$2x_0:function(a){ULS06I:;a.addAttribute("id",this.$5_0);this.$1B_0&&a.addCssClass("ms-floatLeft");a.addCommunitiesCssClass("filterList");a.renderBeginTag("div");a.renderEndTag()},$1x_0:function(a){ULS06I:;switch(this.$V_0){case 0:this.$2x_0(a);break;case 1:this.$2u_0(a)}},$2u_0:function(a){ULS06I:;for(var i=this.$5_0,g=this.$5_0+"-topSpan",c=this.$5_0+"-menu",b=this.$5_0+"-link",d="",e=0,h=this.$C_0.length;e<h;e++){var f=this.$C_0[e];if(f.$M_0)d=f.$c_0}a.addAttribute("data-sp-cancelWPSelect","true");a.addAttribute("id",STSHtmlEncode(this.$5_0));a.addCssClass("ms-csrlistview-viewselectormenu");a.renderBeginTag("span");a.addAttribute("id",g);a.addAttribute("title",STSHtmlEncode(d));a.addAttribute("hoveractive","ms-menu-althov-active ms-core-form-heading");a.addAttribute("hoverinactive","ms-menu-althov");a.addAttribute("foa","MMU_GetMenuFromClient('"+STSHtmlEncode(b)+"')");a.addAttribute("onmouseover","MMU_PopMenuIfShowing(this); MMU_EcbTableMouseOverOut(this, true)");a.addAttribute("oncontextmenu","ClkElmt(this); return false;");a.addCssClass("ms-menu-althov");a.renderBeginTag("span");a.addAttribute("id",b);a.addAttribute("accesskey",STSHtmlEncode(Strings.STS.L_SelectBackColorKey_TEXT));a.addAttribute("href","javascript:;");a.addAttribute("oncontextmenu","ClkElmt(this); return false;");a.addAttribute("onfocus","MMU_EcbLinkOnFocusBlur(byid('"+c+"'), this, true);");a.addAttribute("onkeydown","MMU_EcbLinkOnKeyDown(byid('"+c+"'), MMU_GetMenuFromClientId('"+b+"'), event);");a.addAttribute("menutokenvalues","MENUCLIENTID="+b+",TEMPLATECLIENTID="+c);a.addAttribute("serverclientid",b);a.addCssClass("ms-menu-a");a.renderBeginTag("a");if(this.$14_0){a.addCssClass("ms-displayInline");a.renderBeginTag("h3")}else{a.addCssClass("ms-textXLarge");a.renderBeginTag("span")}a.writeEncoded(d);a.renderEndTag();a.renderEndTag();a.addAttribute("style","height:"+4+"px;width:"+7+"px;position:relative;display:inline-block;overflow:hidden;");a.addCssClass("s4-clust");a.addCssClass("ms-viewselector-arrow");a.addCssClass("ms-menu-stdarw");a.renderBeginTag("span");a.addAttribute("src","/_layouts/15/images/fgimg.png?rev=23");a.addAttribute("alt",STSHtmlEncode(Strings.STS.L_OpenMenu_Text));a.addAttribute("style","border-width:0px;position:absolute;left:-"+0+"px !important; top:-"+262+"px !important;");a.renderBeginTag("img");a.renderEndTag();a.renderEndTag();a.addAttribute("style","height:"+4+"px;width:"+7+"px;position:relative;display:inline-block;overflow:hidden;");a.addCssClass("s4-clust");a.addCssClass("ms-viewselector-arrow");a.addCssClass("ms-menu-hovarw");a.renderBeginTag("span");a.addAttribute("src","/_layouts/15/images/fgimg.png?rev=23");a.addAttribute("alt",STSHtmlEncode(Strings.STS.L_OpenMenu_Text));a.addAttribute("style","border-width:0px;position:absolute;left:-"+0+"px !important; top:-"+266+"px !important;");a.renderBeginTag("img");a.renderEndTag();a.renderEndTag();a.renderEndTag();a.renderEndTag()}};SP.UI.Discussions.SortFilterItem=function(b,a){ULS06I:;this.$$d_$2T_0=Function.createDelegate(this,this.$2T_0);this.$0_0=b;this.$c_0=a;this.$u_0="javascript:;";this.$M_0=false;this.$5_0="SortItem"+SP.UI.Discussions.SortFilterItem.$1C;SP.UI.Discussions.SortFilterItem.$1E[this.$5_0]=this;SP.UI.Discussions.SortFilterItem.$1C++};SP.UI.Discussions.SortFilterItem.onPivotControlMenuOptionClick=function(b){ULS06I:;var a=SP.UI.Discussions.SortFilterItem.$1E[b];!SP.ScriptHelpers.isNullOrUndefined(a)&&a.onClick()};SP.UI.Discussions.SortFilterItem.prototype={$0_0:null,$1_0:null,$M_0:false,$c_0:null,$u_0:null,$5_0:null,get_context:function(){ULS06I:;return this.$0_0},get_displayName:function(){ULS06I:;return this.$c_0},get_elementID:function(){ULS06I:;return this.$5_0},get_linkUrl:function(){ULS06I:;return this.$u_0},set_linkUrl:function(a){ULS06I:;this.$u_0=a;return a},get_isSelected:function(){ULS06I:;return this.$M_0},set_isSelected:function(a){ULS06I:;this.$M_0=a;return a},get_owner:function(){ULS06I:;return this.$1_0},set_owner:function(a){ULS06I:;this.$1_0=a;return a},attachEvents:function(){ULS06I:;var a=$get(this.$5_0);!SP.UI.Discussions.Helpers.isNullOrUndefined(a)&&$addHandler(a,"click",this.$$d_$2T_0)},onClick:function(){ULS06I:;STSNavigate(this.$u_0)},$2T_0:function(a){ULS06I:;a.preventDefault();this.onClick()},$2G_0:function(){ULS06I:;var a=new ClientPivotControlMenuOption;a.DisplayText=this.$c_0;a.SelectedOption=this.$M_0;a.OnClickAction="SP.UI.Discussions.SortFilterItem.onPivotControlMenuOptionClick('"+this.$5_0+"');";return a}};SP.UI.Discussions.ViewSwitchItem=function(a,c,b,d){ULS06I:;SP.UI.Discussions.ViewSwitchItem.initializeBase(this,[a,c]);this.$T_1=b;this.$25_1=d;this.$M_0=a.BaseViewID===b&&SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(a.overrideSelectCommand)};SP.UI.Discussions.ViewSwitchItem.prototype={$T_1:0,$25_1:null,onClick:function(){ULS06I:;this.$0_0.overrideSelectCommand=null;this.$0_0.forumViewState.switchToNewView(this.$T_1,this.$25_1)}};SP.UI.Discussions.QueryOverrideItem=function(a,c,b){ULS06I:;SP.UI.Discussions.QueryOverrideItem.initializeBase(this,[a,c]);this.$z_1=SP.UI.Discussions.Helpers.$1g(a,b);this.$M_0=a.overrideSelectCommand===this.$z_1;if(SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(a.overrideSelectCommand)&&SP.UI.Discussions.Helpers.isNullOrUndefinedOrEmpty(this.$z_1))this.$M_0=true};SP.UI.Discussions.QueryOverrideItem.prototype={$z_1:null,onClick:function(){ULS06I:;this.$0_0.overrideSelectCommand=this.$z_1;this.$0_0.forumViewState.$m_0(3)}};SP.UI.Discussions.OfficeVersion=function(){};SP.UI.Discussions.AsyncRefreshRequest.registerClass("SP.UI.Discussions.AsyncRefreshRequest");SP.UI.Discussions.ForumRenderer.registerClass("SP.UI.Discussions.ForumRenderer");SP.UI.Discussions.FeaturedDiscussionRenderer.registerClass("SP.UI.Discussions.FeaturedDiscussionRenderer",SP.UI.Discussions.ForumRenderer);SP.UI.Discussions.ForumViewState.registerClass("SP.UI.Discussions.ForumViewState");SP.UI.Discussions.ForumViewState.DeferredAnimatedRefreshHandler.registerClass("SP.UI.Discussions.ForumViewState.DeferredAnimatedRefreshHandler");SP.UI.Discussions.GlobalTemplateOverrides.registerClass("SP.UI.Discussions.GlobalTemplateOverrides");SP.UI.Discussions.HeaderBehavior.registerClass("SP.UI.Discussions.HeaderBehavior");SP.UI.Discussions.Helpers.registerClass("SP.UI.Discussions.Helpers");SP.UI.Discussions.FilterOverride.registerClass("SP.UI.Discussions.FilterOverride");SP.UI.Discussions.SortOverride.registerClass("SP.UI.Discussions.SortOverride");SP.UI.Discussions.ManagementViewRenderer.registerClass("SP.UI.Discussions.ManagementViewRenderer");SP.UI.Discussions.PostBehavior.registerClass("SP.UI.Discussions.PostBehavior");SP.UI.Discussions.PostBehavior.RenderOptions.registerClass("SP.UI.Discussions.PostBehavior.RenderOptions");SP.UI.Discussions.PostBehavior.ImageUrls.registerClass("SP.UI.Discussions.PostBehavior.ImageUrls");SP.UI.Discussions.PostBehavior.DiscussionHelpers.registerClass("SP.UI.Discussions.PostBehavior.DiscussionHelpers");SP.UI.Discussions.PostAction.registerClass("SP.UI.Discussions.PostAction",SP.UI.Command);SP.UI.Discussions.EditAction.registerClass("SP.UI.Discussions.EditAction",SP.UI.Discussions.PostAction);SP.UI.Discussions.DeleteAction.registerClass("SP.UI.Discussions.DeleteAction",SP.UI.Discussions.PostAction);SP.UI.Discussions.ReplyAction.registerClass("SP.UI.Discussions.ReplyAction",SP.UI.Discussions.PostAction);SP.UI.Discussions.AlertMeAction.registerClass("SP.UI.Discussions.AlertMeAction",SP.UI.Discussions.PostAction);SP.UI.Discussions.SetBestResponseAction.registerClass("SP.UI.Discussions.SetBestResponseAction",SP.UI.Discussions.PostAction);SP.UI.Discussions.MarkAsFeaturedAction.registerClass("SP.UI.Discussions.MarkAsFeaturedAction",SP.UI.Discussions.PostAction);SP.UI.Discussions.ReplyBoxControl.registerClass("SP.UI.Discussions.ReplyBoxControl");SP.UI.Discussions.SortFilterPickerControl.registerClass("SP.UI.Discussions.SortFilterPickerControl");SP.UI.Discussions.SortFilterItem.registerClass("SP.UI.Discussions.SortFilterItem");SP.UI.Discussions.ViewSwitchItem.registerClass("SP.UI.Discussions.ViewSwitchItem",SP.UI.Discussions.SortFilterItem);SP.UI.Discussions.QueryOverrideItem.registerClass("SP.UI.Discussions.QueryOverrideItem",SP.UI.Discussions.SortFilterItem);SP.UI.Discussions.OfficeVersion.registerClass("SP.UI.Discussions.OfficeVersion");function sp_ui_discussions_initialize(){ULS06I:;SP.UI.Discussions.AsyncRefreshRequest.$b=null;SP.UI.Discussions.ForumViewState.$K=0;SP.UI.Discussions.GlobalTemplateOverrides.$24=[2,3,7];SP.UI.Discussions.GlobalTemplateOverrides.$$cctor();SP.UI.Discussions.PostBehavior.$K=0;SP.UI.Discussions.PostBehavior.$Z=0;SP.UI.Discussions.PostBehavior.ImageUrls.$1M="";SP.UI.Discussions.PostBehavior.ImageUrls.$1N="";SP.UI.Discussions.PostBehavior.DiscussionHelpers.$1O=true;SP.UI.Discussions.SortFilterPickerControl.$K=0;SP.UI.Discussions.SortFilterPickerControl.$1D={};SP.UI.Discussions.SortFilterItem.$1C=1;SP.UI.Discussions.SortFilterItem.$1E={};SP.UI.Discussions.OfficeVersion.majorBuildVersion=15;SP.UI.Discussions.OfficeVersion.previousMajorBuildVersion=14;SP.UI.Discussions.OfficeVersion.majorVersion="15";SP.UI.Discussions.OfficeVersion.previousVersion="14";SP.UI.Discussions.OfficeVersion.majorVersionDotZero="15.0";SP.UI.Discussions.OfficeVersion.previousVersionDotZero="14.0";SP.UI.Discussions.OfficeVersion.assemblyVersion="15.0.0.0";SP.UI.Discussions.OfficeVersion.wssMajorVersion="4";SP.UI.Discussions.OfficeVersion.webServerExtensionsRegistryRoot="SOFTWARE\\Microsoft\\Shared Tools\\Web Server Extensions";SP.UI.Discussions.OfficeVersion.webServerExtensionsVersionRegistryRoot="SOFTWARE\\Microsoft\\Shared Tools\\Web Server Extensions\\15.0";SP.UI.Discussions.OfficeVersion.wssRegistryRoot="SOFTWARE\\Microsoft\\Shared Tools\\Web Server Extensions\\15.0\\WSS";SP.UI.Discussions.OfficeVersion.officeRegistryRoot="SOFTWARE\\Microsoft\\Office\\15.0";SP.UI.Discussions.OfficeVersion.mossRegistryRoot="SOFTWARE\\Microsoft\\Office Server\\15.0";SP.UI.Discussions.OfficeVersion.installedLanguagesPath="SOFTWARE\\Microsoft\\Office Server\\15.0\\InstalledLanguages";SP.UI.Discussions.OfficeVersion.skuRegistrationPath="SOFTWARE\\Microsoft\\Office\\15.0\\Registration";SP.UI.Discussions.OfficeVersion.publicKeyToken="71e9bce111e9429c";SP.UI.Discussions.OfficeVersion.assemblyFullyQualifiedName=", Version=15.0.0.0, Culture=neutral, PublicKeyToken=71e9bce111e9429c"}sp_ui_discussions_initialize();RegisterModuleInit("sp.ui.discussions.js",sp_ui_discussions_initialize);typeof Sys!="undefined"&&Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded();NotifyScriptLoadedAndExecuteWaitingJobs("sp.ui.discussions.js");
function $_global_autohostedlicensingtemplates(){(function(){a:;if(typeof window.AutohostedLicensingFieldTemplate=="object")return;window.AutohostedLicensingFieldTemplate={LoadingInProgress:false,RenderViewAutohostedLicensingField:function(a){if(a!=null&&a.CurrentItem!=null){var b="IsAutoHostedApp.value";return a.CurrentItem[b]==="0"?STSHtmlEncode(Strings.STS.L_AutoHostedAppLicensesNotApplicable):a.CurrentItem.AutohostedAppLicensingField}return""},RenderDisplayAutohostedLicensingField:function(c){var a=[];if(!window.AutohostedLicensingFieldTemplate.LoadingInProgress){window.AutohostedLicensingFieldTemplate.LoadingInProgress=true;var b=SPClientTemplates.Utility.GetFormContextForCurrentField(c);if(b==null||b.fieldSchema==null||b.fieldValue==null)return"";var d=b.fieldSchema.Direction,e=STSHtmlEncode(b.fieldValue);a.push('<span id="AutohostedLicensingFieldDisplayControl" class="ms-hide" ');if(d!=null&&d.toLowerCase()!="none"){a.push(' dir="');a.push(STSHtmlEncode(d));a.push('"')}a.push(">");a.push(e);a.push("</span>");var h=c.FormContext.webAttributes.WebUrl,g=c.FormContext.listAttributes.Id,f=c.FormContext.itemAttributes.Id;EnsureScriptFunc("SP.js","SP.ClientContext",function(){a:;var a=new SP.ClientContext(h),c=a.get_web().get_lists().getById(new SP.Guid(g)),b=c.getItemById(f);a.load(c);a.load(b,"AutohostedAppLicensingField","IsAutoHostedApp");a.executeQueryAsync(d,e);function d(){a:;var a=document.getElementById("AutohostedLicensingFieldDisplayControl"),c=b.get_fieldValues();if(!c.IsAutoHostedApp)a.innerHTML=STSHtmlEncode(Strings.STS.L_AutoHostedAppLicensesNotRequired);a.className="ms-displayInline";window.AutohostedLicensingFieldTemplate.LoadingInProgress=false}function e(){a:;var a=document.getElementById("AutohostedLicensingFieldDisplayControl");a.className="ms-displayInline";window.AutohostedLicensingFieldTemplate.LoadingInProgress=false}})}return a.join("")},RenderAutohostedLicensingField:function(b){var a=[];if(!window.AutohostedLicensingFieldTemplate.LoadingInProgress){window.AutohostedLicensingFieldTemplate.LoadingInProgress=true;var c=SPClientTemplates.Utility.GetFormContextForCurrentField(b);if(c==null||c.fieldSchema==null||c.fieldValue==null)return"";var d=c.fieldSchema.Direction;a.push('<div id="AutohostedLicensingFieldEditableControl" class="ms-hide">');a.push(SPFieldNumber_Edit(b));a.push("</div>");a.push('<span class="ms-metadata" id="AutohostedLicensingFieldStatusControl" ');if(d!=null&&d.toLowerCase()!="none"){a.push(' dir="');a.push(STSHtmlEncode(d));a.push('"')}a.push("/>");var g=b.FormContext.webAttributes.WebUrl,f=b.FormContext.listAttributes.Id,e=b.FormContext.itemAttributes.Id;EnsureScriptFunc("SP.js","SP.ClientContext",function(){a:;var a=new SP.ClientContext(g),c=a.get_web().get_lists().getById(new SP.Guid(f)),b=c.getItemById(e);a.load(c);a.load(b,"AutohostedAppLicensingField","IsAutoHostedApp");a.executeQueryAsync(d,h);function d(){a:;var a=document.getElementById("AutohostedLicensingFieldEditableControl"),c=document.getElementById("AutohostedLicensingFieldStatusControl"),d=b.get_fieldValues();if(d.IsAutoHostedApp){a.className="ms-displayInline";c.innerHTML=STSHtmlEncode(Strings.STS.L_AutoHostedAppLicensesRequired)}else{a.className="ms-hide";c.innerHTML=STSHtmlEncode(Strings.STS.L_AutoHostedAppLicensesNotRequired)}window.AutohostedLicensingFieldTemplate.LoadingInProgress=false}function h(){a:;var a=document.getElementById("AutohostedLicensingFieldEditableControl"),b=document.getElementById("AutohostedLicensingFieldStatusControl");a.className="ms-displayInline";b.innerHTML=STSHtmlEncode("");window.AutohostedLicensingFieldTemplate.LoadingInProgress=false}})}return a.join("")}};function a(){a:;var a={Templates:{Fields:{AutohostedAppLicensingField:{NewForm:window.AutohostedLicensingFieldTemplate.RenderAutohostedLicensingField,EditForm:window.AutohostedLicensingFieldTemplate.RenderAutohostedLicensingField,View:window.AutohostedLicensingFieldTemplate.RenderViewAutohostedLicensingField,DisplayForm:window.AutohostedLicensingFieldTemplate.RenderDisplayAutohostedLicensingField}}}};SPClientTemplates.TemplateManager.RegisterTemplateOverrides(a)}ExecuteOrDelayUntilScriptLoaded(a,"clienttemplates.js")})();window.AutohostedLicensingListHeaderControl={InsertListHeaderControl:function(b,a){var f=function(){a:;var c=b.imagesPath+"loadingcirclests16.gif";a.elem.innerHTML="<img src='"+c+"' onclick='this.style.visibility=\"hidden\";'/>"},e=document.getElementById("autoHostedAppLicensingListHeaderDiv_"+b.wpq);if(e==null){var d=document.getElementById("CSRListViewControlDiv"+b.wpq);if(d!==null){var c=document.createElement("div");c.id="autoHostedAppLicensingListHeaderDiv_"+b.wpq;c.className="ms-floatRight ms-verticalAlignMiddle";d.appendChild(c)}else return;a.elem=c}else a.elem=e;if(!a.loadInProgress){a.loadInProgress=true;EnsureScriptFunc("SP.js","SP.ClientContext",function(){a:;a.sodLoadingTimeout=window.setTimeout(f,500);var c=new SP.ClientContext(a.siteUrl),e=c.get_web().get_lists().getById(new SP.Guid(b.listName));c.load(e);var g=new SP.CamlQuery,j='<View><Query><Where><Gt><FieldRef Name="AutohostedAppLicensingField" /><Value Type="Integer">0</Value></Gt></Where></Query><ViewFields><FieldRef Name="AutohostedAppLicensingField"/></ViewFields><RowLimit Paged="TRUE">2147483647</RowLimit></View>';g.set_viewXml(j);var d=e.getItems(g);c.load(d);c.executeQueryAsync(h,i);function h(){a:;if(a.sodLoadingTimeout!=null){window.clearTimeout(a.sodLoadingTimeout);a.sodLoadingTimeout=null}a.elem.innerHTML="";for(var j=d.get_count(),e=0,g=0;g<j;g++){var k=d.itemAt(g),i=k.get_fieldValues();e+=i.AutohostedAppLicensingField}var b=[],c=e/a.totalSeats*100;if(c<0)c=0;else if(c>100)c=100;var f=String.format(Strings.STS.L_AutohosteAppLicensing_SeatsAvailable,e,a.totalSeats);b.push('<div class="ms-autohostedLicenseControl-wrapper">');b.push('<div id="licensesRemainingControl_');b.push(a.wpq);b.push('" class="ms-metadata" >');if(e>a.totalSeats){var h=String.format(Strings.STS.L_AutohosteAppLicensing_SeatsRequired,e-a.totalSeats);b.push(STSHtmlEncode(h))}else b.push(STSHtmlEncode(f));b.push("</div>");b.push('<div class="ms-autohostedLicenseResourceBarTableWrapper" >');b.push('<div class="ms-autohostedLicenseControl-resourceBarTableCellWrapper" >');b.push('<div class="ms-autohostedLicenseControl-resourceBarContainer ');if(c<=85){b.push(' ms-autohostedLicenseControl-resourceBarContainer-Normal" title="');b.push(STSHtmlEncode(f));b.push('" >');b.push('<div class="ms-autohostedLicenseControl-resourceBarNormal" alt="')}else{b.push(' ms-autohostedLicenseControl-resourceBarContainer-Warning" title=">');b.push(STSHtmlEncode(f));b.push('" >');b.push('<div class="ms-autohostedLicenseControl-resourceBarWarning" alt="')}b.push(c);b.push('" style="width: ');b.push(c);b.push('%;" >');b.push("</div>");b.push("</div>");b.push("</div>");b.push('<a href="#" class="ms-commandLink ms-autohostedLicenseControl-buyMoreStyle" onclick="window.AutohostedLicensingListHeaderControl.ShowBuyMoreDialog();return false;">');b.push(STSHtmlEncode(Strings.STS.L_AutohosteAppLicensing_BuyMore));b.push("</a>");b.push("</div>");b.push("</div>");a.elem.innerHTML=b.join("");a.loadInProgress=false}function i(){a:;if(a.sodLoadingTimeout!=null){window.clearTimeout(a.sodLoadingTimeout);a.sodLoadingTimeout=null}a.elem.innerHTML="";a.loadInProgress=false}})}},ShowBuyMoreDialog:function(){a:;var a=[];a.push('<span class="ms-csrformvalidation">');a.push(String.format(STSHtmlEncode(Strings.STS.L_AutoHostedLicensing_BuyMoreInBeta),"<br/>",'<a href="http://go.microsoft.com/fwlink/?LinkId=251475" target="_blank">',"</a>"));a.push("</span>");a.push('<div class="ms-core-form-bottomButtonBox" id="dlgDivButton">');a.push('<button id="ms-OKBtnDismissDlg" onclick="DismissErrDlg(this)">');a.push(STSHtmlEncode(SP.Res.okButtonCaption));a.push("</button></div>");var d=a.join(""),c=document.createElement("DIV");c.innerHTML=d;var e={html:c,title:Strings.STS.L_AutoHostedLicensing_BuyMoreInBetaTitle,dialogReturnValueCallback:function(){a:;STSNavigate(window.location.href)}},f=new SP.UI.ModalDialog.showModalDialog(e),b=document.getElementById("ms-OKBtnDismissDlg");b!=null&&b.focus()}};typeof Sys!="undefined"&&typeof Sys.Application!="undefined"&&typeof Sys.Application.notifyScriptLoaded!="undefined"&&Sys.Application.notifyScriptLoaded();typeof NotifyScriptLoadedAndExecuteWaitingJobs=="function"&&NotifyScriptLoadedAndExecuteWaitingJobs("autohostedlicensingtemplates.js")}function ULS647(){var a={};a.ULSTeamName="Microsoft SharePoint Foundation";a.ULSFileName="autohostedlicensingtemplates.commentedjs";return a}$_global_autohostedlicensingtemplates();
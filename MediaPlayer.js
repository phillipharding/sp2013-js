function $_global_mediaplayer(){if(!window.Silverlight)window.Silverlight={};Silverlight._silverlightCount=0;Silverlight.fwlinkRoot="http://go2.microsoft.com/fwlink/?LinkID=";Silverlight.onGetSilverlight=null;Silverlight.onSilverlightInstalled=function(){a:;window.location.reload(false)};ELEMENT_NODE_CONST=1;Silverlight.isInstalled=function(e){a:;var a=false,j=null;try{var i=null;try{i=new ActiveXObject("AgControl.AgControl");if(e==null)a=true;else if(i.IsVersionSupported(e))a=true;i=null}catch(l){var k=navigator.plugins["Silverlight Plug-In"];if(k)if(e===null)a=true;else{var h=k.description;if(h==="1.0.30226.2")h="2.0.30226.2";var b=h.split(".");while(b.length>3)b.pop();while(b.length<4)b.push(0);var d=e.split(".");while(d.length>4)d.pop();var c,g,f=0;do{c=parseInt(d[f]);g=parseInt(b[f]);f++}while(f<d.length&&c===g);if(c<=g&&!isNaN(c))a=true}}}catch(l){a=false}j&&document.body.removeChild(j);return a};Silverlight.WaitForInstallCompletion=function(){a:;if(!Silverlight.isBrowserRestartRequired&&Silverlight.onSilverlightInstalled){try{navigator.plugins.refresh()}catch(a){}if(Silverlight.isInstalled(null))Silverlight.onSilverlightInstalled();else setTimeout(Silverlight.WaitForInstallCompletion,3e3)}};Silverlight.__startup=function(){a:;Silverlight.isBrowserRestartRequired=Silverlight.isInstalled(null);!Silverlight.isBrowserRestartRequired&&Silverlight.WaitForInstallCompletion();if(window.removeEventListener)window.removeEventListener("load",Silverlight.__startup,false);else window.detachEvent("onload",Silverlight.__startup)};if(window.addEventListener)window.addEventListener("load",Silverlight.__startup,false);else window.attachEvent("onload",Silverlight.__startup);Silverlight.createObject=function(m,f,e,k,l,h,j){a:;var d={},a=k,c=l;d.version=a.version;a.source=m;d.alt=a.alt;if(h)a.initParams=h;if(a.isWindowless&&!a.windowless)a.windowless=a.isWindowless;if(a.framerate&&!a.maxFramerate)a.maxFramerate=a.framerate;if(e&&!a.id)a.id=e;delete a.ignoreBrowserVer;delete a.inplaceInstallPrompt;delete a.version;delete a.isWindowless;delete a.framerate;delete a.data;delete a.src;delete a.alt;if(Silverlight.isInstalled(d.version)){for(var b in c)if(c[b]){if(b=="onLoad"&&typeof c[b]=="function"&&c[b].length!=1){var i=c[b];c[b]=function(a){a:;return i(document.getElementById(e),j,a)}}var g=Silverlight.__getHandlerName(c[b]);if(g!=null){a[b]=g;c[b]=null}else throw"typeof events."+b+" must be 'function' or 'string'";}slPluginHTML=Silverlight.buildHTML(a)}else if(typeof g_AllowSilverlightPrompt!="undefined"&&!g_AllowSilverlightPrompt)slPluginHTML="";else slPluginHTML=Silverlight.buildPromptHTML(d);if(f)f.innerHTML=slPluginHTML;else return slPluginHTML};Silverlight.buildHTML=function(a){a:;var b=[];b.push('<object type="application/x-silverlight" data="data:application/x-silverlight,"');a.id!=null&&b.push(' id="'+a.id+'"');a.width!=null&&b.push(' width="'+a.width+'"');a.height!=null&&b.push(' height="'+a.height+'"');a.className!=null&&b.push(' class="'+a.className+'"');b.push(" >");delete a.id;delete a.width;delete a.height;for(var c in a)a[c]&&b.push('<param name="'+Silverlight.HtmlAttributeEncode(c)+'" value="'+Silverlight.HtmlAttributeEncode(a[c])+'" />');b.push("</object>");return b.join("")};Silverlight.createObjectEx=function(b){a:;var a=b,c=Silverlight.createObject(a.source,a.parentElement,a.id,a.properties,a.events,a.initParams,a.context);if(a.parentElement==null)return c};Silverlight.buildPromptHTML=function(b){a:;var a="",d=Silverlight.fwlinkRoot,c=b.version;if(b.alt)a=b.alt;else{if(!c)c="";a="<a href='javascript:Silverlight.getSilverlight(\"{1}\");' style='text-decoration: none;'><img src='{2}' alt='Get Microsoft Silverlight' style='border-style: none'/></a>";a=a.replace("{1}",c);a=a.replace("{2}",d+"108181")}return a};Silverlight.getSilverlight=function(e){a:;Silverlight.onGetSilverlight&&Silverlight.onGetSilverlight();var b="",a=String(e).split(".");if(a.length>1){var c=parseInt(a[0]);if(isNaN(c)||c<2)b="1.0";else b=a[0]+"."+a[1]}var d="";if(b.match(/^\d+\056\d+$/))d="&v="+b;Silverlight.followFWLink("114576"+d)};Silverlight.followFWLink=function(a){a:;top.location=Silverlight.fwlinkRoot+String(a)};Silverlight.HtmlAttributeEncode=function(c){a:;var a,b="";if(c==null)return null;for(var d=0;d<c.length;d++){a=c.charCodeAt(d);if(a>96&&a<123||a>64&&a<91||a>43&&a<58&&a!=47||a==95)b=b+String.fromCharCode(a);else b=b+"&#"+a+";"}return b};Silverlight.default_error_handler=function(e,b){a:;var d,c=b.ErrorType;d=b.ErrorCode;var a="\nSilverlight error message     \n";a+="ErrorCode: "+d+"\n";a+="ErrorType: "+c+"       \n";a+="Message: "+b.ErrorMessage+"     \n";if(c=="ParserError"){a+="XamlFile: "+b.xamlFile+"     \n";a+="Line: "+b.lineNumber+"     \n";a+="Position: "+b.charPosition+"     \n"}else if(c=="RuntimeError"){if(b.lineNumber!=0){a+="Line: "+b.lineNumber+"     \n";a+="Position: "+b.charPosition+"     \n"}a+="MethodName: "+b.methodName+"     \n"}alert(a)};Silverlight.__cleanup=function(){a:;for(var a=Silverlight._silverlightCount-1;a>=0;a--)window["__slEvent"+a]=null;Silverlight._silverlightCount=0;if(window.removeEventListener)window.removeEventListener("unload",Silverlight.__cleanup,false);else window.detachEvent("onunload",Silverlight.__cleanup)};Silverlight.__getHandlerName=function(b){a:;var a="";if(typeof b=="string")a=b;else if(typeof b=="function"){if(Silverlight._silverlightCount==0)if(window.addEventListener)window.addEventListener("onunload",Silverlight.__cleanup,false);else window.attachEvent("onunload",Silverlight.__cleanup);var c=Silverlight._silverlightCount++;a="__slEvent"+c;window[a]=b}else a=null;return a};if(!window.mediaPlayer)window.mediaPlayer={};if(!mediaPlayer.players)mediaPlayer.players={};mediaPlayer.onError=function(b,a){a:;alert("Error: "+a.errorMessage+" ("+a.errorType+")")};mediaPlayer.createMediaPlayer=function(k,f,h,g,a,y,s,p,o){a:;var j=a&&a.isSilverlightOnly||!document.createElement("VIDEO").canPlayType;if(!j){var e=document.createElement("DIV");addCssClass(e,ClassName_Container);k.appendChild(e);var b=document.createElement("VIDEO");addCssClass(b,ClassName_VideoObject);b.id=f;e.appendChild(b);k=b}var m=null;if(a){var q=[],l=["mediaSource","previewImageSource","templateSource","videoSetSource","mediaTitle","ownerTitleLink","ownerTitleLinkText","titleLink","renditions","openingMediaText","bufferingMediaText","mediaFailedText"];for(var i in a)if(a[i]){var d=a[i];if(typeof d=="object")d=Sys.Serialization.JavaScriptSerializer.serialize(d);var n=false;for(var B in l)if(l[B]===i){n=true;break}if(typeof d=="string"&&n)d=d.replace(/,/g,"%2C");q.push(i+"="+d)}m=q.join(",");if(!j){var c=Html5MediaPlayerInitString+"this",A=!isNullOrUndefined(a.mediaTitle)?a.mediaTitle:"";c+=","+("'"+A+"'");var z=!isNullOrUndefined(a.titleLink)?a.titleLink:"";c+=","+("'"+z+"'");var v=!isNullOrUndefined(a.showEmbedControl)&&!a.showEmbedControl?false:true;c+=","+v;var x=!isNullOrUndefined(a.videoSetSource)?a.videoSetSource:"";c+=","+("'"+x+"'");c+=",false,false,0";var u=isNullOrUndefined(a.embedModePreview)||!a.embedModePreview?false:true;c+=","+u;c+=");";b.setAttribute("onloadstart",c);a.autoPlay&&b.setAttribute("autoplay","");a.loop&&b.setAttribute("loop","");var w=!isNullOrUndefined(a.previewImageSource)&&a.previewImageSource!="";w&&b.setAttribute("poster",a.previewImageSource);h&&b.setAttribute("width",h);g&&b.setAttribute("height",g);if(a.isOverlayPlayer){showHideElement(e,false);addCssClass(e,ClassName_Overlay)}}}Silverlight.createObjectEx({source:s?s:"/_layouts/15/clientbin/mediaplayer.xap",parentElement:k,id:f,properties:{className:ClassName_VideoObject,version:"2.0",isWindowless:"true",background:"#80808080",enableHtmlAccess:"true",width:h?h:"1",height:g?g:"1"},events:{onload:function(){a:;var a=document.getElementById(f);mediaPlayer.players[f]=a;p&&p(a)},onresize:function(){a:;o&&o(document.getElementById(f))}},initParams:m,fallbackHTML:y});var t=a&&!isNullOrUndefined(a.mediaSource)&&!j;if(t){!a.autoPlay&&b.setAttribute("src",SrcNotLoadedValue);var r=null;if(a&&!isNullOrUndefined(a.mediaFileExtension))r=this.tryGetMimeTypeFromFileExtension(a.mediaFileExtension);mediaPlayer.addRendition(b,a.mediaSource,a.mediaTitle,r)}};ID_OverlayPlayer="ECM_Shared_MediaPlayer";ID_OverlayPlayerBackground="ECM_Shared_MediaPlayer_Background";g_overlayZIndex=null;g_overlaySource=null;g_reCreateOverlayAfterFallback=false;mediaPlayer.createOverlayPlayer=function(d,a){a:;if(!mediaPlayer.overlayPlayerLoading)mediaPlayer.overlayPlayerLoading=true;else return;if(!a)a={};a.isOverlayPlayer=true;a.autoPlay=false;a.loop=false;a.isSilverlightOnly=!document.createElement("VIDEO").canPlayType;if(typeof a.overlayZIndex=="number")g_overlayZIndex=a.overlayZIndex;g_overlaySource=d;if(!a.isSilverlightOnly){var b=document.createElement("DIV");b.id=ID_OverlayPlayerBackground;b.addEventListener("click",mediaPlayer.closeOverlayPlayer,false);showHideElement(b,false);document.body.appendChild(b)}var c=document.createElement("DIV");mediaPlayer.createMediaPlayer(c,ID_OverlayPlayer,null,null,a,null,d);document.body.appendChild(c)};mediaPlayer.getOverlayPlayer=function(){a:;var a=mediaPlayer.getOverlayPlayerElement();if(a!=null)return mediaPlayer.isPlayerHtml5(a)?a:a.Content.MediaPlayer};mediaPlayer.getOverlayPlayerElement=function(){a:;if(g_reCreateOverlayAfterFallback){g_reCreateOverlayAfterFallback=false;var a=document.getElementById(ID_OverlayPlayer);if(a==null)return null;removeElementFromParent(a.parentNode);playerParams={};if(g_overlayZIndex!=null)playerParams.overlayZIndex=g_overlayZIndex;mediaPlayer.overlayPlayerLoading=false;mediaPlayer.createOverlayPlayer(g_overlaySource,playerParams)}return document.getElementById(ID_OverlayPlayer)};mediaPlayer.closeOverlayPlayer=function(){a:;var a=mediaPlayer.getOverlayPlayerElement();if(mediaPlayer.isPlayerHtml5(a)){var b=a;mediaPlayer.performPlayBackAction(b,mediaPlayer.playBackActionNames.Stop);showHideElement(b.parentNode,false)}showHideElementById(ID_OverlayPlayerBackground,false);a.isViewEventLogged=false};mediaPlayer.attachToMediaLinks=function(f,a,h,g,i){a:;if(f!=null&&a!=null&&a.length>0){for(var b="\\.(",c=0;c<a.length;++c){if(c!=0)b+="|";b+=a[c]}b+=")$";for(var e=f.getElementsByTagName("a"),d=0;d<e.length;++d){var j=new RegExp(b);if(j.test(e[d].href))e[d].onclick=function(){a:;var a="";if(g)a=this.title;else if(this.textContent)a=this.textContent;else if(this.innerText)a=this.innerText;else a=this.title;mediaPlayer.onOverlayModePlay(h,this.href,a,i);return false}}}};mediaPlayer.onOverlayModePlay=function(d,f,e,a){a:;var b=mediaPlayer.getOverlayPlayerElement();d!=null&&mediaPlayer.setProperty(b,mediaPlayer.propertyNames.TemplateSource,d);mediaPlayer.setProperty(b,mediaPlayer.propertyNames.MediaSource,f);mediaPlayer.setProperty(b,mediaPlayer.propertyNames.MediaTitle,e);if(!isNullOrUndefined(a)&&a.isVideoSet){mediaPlayer.setProperty(b,mediaPlayer.propertyNames.VideoSetSource,a.navUrl);mediaPlayer.setProperty(b,mediaPlayer.propertyNames.TitleLink,a.navUrl);mediaPlayer.setProperty(b,mediaPlayer.propertyNames.ShowEmbedControl,a.showEmbdCntrl);a.alternateThumbnailUrl!=null&&a.alternateThumbnailUrl!=""&&mediaPlayer.setProperty(b,mediaPlayer.propertyNames.PreviewImageSource,a.alternateThumbnailUrl);!isNullOrUndefined(a.rendInfo)&&mediaPlayer.setProperty(b,mediaPlayer.propertyNames.Renditions,a.rendInfo)}var c=mediaPlayer.getOverlayPlayer();if(mediaPlayer.isPlayerHtml5(b)){showHideElementById(ID_OverlayPlayerBackground,true);showHideElement(c.parentNode,true);c.play()}else{c.DisplayMode="Overlay";c.Play()}};mediaPlayer.mediaMimeMap={aif:"audio/x-aiff",aifc:"audio/aiff",aiff:"audio/aiff",au:"audio/basic",m3u:"audio/x-mpegurl",mid:"audio/mid",midi:"audio/mid",mp3:"audio/mpeg",oga:"audio/ogg",ra:"audio/x-pn-realaudio",ram:"audio/x-pn-realaudio",rmi:"audio/mid",rpm:"audio/x-pn-realaudio-plugin",smd:"audio/x-smd",smx:"audio/x-smd",smz:"audio/x-smd",snd:"audio/basic",wav:"audio/wav",wax:"audio/x-ms-wax",wma:"audio/x-ms-wma",asf:"video/x-ms-asf",asr:"video/x-ms-asf",asx:"video/x-ms-asf",avi:"video/x-msvideo",flv:"video/x-flv",ivf:"video/x-ivf",lsf:"video/x-la-asf",lsx:"video/x-la-asf",m1v:"video/mpeg",mov:"video/quicktime",movie:"video/x-sgi-movie",mp2:"video/mpeg",mp4:"video/mp4",mpa:"video/mpeg",mpe:"video/mpeg",mpeg:"video/mpeg",mpg:"video/mpeg",mpv2:"video/mpeg",nsc:"video/x-ms-asf",ogv:"video/ogg",qt:"video/quicktime",webm:"video/webm",wm:"video/x-ms-wm",wmp:"video/x-ms-wmp",wmv:"video/x-ms-wmv",wmx:"video/x-ms-wmx",wvx:"video/x-ms-wvx"};mediaPlayer.tryGetMimeTypeFromFileExtension=function(b){a:;var a=this.mediaMimeMap[b];if(isNullOrUndefined(a))a="video/"+b;return a};mediaPlayer.isVideoFileExtension=function(b){a:;var a=this.tryGetMimeTypeFromFileExtension(b);return!isNullOrUndefined(a)&&a.indexOf("video")===0?true:false};mediaPlayer.propertyNames={MediaTitle:"MediaTitle",TemplateSource:"TemplateSource",MediaSource:"MediaSource",PreviewImageSource:"PreviewImageSource",AutoPlay:"AutoPlay",Loop:"Loop",InlineWidth:"InlineWidth",InlineHeight:"InlineHeight",ShowEmbedControl:"ShowEmbedControl",VideoSetSource:"VideoSetSource",Renditions:"Renditions",CurrentTimeSeconds:"CurrentTimeSeconds",IsPaused:"IsPaused",TitleLink:"TitleLink",DurationSeconds:"DurationSeconds",Ended:"Ended"};mediaPlayer.updateInputElement=function(a,b){a:;playerProperties={Title:mediaPlayer.getProperty(a,mediaPlayer.propertyNames.MediaTitle),TemplateSource:mediaPlayer.getProperty(a,mediaPlayer.propertyNames.TemplateSource),MediaSource:mediaPlayer.getProperty(a,mediaPlayer.propertyNames.MediaSource),PreviewImageSource:mediaPlayer.getProperty(a,mediaPlayer.propertyNames.PreviewImageSource),AutoPlay:mediaPlayer.getProperty(a,mediaPlayer.propertyNames.AutoPlay),Loop:mediaPlayer.getProperty(a,mediaPlayer.propertyNames.Loop),InlineWidth:mediaPlayer.getProperty(a,mediaPlayer.propertyNames.InlineWidth),InlineHeight:mediaPlayer.getProperty(a,mediaPlayer.propertyNames.InlineHeight),ShowEmbedControl:mediaPlayer.getProperty(a,mediaPlayer.propertyNames.ShowEmbedControl),VideoSetSource:mediaPlayer.getProperty(a,mediaPlayer.propertyNames.VideoSetSource),Renditions:mediaPlayer.getProperty(a,mediaPlayer.propertyNames.Renditions)};a.parentNode.parentNode.getElementsByTagName("input")[0].value=Sys.Serialization.JavaScriptSerializer.serialize(playerProperties);b&&__doPostBack("","")};mediaPlayer.isPlayerHtml5=function(a){a:;return a&&a.tagName=="VIDEO"};_canSupportHtml5VideoInitialized=false;_canSupportHtml5Video=false;mediaPlayer.canSupportHtml5Video=function(){a:;if(!_canSupportHtml5VideoInitialized){var a=document.createElement("VIDEO");_canSupportHtml5Video=a.canPlayType!=null}return _canSupportHtml5Video};mediaPlayer.resolvePlayer=function(a){a:;if(mediaPlayer.isPlayerHtml5(a)&&!mediaPlayer.canSupportHtml5Video())for(var c=0;c<a.parentNode.children.length;c++){var b=a.parentNode.children[c];if(b.nodeType===ELEMENT_NODE_CONST&&b.tagName==="OBJECT"){a=b;break}}return a};mediaPlayer.ensureCaptureControlStyles=function(a){a:;if(isNullOrUndefined(a))return;var b=document.getElementById(a+"Span"),c=document.getElementById(a+"Img");if(isNullOrUndefined(b)||isNullOrUndefined(c))return;switch(a){case"JumpBackButton":b.setAttribute("style","height:32px;width:32px;position:relative;display:inline-block;overflow:hidden;");c.setAttribute("style","left:-224px !important;top:-96px !important;position:absolute;");break;case"TakeSnapshotButton":b.setAttribute("style","height:32px;width:32px;position:relative;display:inline-block;overflow:hidden;");c.setAttribute("style","left:-224px !important;top:-64px !important;position:absolute;");break;case"JumpForwardButton":b.setAttribute("style","height:32px;width:32px;position:relative;display:inline-block;overflow:hidden;");c.setAttribute("style","left:-224px !important;top:-128px !important;position:absolute;")}};codecsRegEx=new RegExp("codecs=[\"|']([^\"|']*)[\"|']","gi");mediaPlayer.getProperty=function(a,c){a:;if(!a||!c)return null;var b=mediaPlayer.isPlayerHtml5(a);if(!b&&typeof a.Content=="undefined")return null;switch(c){case mediaPlayer.propertyNames.MediaTitle:return b?a.getAttribute("data-mediaTitle"):a.Content.MediaPlayer[c];case mediaPlayer.propertyNames.TemplateSource:return b?"":a.Content.MediaPlayer[c];case mediaPlayer.propertyNames.MediaSource:if(b){var j=null;if(a.getElementsByTagName("SOURCE").length>0){var n=a.getAttribute("src")!=SrcNotLoadedValue;if(n)j=a.currentSrc!=""?a.currentSrc:a.src;else j=a.getElementsByTagName("SOURCE")[0].src}return j}else return a.Content.MediaPlayer[c];case mediaPlayer.propertyNames.PreviewImageSource:return b?a.poster:a.Content.MediaPlayer[c];case mediaPlayer.propertyNames.AutoPlay:return typeof a.autoPlay!="undefined"?a.autoPlay:b?a.autoplay:a.Content.MediaPlayer[c];case mediaPlayer.propertyNames.Loop:return b?a.loop:a.Content.MediaPlayer[c];case mediaPlayer.propertyNames.InlineWidth:return b?a.width:a.parentNode.parentNode.style.width;case mediaPlayer.propertyNames.InlineHeight:return b?a.height:a.parentNode.parentNode.style.height;case mediaPlayer.propertyNames.ShowEmbedControl:return b?a.showEmbed:a.Content.MediaPlayer[c];case mediaPlayer.propertyNames.VideoSetSource:return b?a.videoSetSource:a.Content.MediaPlayer[c];case mediaPlayer.propertyNames.Renditions:var d;if(b){var g=a.getElementsByTagName("SOURCE");if(g.length==0)return null;d=new Array(g.length);for(var h=0;h<g.length;++h){var e=g[h],f={};f.Source=e.src;f.Label=e.hasAttribute("data-label")?e.getAttribute("data-label"):null;if(e.hasAttribute("type")){var o=e.getAttribute("type"),k=codecsRegEx.exec(o),l=k!=null;if(l)f.Codec=k[1]}else f.Codec=null;d[h]=f}return d}else{d=null;var i=a.Content.MediaPlayer[c];if(!isNullOrUndefined(i)){ULS.AssertJS(ULSCat.msoulscat_WSS_MediaPlayer,i!="","Empty parameter to deserialize");try{d=Sys.Serialization.JavaScriptSerializer.deserialize(i)}catch(p){ULS.SendExceptionJS(ULSCat.msoulscat_WSS_MediaPlayer,p)}}return d}case mediaPlayer.propertyNames.CurrentTimeSeconds:return b?a.currentTime:a.Content.MediaPlayer.PositionMilliseconds/1e3;case mediaPlayer.propertyNames.IsPaused:return b?a.paused:a.Content.MediaPlayer[c];case mediaPlayer.propertyNames.TitleLink:return b?a.mediaLinkUrl:a.Content.MediaPlayer[c];case mediaPlayer.propertyNames.DurationSeconds:return b?a.duration:a.Content.MediaPlayer.DurationMilliseconds/1e3;case mediaPlayer.propertyNames.Ended:return b?a.ended:a.Content.MediaPlayer.PositionMilliseconds==a.Content.MediaPlayer.DurationMilliseconds;default:if(b&&a.hasAttribute(c))return a.getAttribute(c);else if(!b)try{return a.Content.MediaPlayer[c]}catch(p){}}return null};mediaPlayer.setProperty=function(a,d,b){a:;if(!a||!d)return;var c=mediaPlayer.isPlayerHtml5(a);switch(d){case mediaPlayer.propertyNames.MediaTitle:if(c){a.setAttribute("data-mediaTitle",b);var n=a.parentNode.getElementsByClassName(ClassName_TitleOverlay);if(n.length==1)n[0].firstChild.innerHTML=b}else a.Content.MediaPlayer[d]=b;break;case mediaPlayer.propertyNames.TemplateSource:if(!c)a.Content.MediaPlayer[d]=b;break;case mediaPlayer.propertyNames.MediaSource:mediaPlayer.setProperty(a,mediaPlayer.propertyNames.Renditions,null);mediaPlayer.setProperty(a,mediaPlayer.propertyNames.ShowEmbedControl,b!=null);mediaPlayer.setProperty(a,mediaPlayer.propertyNames.VideoSetSource,b);if(c){if(b!=null){a.src=b;mediaPlayer.addRendition(a,b,null,null)}try{a.load()}catch(r){}}else a.Content.MediaPlayer[d]=b;break;case mediaPlayer.propertyNames.Renditions:if(c){for(var k=a.getElementsByTagName("SOURCE"),i=k.length-1;i>=0;i--)a.removeChild(k[i]);var o=b!=null&&typeof b.length!="undefined";if(o){for(var j=0;j<b.length;j++){var h=b[j];mediaPlayer.addRendition(a,h.Source,h.Label,h.Codec)}a.load()}a.renditionsChanged=true;showHideElementById(a.encodingCtrlElId,o&&b.length>1)}else{var m=null;if(!isNullOrUndefined(b))m=Sys.Serialization.JavaScriptSerializer.serialize(b);a.Content.MediaPlayer[d]=m}break;case mediaPlayer.propertyNames.PreviewImageSource:if(c)a.poster=b;else a.Content.MediaPlayer[d]=b;break;case mediaPlayer.propertyNames.AutoPlay:a.autoPlay=b;break;case mediaPlayer.propertyNames.Loop:if(c)a.loop=b;else a.Content.MediaPlayer[d]=b;break;case mediaPlayer.propertyNames.InlineWidth:a.parentNode.parentNode.style.width=b;if(c)a.width=a.parentNode.parentNode.clientWidth;break;case mediaPlayer.propertyNames.InlineHeight:a.parentNode.parentNode.style.height=b;if(c)a.height=a.parentNode.parentNode.clientHeight;break;case mediaPlayer.propertyNames.ShowEmbedControl:if(c){a.showEmbed=b;var q=a.embedCtrlElId;showHideElementById(q,b)}else a.Content.MediaPlayer[d]=b;break;case mediaPlayer.propertyNames.VideoSetSource:if(c)a.videoSetSource=b;else a.Content.MediaPlayer[d]=b;break;case mediaPlayer.propertyNames.TitleLink:if(c){a.mediaLinkUrl=b;var l=a.parentNode.getElementsByClassName(ClassName_TitleOverlay);if(l.length==1){var e=l[0].firstChild;if(!isNullOrUndefined(e)){var g=!isNullOrUndefined(a.mediaLinkUrl)&&a.mediaLinkUrl!="";if(g&&e.tagName!="A"){var f=document.createElement("A");f.setAttribute("target","_blank");e.parentNode.insertBefore(f,e);removeElementFromParent(e);e=f}else if(!g&&e.tagName!="SPAN"){var p=document.createElement("SPAN");e.parentNode.insertBefore(p,e);removeElementFromParent(e);e=f}e.innerHTML=mediaPlayer.getProperty(a,mediaPlayer.propertyNames.MediaTitle);g&&e.setAttribute("href",b)}}}else a.Content.MediaPlayer[d]=b;break;case mediaPlayer.propertyNames.CurrentTimeSeconds:if(c)a.currentTime=b;else a.Content.MediaPlayer.PositionMilliseconds=b*1e3;break;default:try{if(c&&a.hasAttribute(d))a.setAttribute(d);else if(!c)a.Content.MediaPlayer[d]=b}catch(r){}}};mediaPlayer.addRendition=function(a,g,f,d){a:;if(a==null)return;var e=mediaPlayer.isPlayerHtml5(a);if(e){var b=document.createElement("SOURCE");b.setAttribute("src",g);b.setAttribute("data-label",f);d&&d!=""&&b.setAttribute("type",d);var c=a.getElementsByTagName("SOURCE");if(c.length>0)a.insertBefore(b,getNodeSibling(c[c.length-1],true));else if(a.firstChild)a.insertBefore(b,a.firstChild);else a.appendChild(b)}};mediaPlayer.playBackActionNames={Play:"Play",Pause:"Pause",Stop:"Stop"};mediaPlayer.performPlayBackAction=function(a,c){a:;if(a==null)return;var b=mediaPlayer.isPlayerHtml5(a);try{switch(c){case mediaPlayer.playBackActionNames.Play:if(b)a.play();else a.Content.MediaPlayer.Play();break;case mediaPlayer.playBackActionNames.Pause:if(b)a.pause();else a.Content.MediaPlayer.Pause();break;case mediaPlayer.playBackActionNames.Stop:if(b){a.pause();a.src=""}else a.Content.MediaPlayer.Stop()}}catch(d){SP.SOD.executeFunc("SP.js","SP.ULS",function(){a:;SP.ULS.log("MediaPlayer.performPlayBackAction exception: "+String(d))})}};g_revString="?ctag={SiteClientTag}";g_startJsPath="_layouts/15/start.js";SP.SOD.registerSod("start.js",typeof SPClientTemplates!="undefined"?SPClientTemplates.Utility.ReplaceUrlTokens(g_startJsPath+g_revString):g_startJsPath);g_mediaPlayerCssPath="/_layouts/15/1033/styles/controls15.css";if(typeof SPClientTemplates!="undefined"){var a=SPClientTemplates.Utility.ReplaceUrlTokens(g_mediaPlayerCssPath+g_revString);if(!isNullOrUndefined(a)&&a!="")g_mediaPlayerCssPath=a}mediaPlayer.ensureCssIsIncluded=function(a){a:;registerCssLink(g_mediaPlayerCssPath);if(!isNullOrUndefined(a)){g_mediaPlayerCssPath=g_mediaPlayerCssPath.replace("1033",a);registerCssLink(g_mediaPlayerCssPath)}};LayoutsUrl_VideoEmbedConfig="_layouts/15/videoembedconfig.aspx";mediaPlayer.embedMedia=function(b,e){a:;var c=mediaPlayer.getProperty(b,mediaPlayer.propertyNames.VideoSetSource);if(c==null||c=="")c=mediaPlayer.getProperty(b,mediaPlayer.propertyNames.MediaSource);if(c){var f=null,i=isNullOrUndefined(e)||!e;if(i){var h=!mediaPlayer.getProperty(b,mediaPlayer.propertyNames.IsPaused);if(h){mediaPlayer.performPlayBackAction(b,mediaPlayer.playBackActionNames.Pause);f=function(){a:;mediaPlayer.performPlayBackAction(b,mediaPlayer.playBackActionNames.Play)}}}var j=mediaPlayer.getProperty(b,mediaPlayer.propertyNames.CurrentTimeSeconds),a="/";if(!isNullOrUndefined(SP)&&!isNullOrUndefined(SP.PageContextInfo))a=SP.PageContextInfo.get_webServerRelativeUrl();else if(!isNullOrUndefined(g_TargetWebUrl))a=g_TargetWebUrl;if(a&&(a==""||a.charAt(a.length-1)!="/"))a+="/";var g=a+LayoutsUrl_VideoEmbedConfig+"?source="+encodeURIComponent(decodeURI(c))+"&t="+j,d=mediaPlayer.getProperty(b,mediaPlayer.propertyNames.PreviewImageSource);if(d!=null&&d!="")g+="&img="+encodeURIComponent(decodeURI(d));OpenPopUpPage(g,f)}};mediaPlayer.logAnalyticsViewEvent=function(a){a:;var b=mediaPlayer.getProperty(a,mediaPlayer.propertyNames.VideoSetSource);if(!b)b=mediaPlayer.getProperty(a,mediaPlayer.propertyNames.MediaSource);if(b&&(isNullOrUndefined(a.isViewEventLogged)||!a.isViewEventLogged)){a.isViewEventLogged=true;var d=document.createElement("A");d.setAttribute("href",b);var c=d.href;SP.SOD.executeFunc("SP.js","SP.ClientContext",function(){a:;var a=new SP.ClientContext.get_current;SP.Analytics.AnalyticsUsageEntry.logAnalyticsEvent(a,1,c);a.executeQueryAsync(null,Function.createDelegate(this,function(b,a){a:;SP.ULS.log("Failed to log analytics view entry for video set at:"+c+" due to:"+a.get_message())}))})}};mediaPlayer.removeFunctionFromOnLoadStart=function(c,a){a:;if(!c||!mediaPlayer.isPlayerHtml5(c)||!a||a=="")return;var e=c.getAttribute("onloadstart"),f=e.indexOf(a)!=-1;if(f){for(var b=e.split(";"),d=0;d<b.length;d++)if(b[d].indexOf(a)!=-1){b.splice(d,1);break}c.setAttribute("onloadstart",b.join(";"))}};OverlayHideTimeOutMs=3e3;MinEncodingSwitchTime=0;ClassName_FullScreen="mediaPlayerFullScreen";ClassName_TitleOverlay="mediaPlayerTitleOverlay";ClassName_Container="mediaPlayerContainer";ClassName_Overlay="mediaPlayerOverlay";ClassName_VideoObject="mediaPlayerVideoObject";ClassName_ActiveRendition="mediaPlayerEncodingMenu-active";ClassName_VideoControl="mediaPlayerControl";Html5MediaPlayerInitString="new mediaPlayer.initHtml5Player(";SrcNotLoadedValue="/_layouts/15/clientbin/mediaplaceholder.mp4";mediaPlayer.initHtml5Player=function(b,f,o,m,k,n,i,d,j){a:;b=document.getElementById(b.id);if(b==null||b.hasAttribute("data-init")||b.hasAttribute("data-loadedOnEdit")||!mediaPlayer.isPlayerHtml5(b))return;b.setAttribute("data-init","1");var a=this;a.mediaEl=b;a.mediaContainerEl=b.parentNode;a.isOverlay=elementContainsClass(a.mediaEl.parentNode,ClassName_Overlay);if(isNullOrUndefined(a.mediaEl.embedModePreview))a.mediaEl.embedModePreview=j;if(isNullOrUndefined(a.mediaEl.showEmbed))a.mediaEl.showEmbed=m;a.onErrorFallback=function(event){a:;var sourceElement=event.target.tagName=="VIDEO"?event.target.getElementsByTagName("SOURCE")[0]:event.target,fallbackSourceUrl=null,reInitializeSilverlightPlayer=false;if(sourceElement)if(sourceElement.parentNode.hasAttribute("src")){fallbackSourceUrl=sourceElement.parentNode.getAttribute("src");reInitializeSilverlightPlayer=true}else fallbackSourceUrl=sourceElement.getAttribute("src");var isMediaElementConfigured=fallbackSourceUrl!=null&&fallbackSourceUrl!=""&&fallbackSourceUrl!=SrcNotLoadedValue;if(!isMediaElementConfigured)return;if(a.mediaEl.parentNode!=null){var unloadEditModeComponents=a.mediaEl.hasAttribute("data-loadedOnEdit");unloadEditModeComponents&&Pub.Ribbon.PubRibbonComponent.unloadMediaPlayer(a.mediaEl);if(reInitializeSilverlightPlayer){playerParams={mediaTitle:mediaPlayer.getProperty(a.mediaEl,mediaPlayer.propertyNames.MediaTitle),mediaSource:fallbackSourceUrl,previewImageSource:mediaPlayer.getProperty(a.mediaEl,mediaPlayer.propertyNames.PreviewImageSource),autoPlay:a.isOverlay?true:mediaPlayer.getProperty(a.mediaEl,mediaPlayer.propertyNames.AutoPlay),loop:mediaPlayer.getProperty(a.mediaEl,mediaPlayer.propertyNames.Loop),embedModePreview:a.mediaEl.embedModePreview,showEmbedControl:mediaPlayer.getProperty(a.mediaEl,mediaPlayer.propertyNames.ShowEmbedControl),renditions:mediaPlayer.getProperty(a.mediaEl,mediaPlayer.propertyNames.Renditions),isSilverlightOnly:true,isOverlayPlayer:a.isOverlay,displayMode:a.isOverlay?"Overlay":"Inline",videoSetSource:mediaPlayer.getProperty(a.mediaEl,mediaPlayer.propertyNames.VideoSetSource),titleLink:mediaPlayer.getProperty(a.mediaEl,mediaPlayer.propertyNames.TitleLink),startPlayBackAt:mediaPlayer.getProperty(a.mediaEl,mediaPlayer.propertyNames.CurrentTimeSeconds)};var width,height;if(a.isOverlay)width=height=null;else{width=height="100%";if(!isNullOrUndefined(a.mediaEl.getAttribute("width")))width=a.mediaEl.getAttribute("width");if(!isNullOrUndefined(a.mediaEl.getAttribute("height")))height=a.mediaEl.getAttribute("height")}var parentNode=a.mediaEl.parentNode;if(a.isOverlay){parentNode=parentNode.parentNode;removeElementFromParent(a.mediaEl.parentNode);removeElementFromParent(document.getElementById(ID_OverlayPlayerBackground));if(g_overlayZIndex!=null)playerParams.overlayZIndex=g_overlayZIndex;g_reCreateOverlayAfterFallback=true}var fallbackXapSource=null,objectElements=a.mediaEl.getElementsByTagName("OBJECT");if(objectElements.length>0)for(var objectParams=objectElements[0].getElementsByTagName("PARAM"),i=0;i<objectParams.length;i++)if(objectParams[i].hasAttribute("name")&&objectParams[i].name.toLowerCase()=="source"){fallbackXapSource=objectParams[i].value;break}mediaPlayer.createMediaPlayer(parentNode,a.mediaEl.id,width,height,playerParams,null,fallbackXapSource,unloadEditModeComponents?eval("load_"+a.mediaEl.id):null,unloadEditModeComponents?eval("resize_"+a.mediaEl.id):null)}else while(a.mediaEl.hasChildNodes())if(a.mediaEl.firstChild.nodeType!=ELEMENT_NODE_CONST||a.mediaEl.firstChild.tagName=="SOURCE")a.mediaEl.removeChild(a.mediaEl.firstChild);else{var fallbackElement=a.mediaEl.firstChild.cloneNode(true);a.mediaEl.parentNode.insertBefore(fallbackElement,a.mediaEl);break}removeElementFromParent(a.mediaEl);removeElementFromParent(a.mediaControlsEl);removeElementFromParent(a.titleOverlayEl);removeElementFromParent(a.initialPlayButtonEl);a.mediaEl.id=""}};a.mediaEl.addEventListener("error",a.onErrorFallback,false);var c=a.mediaEl.getElementsByTagName("SOURCE");c.length>0&&c[c.length-1].addEventListener("error",a.onErrorFallback,false);var h=a.mediaEl.hasAttribute("src")&&a.mediaEl.getAttribute("src")==SrcNotLoadedValue;if(h){for(var e=false,g=0;g<c.length;g++){e=a.mediaEl.canPlayType(c[g].getAttribute("type"))!="";if(e)break}if(!e){a.mediaEl.removeAttribute("src");a.mediaEl.load();return}else{var l=!isNullOrUndefined(browseris)&&(browseris.ie&&Boolean(document.documentMode)&&document.documentMode==10||browseris.firefox);if(l){a.mediaEl.setAttribute("preload","none");a.mediaEl.removeAttribute("src");a.mediaEl.load()}}}if(isNullOrUndefined(a.mediaEl.videoSetSource))a.mediaEl.videoSetSource=k;mediaPlayer.removeFunctionFromOnLoadStart(a.mediaEl,Html5MediaPlayerInitString);a.showHideMediaOverlayControl=function(b,d,c){a:;if(d){var a=c.relatedTarget;while(a&&a!=b)a=a.parentNode;a!=b&&showHideElement(b,false)}else showHideElement(b,true)};a.hideMediaTitleOverlayOnPlay=function(){a:;setTimeout(function(){a:;showHideElement(a.titleOverlayEl,false)},OverlayHideTimeOutMs)};a.onEncodingSwitchTime=d>MinEncodingSwitchTime?d:-1;a.onEncodingSwitchPaused=d>MinEncodingSwitchTime;a.switchMediaEncoding=function(d){a:;a.onEncodingSwitchTime=a.mediaEl.currentTime;a.onEncodingSwitchPaused=a.mediaEl.paused;var j=a.mediaEl.currentSrc,g=document.createElement("A");g.setAttribute("href",d);var h=g.href!=j;if(!h)return;var k=!isNullOrUndefined(browseris)&&browseris.ie&&Boolean(document.documentMode)&&document.documentMode<10;if(k){for(var f=a.mediaEl.getElementsByTagName("SOURCE"),e=0;e<f.length;++e)f[e].setAttribute("src",d);a.mediaEl.load()}else{a.mediaEl.src=d;a.mediaEl.load()}for(var c=a.encodingMenuEl.getElementsByTagName("LI"),b=0;b<c.length;b++){var i=c[b].getAttribute("data-encodingUrl")==d;if(i)addCssClass(c[b],ClassName_ActiveRendition);else removeCssClass(c[b],ClassName_ActiveRendition)}};a.onDurationChange=function(){a:;var b=a.onEncodingSwitchTime>=MinEncodingSwitchTime;b&&a.setPlayBackStartTime();if(a.isEncodingSwitchTimeSetFromInitialPlay){a.onEncodingSwitchTime=-1;a.isEncodingSwitchTimeSetFromInitialPlay=false}};a.setPlayBackStartTime=function(){a:;if(a.mediaEl.duration>a.onEncodingSwitchTime)try{a.mediaEl.currentTime=a.onEncodingSwitchTime}catch(b){}!a.onEncodingSwitchPaused&&a.mediaEl.play()};a.onEscKey=function(b){a:;b.keyCode==27&&a.switchMediaToFullScreen()};a.isEmbed=n;a.startInFullScreen=i;a.isMediaInFullScreen=a.startInFullScreen;a.escOverlayEl=null;a.originalParentElement=null;a.switchMediaToFullScreen=function(){a:;if(a.isMediaInFullScreen){if(a.isEmbed){window.close();return}a.isMediaInFullScreen=false;document.removeEventListener("keydown",a.onEscKey,false);removeCssClass(a.mediaContainerEl,ClassName_FullScreen);a.isOverlay&&addCssClass(a.mediaContainerEl,ClassName_Overlay);showHideElement(a.escOverlayEl,false);a.fullScreenOffCtrlEl=a.mediaControlsEl.replaceChild(a.fullScreenOnCtrlEl,a.fullScreenOffCtrlEl);a.fullScreenOnCtrlEl.firstChild.firstChild.setAttribute("style","height:32px;width:32px;position:relative;display:inline-block;overflow:hidden;");a.fullScreenOnCtrlEl.firstChild.firstChild.firstChild.setAttribute("style","left:-128px !important;top:-0px !important;position:absolute;");!isNullOrUndefined(a.originalParentElement)&&a.originalParentElement.appendChild(a.mediaContainerEl)}else{if(a.isEmbed){!a.mediaEl.paused&&a.mediaEl.pause();var d=window.location.href.indexOf("?"),e=d==-1?window.location.href:window.location.href.substr(0,d);if(d!=-1){for(var b=window.location.search.substring(1).split("&"),c=b.length-1;c>=0;c--)(b[c].indexOf("t=")==0||b[c].indexOf("f=")==0)&&b.splice(c,1);e+="?"+b.join("&")}e+=d==-1?"?":"&";e+="f=1&t="+a.mediaEl.currentTime;var f=window.open(e,"","fullscreen=yes, scrollbars=auto, width="+(screen.availWidth-10)+", height="+(screen.availHeight-10));window.focus&&f.focus();return}a.isMediaInFullScreen=true;a.originalParentElement=a.mediaContainerEl.parentNode;!isNullOrUndefined(a.originalParentElement)&&document.body.appendChild(a.mediaContainerEl);a.fullScreenModeCommon()}};a.fullScreenModeCommon=function(){a:;document.addEventListener("keydown",a.onEscKey,false);a.isOverlay&&removeCssClass(a.mediaContainerEl,ClassName_Overlay);addCssClass(a.mediaContainerEl,ClassName_FullScreen);if(a.escOverlayEl!=null){a.escOverlayEl.style.display="block";setTimeout(function(){a:;showHideElement(a.escOverlayEl,false)},OverlayHideTimeOutMs)}a.fullScreenOnCtrlEl=a.mediaControlsEl.replaceChild(a.fullScreenOffCtrlEl,a.fullScreenOnCtrlEl);a.fullScreenOffCtrlEl.firstChild.firstChild.setAttribute("style","height:32px;width:32px;position:relative;display:inline-block;overflow:hidden;");a.fullScreenOffCtrlEl.firstChild.firstChild.firstChild.setAttribute("style","left:-0px !important;top:-192px !important;position:absolute;")};a.buildTitleOverlay=function(){a:;if(!a.isOverlay&&(f==null||f==""))return;a.titleOverlayEl=document.createElement("DIV");addCssClass(a.titleOverlayEl,ClassName_TitleOverlay);var d=document.createElement("SPAN");d.innerHTML=a.isOverlay?mediaPlayer.getProperty(a.mediaEl,mediaPlayer.propertyNames.MediaTitle):f;a.titleOverlayEl.appendChild(d);if(a.isOverlay){var b=document.createElement("A"),c=document.createElement("IMG");c.src="/_layouts/15/images/wndclose.png";a.executeRequiringResources(function(){a:;a.setAccessibleTextForControlButton(c,"media_OverlayOffTooltip")});b.appendChild(c);b.style.cssFloat="right";b.addEventListener("click",mediaPlayer.closeOverlayPlayer,false);a.titleOverlayEl.appendChild(b)}a.mediaContainerEl.appendChild(a.titleOverlayEl);a.isOverlay&&mediaPlayer.setProperty(a.mediaEl,mediaPlayer.propertyNames.TitleLink,mediaPlayer.getProperty(a.mediaEl,mediaPlayer.propertyNames.TitleLink))};a.executeRequiringResources=function(a){a:;a!=null&&EnsureScript("sp.publishing.resources.resx",typeof SP.Publishing!="undefined"?typeof SP.Publishing.Resources:"undefined",a)};a.buildFullScreenEscOverlay=function(){a:;a.escOverlayEl=document.createElement("DIV");addCssClass(a.escOverlayEl,"mediaPlayerFullScreenEsc");a.executeRequiringResources(function(){a:;a.escOverlayEl.innerHTML="<span>"+SP.Publishing.Resources.media_FullScreenOffInstruction+"</span>"});a.mediaContainerEl.appendChild(a.escOverlayEl)};a.buildAdditionalControlButton=function(i,j,g,h,e,k){a:;var b=document.createElement("LI");addCssClass(b,ClassName_VideoControl);var d=a.buildAccessibleControlButtonWrapper(h,g),f=document.createElement("SPAN");f.setAttribute("style",i);var c=document.createElement("IMG");c.setAttribute("src","/_layouts/15/images/publishing.png");c.setAttribute("style",j);a.executeRequiringResources(function(){a:;a.setAccessibleTextForControlButton(c,g)});f.appendChild(c);d.appendChild(f);b.appendChild(d);k&&showHideElement(b,false);if(e&&e!="")b.id=a.mediaEl.id+e;d.setAttribute("draggable",false);b.setAttribute("draggable",false);c.setAttribute("draggable",false);return b};a.setAccessibleTextForControlButton=function(c,b){a:;var a=null;if(!isNullOrUndefined(b)){try{a=SP.Publishing.Resources[b]}catch(d){}if(isNullOrUndefined(a))a=b}c.setAttribute("title",STSHtmlEncode(a));c.tagName=="IMG"&&c.setAttribute("alt",STSHtmlEncode(a))};a.buildAccessibleControlButtonWrapper=function(c,d){a:;var b=document.createElement("A");b.setAttribute("href","javascript:;");!isNullOrUndefined(c)&&b.setAttribute("accesskey",c);!isNullOrUndefined(d)&&a.executeRequiringResources(function(){a:;a.setAccessibleTextForControlButton(b,d)});return b};a.buildInitialPlayButton=function(){a:;if(!a.mediaEl.autoplay&&a.showPlayerControls()&&a.mediaEl.paused){a.initialPlayButtonEl=document.createElement("DIV");addCssClass(a.initialPlayButtonEl,"mediaPlayerInitialPlayButton");var b=a.buildAccessibleControlButtonWrapper(null,"media_PlayTooltip");b.innerHTML="<span></span>";a.initialPlayButtonEl.appendChild(b);a.mediaContainerEl.appendChild(a.initialPlayButtonEl);a.initialPlayButtonEl.addEventListener("click",a.onInitialPlayClicked,false)}};a.displayLoadingIndicator=function(){a:;if(isNullOrUndefined(a.loadingIndicatorEl)){a.loadingIndicatorEl=document.createElement("IMG");a.loadingIndicatorEl.setAttribute("src","/_layouts/15/images/hig_progcircle_loading24.gif");addCssClass(a.loadingIndicatorEl,"mediaPlayerLoadingIndicator");a.executeRequiringResources(function(){a:;a.setAccessibleTextForControlButton(a.loadingIndicatorEl,"media_MediaBuffering")});a.mediaContainerEl.appendChild(a.loadingIndicatorEl)}else showHideElement(a.loadingIndicatorEl,true)};a.buildAdditionalControls=function(){a:;if(a.mediaEl.embedModePreview)return;a.mediaControlsEl=document.createElement("UL");addCssClass(a.mediaControlsEl,"mediaPlayerAdditionalControls");a.fullScreenOnCtrlEl=a.buildAdditionalControlButton("height:32px;width:32px;position:relative;display:inline-block;overflow:hidden;","left:-128px !important;top:-0px !important;position:absolute;","media_FullScreenOnTooltip");a.fullScreenOnCtrlEl.addEventListener("click",a.switchMediaToFullScreen,false);a.fullScreenOffCtrlEl=a.buildAdditionalControlButton("height:32px;width:32px;position:relative;display:inline-block;overflow:hidden;","left:-0px !important;top:-192px !important;position:absolute;","media_FullScreenOffTooltip");a.fullScreenOffCtrlEl.addEventListener("click",a.switchMediaToFullScreen,false);a.mediaControlsEl.appendChild(a.fullScreenOnCtrlEl);a.startInFullScreen&&a.fullScreenModeCommon();a.embedCtrlEl=a.buildAdditionalControlButton("height:32px;width:32px;position:relative;display:inline-block;overflow:hidden;","left:-32px !important;top:-192px !important;position:absolute;","media_EmbedTooltip",null,"embedCtrl",!a.mediaEl.showEmbed);a.mediaControlsEl.appendChild(a.embedCtrlEl);a.embedCtrlEl.addEventListener("click",function(){a:;mediaPlayer.embedMedia(a.mediaEl)},false);a.mediaEl.embedCtrlElId=a.embedCtrlEl.id;a.encodingCtrlEl=a.buildAdditionalControlButton("height:32px;width:32px;position:relative;display:inline-block;overflow:hidden;","left:-192px !important;top:-160px !important;position:absolute;","media_SwitchEncodingTooltip",null,"encodingCtrl",c.length<2);a.mediaControlsEl.appendChild(a.encodingCtrlEl);a.mediaEl.encodingCtrlElId=a.encodingCtrlEl.id;a.encodingMenuEl=document.createElement("UL");addCssClass(a.encodingMenuEl,"mediaPlayerEncodingMenu");showHideElement(a.encodingMenuEl,false);a.buildEncodingMenuItems();a.encodingCtrlEl.appendChild(a.encodingMenuEl);a.encodingCtrlEl.addEventListener("click",a.encodingCtrlOnClick,false);a.encodingMenuEl.addEventListener("mouseout",function(b){a:;a.showHideMediaOverlayControl(a.encodingMenuEl,true,b)},false);a.mediaContainerEl.appendChild(a.mediaControlsEl);showHideElement(a.mediaControlsEl,a.showPlayerControls())};a.enableAdditionalControls=function(f){a:;if(!a.mediaEl.embedModePreview){var c=function(b){a:;a.showHideMediaOverlayControl(a.mediaControlsEl,false,b);a.showHideMediaOverlayControl(a.titleOverlayEl,false,b)},b=function(b){a:;a.showHideMediaOverlayControl(a.mediaControlsEl,true,b);a.showHideMediaOverlayControl(a.titleOverlayEl,true,b)},d=!isNullOrUndefined(browseris)&&browseris.isTouch;if(d){a.touchControlsDisplayed=false;var e=function(d){a:;a.touchControlsDisplayed=!a.touchControlsDisplayed;if(a.touchControlsDisplayed)c(d);else b(d)};typeof AttachEvent!="undefined"&&AttachEvent("touchstart",e,a.mediaEl)}else{a.mediaEl.addEventListener("mouseover",c,false);a.mediaEl.addEventListener("mouseout",b,false)}showHideElement(a.mediaControlsEl,f)}a.mediaEl.setAttribute("controls","")};a.encodingCtrlOnClick=function(b){a:;a.mediaEl.renditionsChanged&&a.buildEncodingMenuItems();a.showHideMediaOverlayControl(a.encodingMenuEl,false,b)};a.buildEncodingMenuItems=function(){a:;a.mediaEl.renditionsChanged=false;var e=a.mediaEl.getElementsByTagName("SOURCE");a.mediaSourceUrls=[];a.mediaSourceLabels=[];for(var b=0;b<e.length;b++){a.mediaSourceUrls[b]=e[b].getAttribute("src");a.mediaSourceLabels[b]=e[b].getAttribute("data-label")}a.encodingMenuEl.innerHTML="";for(var c=0;c<a.mediaSourceLabels.length;c++){var d=document.createElement("LI");d.setAttribute("data-encodingUrl",a.mediaSourceUrls[b]);c==0&&addCssClass(d,ClassName_ActiveRendition);var f=a.buildAccessibleControlButtonWrapper(null,a.mediaSourceLabels[c]);f.innerHTML=STSHtmlEncode(a.mediaSourceLabels[c]);d.appendChild(f);a.encodingMenuEl.appendChild(d);(function(){a:;var b=a.mediaSourceUrls[c],e=a.mediaSourceLabels[c];d.addEventListener("click",function(){a:;a.switchMediaEncoding(b,e)},false)})()}};a.previewElementsHidden=false;a.onPlay=function(){a:;if(!a.previewElementsHidden){a.previewElementsHidden=true;showHideElement(a.initialPlayButtonEl,false);a.enableAdditionalControls(true)}!a.isOverlay&&a.hideMediaTitleOverlayOnPlay();mediaPlayer.logAnalyticsViewEvent(a.mediaEl);var b=a.mediaEl.readyState<3;b&&a.displayLoadingIndicator()};a.onCanPlay=function(){a:;showHideElement(a.loadingIndicatorEl,false)};a.isEncodingSwitchTimeSetFromInitialPlay=false;a.onInitialPlayClicked=function(){a:;var c=!a.mediaEl.hasAttribute("src");if(!c){if(a.onEncodingSwitchTime<MinEncodingSwitchTime){a.onEncodingSwitchTime=MinEncodingSwitchTime;a.isEncodingSwitchTimeSetFromInitialPlay=true}a.onEncodingSwitchPaused=false;a.mediaEl.removeAttribute("src");a.mediaEl.load()}else{var b=mediaPlayer.getProperty(a.mediaEl,mediaPlayer.propertyNames.MediaSource);b!=null&&b!=""&&a.mediaEl.play()}};a.showPlayerControls=function(){a:;var b=mediaPlayer.getProperty(a.mediaEl,mediaPlayer.propertyNames.MediaSource);return!isNullOrUndefined(b)&&b!=""};try{setTimeout(a.buildInitialPlayButton,10);a.buildAdditionalControls();if(a.mediaEl.autoplay||!a.mediaEl.paused){a.enableAdditionalControls(false);a.previewElementsHidden=true}a.buildFullScreenEscOverlay();a.buildTitleOverlay();a.mediaEl.addEventListener("play",a.onPlay,false);a.mediaEl.addEventListener("canplay",a.onCanPlay,false);a.mediaEl.addEventListener("durationchange",a.onDurationChange,false)}catch(p){}};typeof Sys!="undefined"&&Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded();typeof NotifyScriptLoadedAndExecuteWaitingJobs!="undefined"&&NotifyScriptLoadedAndExecuteWaitingJobs("mediaplayer.js")}function ULSHf2(){var a={};a.ULSTeamName="CMS";a.ULSFileName="MediaPlayer.commentedjs";return a}var ELEMENT_NODE_CONST,ID_OverlayPlayer,ID_OverlayPlayerBackground,g_overlayZIndex,g_overlaySource,g_reCreateOverlayAfterFallback,_canSupportHtml5VideoInitialized,_canSupportHtml5Video,codecsRegEx,g_revString,g_startJsPath,g_mediaPlayerCssPath,LayoutsUrl_VideoEmbedConfig,OverlayHideTimeOutMs,MinEncodingSwitchTime,ClassName_FullScreen,ClassName_TitleOverlay,ClassName_Container,ClassName_Overlay,ClassName_VideoObject,ClassName_ActiveRendition,ClassName_VideoControl,Html5MediaPlayerInitString,SrcNotLoadedValue;function getNodeSibling(b,a){a:;x=a?b.nextSibling:b.previousSibling;while(x.nodeType!=ELEMENT_NODE_CONST)x=a?x.nextSibling:x.previousSibling;return x}function addCssClass(a,b){a:;if(isNullOrUndefined(a))return;if(!isNullOrUndefined(a.classList))a.classList.add(b);else if(!elementContainsClass(a,b))a.className=a.className===""?b:a.className+" "+b}function removeCssClass(a,b){a:;if(isNullOrUndefined(a))return;if(!isNullOrUndefined(a.classList)){a.classList.remove(b);return}else if(!elementContainsClass(a,b))return;var c=a.className.split(/\s+/);while(c.lastIndexOf(b)!=-1)c.splice(c.lastIndexOf(b),1);a.className=c.join(" ")}function elementContainsClass(a,b){a:;return a&&a.className.split(/\s+/).lastIndexOf(b)!=-1}function removeElementFromParent(a){a:;!isNullOrUndefined(a)&&a.parentNode!=null&&a.parentNode.removeChild(a)}function showHideElementById(a,c){a:;if(a!=null&&a!=""){var b=document.getElementById(a);showHideElement(b,c)}}function showHideElement(a,b){a:;if(a!=null)a.style.display=b?"":"none"}function isNullOrUndefined(a){a:;return a==null||typeof a=="undefined"}$_global_mediaplayer();
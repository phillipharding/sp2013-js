function ULSTfK(){var o=new Object;o.ULSTeamName="DLC Server";o.ULSFileName="SP.UI.Policy.Ribbon.js";return o;}
Type.registerNamespace("Policy.Ribbon");Policy.Ribbon.PolicyRibbonComponent=function(){ULSTfK:;Policy.Ribbon.PolicyRibbonComponent.initializeBase(this);this.$3_1()};Policy.Ribbon.PolicyRibbonComponent.load=function(){ULSTfK:;Policy.Ribbon.PolicyRibbonComponent.$2=new Policy.Ribbon.PolicyRibbonComponent};Policy.Ribbon.PolicyRibbonComponent.prototype={$0_1:null,$1_1:null,$3_1:function(){ULSTfK:;SP.Ribbon.PageManager.get_instance().addPageComponent(this)},init:function(){ULSTfK:;this.$0_1=[];this.$1_1=["DocumentTab","DocumentManageGroup","DeclareRecord","UndeclareRecord","DeclareRecordMenuOpen"]},getFocusedCommands:function(){ULSTfK:;return this.$0_1},getGlobalCommands:function(){ULSTfK:;return this.$1_1},canHandleCommand:function(a){ULSTfK:;return a==="DeclareRecord"?Policy.Ribbon.PolicyCommands.declareRecordEnabled():a==="UndeclareRecord"?Policy.Ribbon.PolicyCommands.undeclareRecordEnabled():a==="DeclareRecordMenuOpen"?Policy.Ribbon.PolicyCommands.declareRecordEnabled()||Policy.Ribbon.PolicyCommands.undeclareRecordEnabled():true},handleCommand:function(a){ULSTfK:;if(a==="DeclareRecord")Policy.Ribbon.PolicyCommands.declareRecord();else a==="UndeclareRecord"&&Policy.Ribbon.PolicyCommands.undeclareRecord();return true},isFocusable:function(){ULSTfK:;return true},receiveFocus:function(){ULSTfK:;return true},yieldFocus:function(){ULSTfK:;return true}};Policy.Ribbon.PolicyCommandNames=function(){};Policy.Ribbon.PolicyRibbonCommandNames=function(){};Policy.Ribbon.PolicyCommands=function(){};Policy.Ribbon.PolicyCommands.declareRecordEnabled=function(){ULSTfK:;return eval("GetIsItemSelected()")&&Policy.Ribbon.Externals.declareRecord.userHasRights&&Policy.Ribbon.Externals.declareRecord.iprList};Policy.Ribbon.PolicyCommands.undeclareRecordEnabled=function(){ULSTfK:;return eval("GetIsItemSelected()")&&Policy.Ribbon.Externals.undeclareRecord.userHasRights&&Policy.Ribbon.Externals.undeclareRecord.iprList&&!Policy.Ribbon.Externals.undeclareRecord.isAutoDeclareList};Policy.Ribbon.PolicyCommands.declareRecord=function(){ULSTfK:;if(!Policy.Ribbon.PolicyCommands.declareRecordEnabled())return;eval(Policy.Ribbon.Externals.declareRecord.declareRecordFn)};Policy.Ribbon.PolicyCommands.undeclareRecord=function(){ULSTfK:;if(!Policy.Ribbon.PolicyCommands.undeclareRecordEnabled())return;eval(Policy.Ribbon.Externals.undeclareRecord.undeclareRecordFn)};Policy.Ribbon.PolicyRibbonComponent.registerClass("Policy.Ribbon.PolicyRibbonComponent",CUI.Page.PageComponent);Policy.Ribbon.PolicyCommandNames.registerClass("Policy.Ribbon.PolicyCommandNames");Policy.Ribbon.PolicyRibbonCommandNames.registerClass("Policy.Ribbon.PolicyRibbonCommandNames");Policy.Ribbon.PolicyCommands.registerClass("Policy.Ribbon.PolicyCommands");function sp_ui_policy_ribbon_initialize(){ULSTfK:;Policy.Ribbon.PolicyRibbonComponent.$2=null;Policy.Ribbon.PolicyCommandNames.declareRecord="DeclareRecord";Policy.Ribbon.PolicyCommandNames.undeclareRecord="UndeclareRecord";Policy.Ribbon.PolicyCommandNames.declareRecordMenuOpen="DeclareRecordMenuOpen";Policy.Ribbon.PolicyRibbonCommandNames.documentManageGroup="DocumentManageGroup";Policy.Ribbon.PolicyRibbonCommandNames.documentTab="DocumentTab"}sp_ui_policy_ribbon_initialize();ExecuteAndRegisterBeginEndFunctions("sp.ui.policy.ribbon.js",sp_ui_policy_ribbon_initialize,null,function(){ULSTfK:;Policy.Ribbon.Externals=function(){};if(typeof declareRecord!="undefined")Policy.Ribbon.Externals.declareRecord=declareRecord;if(typeof undeclareRecord!="undefined")Policy.Ribbon.Externals.undeclareRecord=undeclareRecord;if(typeof _spBodyOnLoadCalled=="undefined"||_spBodyOnLoadCalled)window.setTimeout(Policy.Ribbon.PolicyRibbonComponent.load,0);else _spBodyOnLoadFunctionNames.push("Policy.Ribbon.PolicyRibbonComponent.load")});function CountEntries(a){ULSTfK:;var b=0,c;if(!a)return 0;for(c in a)b++;return b}function GetIsItemSelected(){ULSTfK:;var a=SP.ListOperation.Selection.getSelectedItems(),b=CountEntries(a);return b>0}function GetItemCollectionString(){ULSTfK:;var b=SP.ListOperation.Selection.getSelectedItems(),a="0";for(k in b){itm=b[k];a+="|"+itm.id}return a}function DeclareSelectedItems(){ULSTfK:;if(!confirm(SP.Publishing.Resources.declareConfirmation))return;document.getElementById("_DeclareRecordArgument").value=GetItemCollectionString();eval(Policy.Ribbon.Externals.declareRecord.pbFn)}function UndeclareSelectedItems(){ULSTfK:;if(!confirm(SP.Publishing.Resources.undeclareConfirmation))return;document.getElementById("_UndeclareRecordArgument").value=GetItemCollectionString();eval(Policy.Ribbon.Externals.undeclareRecord.pbFn)}typeof Sys!="undefined"&&Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded();typeof NotifyScriptLoadedAndExecuteWaitingJobs!="undefined"&&NotifyScriptLoadedAndExecuteWaitingJobs("SP.UI.Policy.Ribbon.js");
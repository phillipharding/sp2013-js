function ULSSIv(){var o=new Object;o.ULSTeamName="Microsoft SharePoint Foundation";o.ULSFileName="SP.UI.Blogs.js";return o;}
Type.registerNamespace("SP.UI.Blogs");SP.UI.Blogs.BlogRenderer=function(a,b){ULSSIv:;SP.UI.Blogs.BlogRenderer.initializeBase(this,[a,b]);this.$E_1=[]};SP.UI.Blogs.BlogRenderer.prototype={$E_1:null,renderViewBody:function(a){ULSSIv:;if(this.baseViewID===8){var k=SP.ScriptHelpers.getDocumentQueryPairs(),j=k.CategoryId,f=a.ListData.PrevHref,g=a.ListData.NextHref;if(!SP.ScriptHelpers.isNullOrUndefinedOrEmpty(f)){f=SP.ScriptHelpers.replaceOrAddQueryString(f,"CategoryId",j);a.ListData.PrevHref=f}if(!SP.ScriptHelpers.isNullOrUndefinedOrEmpty(g)){g=SP.ScriptHelpers.replaceOrAddQueryString(g,"CategoryId",j);a.ListData.NextHref=g}}else if(this.baseViewID===9){var i=SP.ScriptHelpers.getDocumentQueryPairs(),d=i.StartDateTime,e=i.EndDateTime,h=i.LMY;if(!SP.ScriptHelpers.isNullOrUndefined(d))d=unescapeProperly(d);if(!SP.ScriptHelpers.isNullOrUndefined(e))e=unescapeProperly(e);if(!SP.ScriptHelpers.isNullOrUndefined(h))h=unescapeProperly(h);var b=a.ListData.PrevHref,c=a.ListData.NextHref;if(!SP.ScriptHelpers.isNullOrUndefinedOrEmpty(b)){b=SP.ScriptHelpers.replaceOrAddQueryString(b,"StartDateTime",d);b=SP.ScriptHelpers.replaceOrAddQueryString(b,"EndDateTime",e);a.ListData.PrevHref=SP.ScriptHelpers.replaceOrAddQueryString(b,"LMY",h)}if(!SP.ScriptHelpers.isNullOrUndefinedOrEmpty(c)){c=SP.ScriptHelpers.replaceOrAddQueryString(c,"StartDateTime",d);c=SP.ScriptHelpers.replaceOrAddQueryString(c,"EndDateTime",e);a.ListData.NextHref=c}}return SP.UI.Blogs.ListRenderer.prototype.renderViewBody.call(this,a)},renderItem:function(c){ULSSIv:;var a=new SP.HtmlBuilder,b=new SP.UI.Blogs.PostBehavior(c,c.CurrentItem);Array.add(this.$E_1,b);b.render(a);return a.toString()},get_noItemsMessage:function(){ULSSIv:;var a="";switch(this.baseViewID){case 9:a=Strings.STS.L_SPBlogsNoItemsInMonth;break;case 8:a=Strings.STS.L_SPBlogsNoItemsInCategory;break;case 0:a=Strings.STS.L_SPBlogsNoItems}return a},onPostRender:function(){ULSSIv:;for(var a=0,b=this.$E_1.length;a<b;a++){var c=this.$E_1[a];c.onPostRender()}}};SP.UI.Blogs.CommentBoxControl=function(a,b){ULSSIv:;this.$$d_$v_0=Function.createDelegate(this,this.$v_0);this.$$d_$z_0=Function.createDelegate(this,this.$z_0);this.$$d_$10_0=Function.createDelegate(this,this.$10_0);this.$$d_$y_0=Function.createDelegate(this,this.$y_0);this.$$d_$s_0=Function.createDelegate(this,this.$s_0);this.$$d_$t_0=Function.createDelegate(this,this.$t_0);this.$$d_$u_0=Function.createDelegate(this,this.$u_0);this.$$d_$x_0=Function.createDelegate(this,this.$x_0);this.$$d_$w_0=Function.createDelegate(this,this.$w_0);this.$0_0=b;this.$a_0=a;this.$F_0=true;this.$i_0=this.$$d_$w_0;this.$j_0=this.$$d_$x_0;this.$h_0=this.$$d_$u_0;this.$g_0=this.$$d_$t_0};SP.UI.Blogs.CommentBoxControl.prototype={$0_0:null,$a_0:null,$F_0:false,$B_0:false,$9_0:false,$K_0:false,$S_0:null,$R_0:null,$I_0:null,$i_0:null,$j_0:null,$h_0:null,$g_0:null,get_allowCollapse:function(){ULSSIv:;return this.$F_0},get_isVisible:function(){ULSSIv:;return this.$B_0},get_$o_0:function(){ULSSIv:;if(!this.$I_0)this.$I_0=$get(this.$7_0("CommentContainer"));return this.$I_0},get_$f_0:function(){ULSSIv:;if(!this.$R_0)this.$R_0=$get(this.$7_0("CommentSubmit"));return this.$R_0},get_$2_0:function(){ULSSIv:;if(!this.$S_0)this.$S_0=$get(this.$7_0("CommentTextBox"));return this.$S_0},show:function(){ULSSIv:;if(!this.$B_0){this.get_$o_0().innerHTML=this.$11_0();this.$n_0();this.$9_0=false;this.$B_0=true;this.$k_0();this.$T_0(false)}},$n_0:function(){ULSSIv:;$addHandler(this.get_$2_0(),"keyup",this.$i_0);$addHandler(this.get_$2_0(),"focus",this.$j_0);$addHandler(this.get_$2_0(),"blur",this.$h_0);$addHandler(this.get_$f_0(),"click",this.$g_0)},$7_0:function(b){ULSSIv:;var a;a=this.$a_0+"-"+b;return a},$t_0:function(a){ULSSIv:;a.preventDefault();EnsureScriptFunc("SP.js","SP.ClientContext",this.$$d_$s_0)},$s_0:function(){ULSSIv:;EnsureScriptFunc("SP.Core.js","SP.Guid",this.$$d_$y_0)},$y_0:function(){ULSSIv:;var b=SP.ClientContext.get_current(),d=GetUrlKeyValue("ID",false,null),e=b.get_web().get_lists().getById(new SP.Guid(this.$0_0.listName)),f=new SP.ListItemCreationInformation,a=e.addItem(f),c=SP.ScriptHelpers.getTextAreaElementValue(this.get_$2_0());a.set_item("Title",SP.ScriptHelpers.removeHtmlAndTrimStringWithEllipsis(STSHtmlEncode(c),30));a.set_item("Body",c);a.set_item("PostTitle",d);a.update();b.executeQueryAsync(this.$$d_$10_0,this.$$d_$z_0)},$w_0:function(){ULSSIv:;this.$k_0()},$x_0:function(){ULSSIv:;this.$K_0=true;this.$9_0=true;this.$T_0(true)},$u_0:function(){ULSSIv:;this.$K_0=false;window.setTimeout(this.$$d_$v_0,100)},$v_0:function(){ULSSIv:;if(this.$B_0&&!this.$K_0){if(this.$F_0&&!SP.ScriptHelpers.getTextAreaElementValue(this.get_$2_0()).length)this.$9_0=false;this.$T_0(true)}},$10_0:function(){ULSSIv:;var a=window.self.ajaxNavigate;SubmitFormPost(a.get_href())},$z_0:function(b,a){ULSSIv:;alert(a.get_message())},renderContainer:function(){ULSSIv:;var a=new SP.HtmlBuilder;a.addCssClass("ms-blog-postList");a.addAttribute("id",this.$7_0("CommentContainer"));a.renderBeginTag("div");a.renderEndTag();return a.toString()},$11_0:function(){ULSSIv:;var a=new SP.HtmlBuilder;a.renderBeginTag("div");SP.UI.Blogs.PostBehavior.$8=this.$7_0("CommentTextBox");a.addAttribute("id",SP.UI.Blogs.PostBehavior.$8);a.addCommunitiesCssClass("ms-comm-postReplyTextBox");a.addCssClass("ms-fullWidth");a.renderBeginTag("textarea");a.renderEndTag();a.renderEndTag();if(!SP.ScriptHelpers.isNullOrUndefinedOrEmpty(SP.UI.Blogs.PostBehavior.$4)){var b=$get(SP.UI.Blogs.PostBehavior.$4);!SP.ScriptHelpers.isNullOrUndefined(b)&&b.setAttribute("onclick","$get('"+SP.UI.Blogs.PostBehavior.$8+"').focus();")}if(!SP.ScriptHelpers.isNullOrUndefinedOrEmpty(SP.UI.Blogs.PostBehavior.$6)){var c=$get(SP.UI.Blogs.PostBehavior.$6);if(!SP.ScriptHelpers.isNullOrUndefined(c))c.style.display=""}a.renderBeginTag("div");a.addCssClass("ms-floatRight");a.renderBeginTag("div");a.addCssClass("ms-button-emphasize");a.addAttribute("id",this.$7_0("CommentSubmit"));a.addCssClass("ms-floatRight");a.renderBeginTag("button");a.writeEncoded(Strings.STS.L_SPCommentsAddButton);a.renderEndTag();a.renderEndTag();a.renderEndTag();return a.toString()},$k_0:function(){ULSSIv:;if(this.$B_0)this.get_$f_0().disabled=!(SP.ScriptHelpers.getTextAreaElementValue(this.get_$2_0()).length>0)||!this.$9_0},$T_0:function(g){ULSSIv:;var b="ms-comm-postReplyTextBox ms-fullWidth",c=SP.ScriptHelpers.getTextAreaElementValue(this.get_$2_0()),a;if(this.$9_0){a=74;c===Strings.STS.L_SPCommentsAdd&&SP.ScriptHelpers.setTextAreaElementValue(this.get_$2_0(),"")}else{b+=" ms-helperText";a=30;SP.ScriptHelpers.isNullOrUndefinedOrEmpty(c)&&SP.ScriptHelpers.setTextAreaElementValue(this.get_$2_0(),Strings.STS.L_SPCommentsAdd)}this.get_$2_0().setAttribute("class",b);if(g){var d=this.get_$2_0().style.minHeight,e=this.get_$2_0().offsetWidth;if(d!==a+"px"){this.get_$2_0().style.height=d;this.get_$2_0().style.width=e+"px";this.get_$2_0().style.minHeight="";var f=this;SPAnimationUtility.BasicAnimator.QuickResize(this.get_$2_0(),a,e,function(){ULSSIv:;f.get_$2_0().style.minHeight=a+"px"},null)}}else{this.get_$2_0().style.height=a+"px";this.get_$2_0().style.minHeight=a+"px"}}};SP.UI.Blogs.CommentsRenderer=function(a,b){ULSSIv:;SP.UI.Blogs.CommentsRenderer.initializeBase(this,[a,b])};SP.UI.Blogs.CommentsRenderer.$1A=function(b,a){ULSSIv:;a.addCssClass("ms-metadata");a.addCssClass("ms-textSmall");a.renderBeginTag("div");a.addCssClass("ms-blog-command-noLeftPadding");a.renderBeginTag("span");a.write(spMgr.RenderFieldByName(b,"Created.LongDate",b.CurrentItem,b.ListSchema));a.renderEndTag();var c=SP.ScriptHelpers.getListLevelPermissionMask(b.CurrentItem),d=Number.parseInvariant(SP.ScriptHelpers.getUserFieldProperty(b.CurrentItem,"Author","id"));if(b.CurrentUserId===d&&SP.ScriptHelpers.hasPermission(c,4)||SP.ScriptHelpers.hasPermission(c,2048)){a.addCssClass("ms-secondaryCommandLink");a.addCssClass("ms-blog-command");var e=window.self.ajaxNavigate;a.addAttribute("href",SP.ScriptHelpers.replaceOrAddQueryString(SP.ScriptHelpers.replaceOrAddQueryString(b.editFormUrl,"ID",b.CurrentItem.ID),"Source",e.get_href()));a.renderBeginTag("a");a.write(Strings.STS.L_SPBlogsEditCommand);a.renderEndTag()}a.renderEndTag()};SP.UI.Blogs.CommentsRenderer.prototype={$D_1:null,onPostRender:function(a){ULSSIv:;SP.UI.Blogs.ListRenderer.prototype.onPostRender.call(this,a);null!==this.$D_1&&this.$D_1.show(false)},renderViewBody:function(a){ULSSIv:;var b=SP.ScriptHelpers.getDocumentQueryPairs().ID;if(!SP.ScriptHelpers.isNullOrUndefinedOrEmpty(b)){var c=a.ListData.PrevHref,d=a.ListData.NextHref;if(!SP.ScriptHelpers.isNullOrUndefinedOrEmpty(c))a.ListData.PrevHref=SP.ScriptHelpers.replaceOrAddQueryString(c,"ID",b);if(!SP.ScriptHelpers.isNullOrUndefinedOrEmpty(d))a.ListData.NextHref=SP.ScriptHelpers.replaceOrAddQueryString(d,"ID",b)}return SP.UI.Blogs.ListRenderer.prototype.renderViewBody.call(this,a)},get_noItemsMessage:function(){ULSSIv:;return Strings.STS.L_SPClientNoComments},renderItem:function(b){ULSSIv:;var a=new SP.HtmlBuilder,c=b.CurrentItem;a.addCssClass("ms-blog-postComment");a.renderBeginTag("li");a.addCssClass("ms-table");a.addCssClass("ms-core-tableNoSpace");a.renderBeginTag("div");a.addCssClass("ms-tableRow");a.renderBeginTag("div");a.addCssClass("ms-tableCell");a.renderBeginTag("div");this.$12_1(b,a);a.renderEndTag();a.addCssClass("ms-tableCell");a.renderBeginTag("div");this.$15_1(a,b);a.renderEndTag();a.renderEndTag();a.renderEndTag();a.renderEndTag();return a.toString()},renderViewFooter:function(b){ULSSIv:;var a="";if(b.ListSchema.ListRight_AddListItems==="1"){this.$D_1=new SP.UI.Blogs.CommentBoxControl(this.rootElementID,b);a+=this.$D_1.renderContainer()}a+=SP.UI.Blogs.ListRenderer.prototype.renderViewFooter.call(this,b);return a},$12_1:function(b,e){ULSSIv:;var a=SP.ScriptHelpers.getFieldFromSchema(b.ListSchema,"Author");if(!SP.ScriptHelpers.isNullOrUndefined(a)){var c=a.WithPictureDetail,d=a.PictureOnly;a.DefaultRender=0;a.WithPictureDetail=0;a.PictureOnly=1;a.PictureSize="Size_48px";e.write(spMgr.RenderFieldByName(b,"Author",b.CurrentItem,b.ListSchema));a.WithPictureDetail=c;a.PictureOnly=d}},$15_1:function(a,b){ULSSIv:;var d=b.CurrentItem;a.addCssClass("ms-blog-postHeader");a.renderBeginTag("div");a.addCssClass("ms-textSmall");a.renderBeginTag("div");a.renderBeginTag("b");var c=SP.ScriptHelpers.getFieldFromSchema(b.ListSchema,"Author");if(!SP.ScriptHelpers.isNullOrUndefined(c)){c.DefaultRender=1;c.PictureOnly=0;c.WithPicture=0;c.WithPictureDetail=0;a.write(spMgr.RenderFieldByName(b,"Author",b.CurrentItem,b.ListSchema))}a.renderEndTag();a.write(" ");a.write(d.Body);a.renderEndTag();SP.UI.Blogs.CommentsRenderer.$1A(b,a);a.renderEndTag()}};SP.UI.Blogs.Constants=function(){};SP.UI.Blogs.Constants.BlogListTypes=function(){};SP.UI.Blogs.Constants.BlogListTypes.prototype={posts:301,comments:302,categories:303,links:103};SP.UI.Blogs.Constants.BlogListTypes.registerEnum("SP.UI.Blogs.Constants.BlogListTypes",false);SP.UI.Blogs.Constants.BlogViewIDs=function(){};SP.UI.Blogs.Constants.BlogViewIDs.prototype={postDefaultView:0,postCommentsView:7,postCategoryView:8,postArchiveView:9,categoryDefaultView:0,commentDefaultView:0,linksView:4};SP.UI.Blogs.Constants.BlogViewIDs.registerEnum("SP.UI.Blogs.Constants.BlogViewIDs",false);SP.UI.Blogs.GlobalTemplateOverrides=function(){};SP.UI.Blogs.GlobalTemplateOverrides.$$cctor=function(){ULSSIv:;for(var h=0,f=SP.UI.Blogs.GlobalTemplateOverrides.$G[0],i=f.length,c=0;c<i;++c){var a=f[c];h++;for(var g=SP.UI.Blogs.GlobalTemplateOverrides.$G[h],j=g.length,d=0;d<j;++d){var e=g[d],b=null;switch(a){case 301:b=new SP.UI.Blogs.BlogRenderer(a,e);break;case 302:b=new SP.UI.Blogs.CommentsRenderer(a,e);break;case 303:case 103:b=new SP.UI.Blogs.MenuListRenderer(a,e)}SPClientTemplates.TemplateManager.RegisterTemplateOverrides(b.createRenderingContextOverrides())}}};SP.UI.Blogs.ListRenderer=function(a,b){ULSSIv:;this.$$d_onPostRender=Function.createDelegate(this,this.onPostRender);this.$$d_onPreRender=Function.createDelegate(this,this.onPreRender);this.$$d_renderItem=Function.createDelegate(this,this.renderItem);this.$$d_$1B_0=Function.createDelegate(this,this.$1B_0);this.$$d_renderViewFooter=Function.createDelegate(this,this.renderViewFooter);this.$$d_renderViewBody=Function.createDelegate(this,this.renderViewBody);this.$$d_renderViewHeader=Function.createDelegate(this,this.renderViewHeader);this.listTemplateType=a;this.baseViewID=b};SP.UI.Blogs.ListRenderer.prototype={baseViewID:0,listTemplateType:0,rootElementID:null,createRenderingContextOverrides:function(){ULSSIv:;var a=new ListContext;a.BaseViewID=this.baseViewID;a.ListTemplateType=this.listTemplateType;a.Templates.Header=this.$$d_renderViewHeader;a.Templates.Body=this.$$d_renderViewBody;a.Templates.Footer=this.$$d_renderViewFooter;a.Templates.View=this.$$d_$1B_0;var b={};b.SPListItem2=this.$$d_renderItem;a.Templates.Item=b;a.OnPreRender=this.$$d_onPreRender;a.OnPostRender=this.$$d_onPostRender;return a},renderViewHeader:function(){ULSSIv:;return""},renderViewBody:function(b){ULSSIv:;var a=new SP.HtmlBuilder,d=b.ListData.Row,e=d.length;if(0===e){a.addCssClass("ms-metadata");a.renderBeginTag("div");a.writeEncoded(this.get_noItemsMessage());a.renderEndTag()}else{a.addCssClass("ms-blog-postList");a.renderBeginTag("ul");for(var c=0;c<e;c++){b.CurrentItem=d[c];a.write(this.renderItem(b));b.CurrentItem=null}a.renderEndTag()}return a.toString()},renderViewFooter:function(a){ULSSIv:;var c=new Array(0),e=window.self.ajaxNavigate,b=e.get_href();if(!SP.ScriptHelpers.isNullOrUndefinedOrEmpty(b)){var d=b.indexOf("?");if(d!==-1)b=b.substring(0,d);if(!SP.ScriptHelpers.isNullOrUndefinedOrEmpty(a.ListData.NextHref))a.ListData.NextHref=b+a.ListData.NextHref;if(!SP.ScriptHelpers.isNullOrUndefinedOrEmpty(a.ListData.PrevHref))a.ListData.PrevHref=b+a.ListData.PrevHref}RenderPaging(c,a);return c.join("")},$1B_0:function(b){ULSSIv:;var a=new SP.HtmlBuilder;this.rootElementID=b.listName+"-"+b.view;a.addAttribute("id",this.rootElementID);a.renderBeginTag("div");this.renderView(a,b);a.renderEndTag();return a.toString()},renderView:function(b,a){ULSSIv:;b.write(a.RenderHeader(a));b.write(a.RenderBody(a));b.write(a.RenderFooter(a))},onPreRender:function(){},onPostRender:function(){},get_noItemsMessage:function(){ULSSIv:;return""}};SP.UI.Blogs.MenuListRenderer=function(a,b){ULSSIv:;SP.UI.Blogs.MenuListRenderer.initializeBase(this,[a,b])};SP.UI.Blogs.MenuListRenderer.prototype={renderViewHeader:function(){ULSSIv:;return""},renderViewBody:function(b){ULSSIv:;var a=new SP.HtmlBuilder;a.renderBeginTag("li");a.addCssClass("ms-core-listMenu-item");a.addCssClass("ms-blog-quickLinksTitle");a.renderBeginTag("span");a.writeEncoded(b.ListTitle);a.renderEndTag();var d=b.ListData.Row,e=d.length;if(0<e){a.addCssClass("static");a.renderBeginTag("ul");for(var c=0;c<e;c++){b.CurrentItem=d[c];a.write(this.renderItem(b));b.CurrentItem=null}a.renderEndTag()}if(b.ListSchema.ListRight_AddListItems==="1"){a.addCssClass("static");a.renderBeginTag("ul");a.addCssClass("static");a.renderBeginTag("li");var f=window.self.ajaxNavigate;a.addAttribute("href",SP.ScriptHelpers.replaceOrAddQueryString(b.newFormUrl,"Source",f.get_href()));a.addCssClass("ms-core-listMenu-item");a.addCssClass("ms-commandLink");a.addCssClass("ms-uppercase");a.addCssClass("ms-blog-quickLinksEntry");a.renderBeginTag("a");switch(this.listTemplateType){case 103:a.writeEncoded(Strings.STS.L_AddLink);break;case 303:a.writeEncoded(Strings.STS.L_AddCategory)}a.renderEndTag();a.renderEndTag();a.renderEndTag()}a.renderEndTag();return a.toString()},renderViewFooter:function(){ULSSIv:;return""},$q_1:function(f){ULSSIv:;var a=new Array(3),b=f.CurrentItem,d=b.ID;switch(this.listTemplateType){case 103:a[0]=STSHtmlEncode(b.URL);var c=STSHtmlEncode(b["URL.desc"]);if(SP.ScriptHelpers.isNullOrUndefinedOrEmpty(c))c=a[0];a[1]=c;a[2]="blglink"+d;break;case 303:var e=b.Title;a[0]=SP.UI.Blogs.PostBehavior.$H(SP.UI.Blogs.PostBehavior.$X(),b,303);a[1]=STSHtmlEncode(e);a[2]="blgcat"+d}return a},renderItem:function(c){ULSSIv:;var a=new SP.HtmlBuilder,b=this.$q_1(c);a.addCssClass("static");a.renderBeginTag("li");a.addAttribute("href",b[0]);a.addAttribute("id",b[2]);a.addCssClass("ms-core-listMenu-item");a.addCssClass("ms-blog-quickLinksEntry");a.renderBeginTag("a");a.write(b[1]);a.renderEndTag();a.renderEndTag();return a.toString()},renderView:function(a,b){ULSSIv:;a.addCssClass("ms-core-listMenu-verticalBox ms-noList");a.renderBeginTag("div");a.addCssClass("static");a.addCssClass("ms-blog-listMenu-root");a.addCssClass("ms-core-listMenu-root");a.addCssClass("root");a.renderBeginTag("ul");a.write(b.RenderHeader(b));a.write(b.RenderBody(b));a.write(b.RenderFooter(b));a.renderEndTag();a.renderEndTag()}};SP.UI.Blogs.PostBehavior=function(a,b){ULSSIv:;this.$0_0=a;this.$1_0=b;this.$C_0="";this.$M_0="h2";this.$3_0=new SP.UI.CommandBar};SP.UI.Blogs.PostBehavior.$Y=function(){ULSSIv:;var a="";if(SP.ScriptHelpers.isNullOrUndefinedOrEmpty(a)&&!SP.ScriptHelpers.isNullOrUndefined(window.self.GlobalState)&&!SP.ScriptHelpers.isNullOrUndefined(GlobalState.SPUIBlogs_blogsSkinId))a=GlobalState.SPUIBlogs_blogsSkinId;return a};SP.UI.Blogs.PostBehavior.$p=function(){ULSSIv:;var a="";if(!SP.ScriptHelpers.isNullOrUndefined(window.self.GlobalState)&&!SP.ScriptHelpers.isNullOrUndefined(GlobalState.SPUIBlogs_blogsPostUrl))a=GlobalState.SPUIBlogs_blogsPostUrl;return a};SP.UI.Blogs.PostBehavior.$X=function(){ULSSIv:;var a="";if(!SP.ScriptHelpers.isNullOrUndefined(window.self.GlobalState)&&!SP.ScriptHelpers.isNullOrUndefined(GlobalState.SPUIBlogs_blogsCategoryUrl))a=GlobalState.SPUIBlogs_blogsCategoryUrl;return a};SP.UI.Blogs.PostBehavior.$H=function(a,f,o){ULSSIv:;if(SP.ScriptHelpers.isNullOrUndefinedOrEmpty(a))return"";var j=new RegExp("\\{[^\\{]*\\}","g"),b=a.match(j);switch(o){case 301:for(var c=0;c<b.length;c++){var d=b[c].substring(1,b[c].length-1);switch(d){case"CategoryId":d="lookupId";a=a.replace(b[c],f[d].toString());break;case"Name":d="lookupValue";var g=f[d];g=g.replace(new RegExp("&nbsp;","g")," ").replace(new RegExp("&#160;","g")," ");var k=new RegExp('["#%&*:<>?\\\\/{|}~. ]',"g"),l=g.replace(k,"-");a=a.replace(b[c],l);break;case"Title":var h=f[d];h=h.replace(new RegExp("&nbsp;","g")," ").replace(new RegExp("&#160;","g")," ");var m=new RegExp('["#%&*:<>?\\\\/{|}~. ]',"g"),n=h.replace(m,"-");a=a.replace(b[c],n);break;case"ID":a=a.replace(b[c],escapeProperlyCore(f[d],true))}}break;case 303:for(var e=0;e<b.length;e++){var i=b[e].substring(1,b[e].length-1);switch(i){case"CategoryId":i="ID";a=a.replace(b[e],f[i].toString())}}}return a};SP.UI.Blogs.PostBehavior.prototype={$1_0:null,$0_0:null,$3_0:null,$A_0:null,$C_0:null,$M_0:null,$e_0:null,get_context:function(){ULSSIv:;return this.$0_0},get_itemID:function(){ULSSIv:;return this.$1_0.ID},get_jsonItem:function(){ULSSIv:;return this.$1_0},get_$L_0:function(){ULSSIv:;if(SP.ScriptHelpers.isNullOrUndefinedOrEmpty(this.$A_0))this.$A_0=SP.UI.Blogs.PostBehavior.$H(SP.UI.Blogs.PostBehavior.$p(),this.$1_0,301);return this.$A_0},render:function(a){ULSSIv:;this.$0_0.ListSchema.UserVanilla=true;this.$e_0=SP.UI.Blogs.PostBehavior.$Y();switch(this.$e_0){case"1":this.$14_0(a);break;case"2":this.$19_0(a);break;default:this.$C_0="ms-accentText";this.$M_0="h1";this.$13_0(a)}},onPostRender:function(){ULSSIv:;this.$3_0.attachEvents()},$14_0:function(a){ULSSIv:;this.$0_0.CurrentItem=this.$1_0;a.renderBeginTag("li");a.addCssClass("ms-blog-postBox");a.addCssClass("ms-shadow");a.renderBeginTag("div");a.addCssClass("ms-blog-postBoxDate");a.renderBeginTag("div");a.write(this.$17_0());a.renderEndTag();a.addCssClass("ms-blog-postBoxMargin");a.renderBeginTag("div");this.$Q_0(a);if(this.$0_0.BaseViewID!==8&&this.$0_0.BaseViewID!==9){this.$5_0(a,11);this.$N_0(a);this.$O_0(a,false)}else this.$5_0(a,27);a.renderEndTag();a.renderEndTag();a.write(this.$P_0());a.renderEndTag()},$13_0:function(a){ULSSIv:;this.$0_0.CurrentItem=this.$1_0;a.renderBeginTag("li");a.renderBeginTag("div");this.$Q_0(a);this.$16_0(a);if(this.$0_0.BaseViewID!==8&&this.$0_0.BaseViewID!==9){this.$N_0(a);this.$5_0(a,11);this.$O_0(a,true)}else this.$5_0(a,27);a.renderEndTag();a.write(this.$P_0());a.renderEndTag()},$19_0:function(a){ULSSIv:;this.$0_0.CurrentItem=this.$1_0;a.renderBeginTag("li");a.renderBeginTag("div");a.addCssClass("ms-blog-postInlineDate");a.addCssClass(this.$C_0);a.renderBeginTag("div");a.write(this.$18_0());a.renderEndTag();a.renderBeginTag("div");a.addCssClass("ms-blog-postInlineMargin");a.renderBeginTag("div");this.$Q_0(a);if(this.$0_0.BaseViewID!==8&&this.$0_0.BaseViewID!==9){this.$5_0(a,3);a.renderEndTag();this.$N_0(a);this.$5_0(a,12);this.$O_0(a,true)}else{this.$5_0(a,27);a.renderEndTag()}a.renderEndTag();a.renderEndTag();a.write(this.$P_0());a.renderEndTag()},$P_0:function(){ULSSIv:;var a=new SP.HtmlBuilder;if(this.$0_0.BaseViewID===7)if(SP.UI.Blogs.PostBehavior.$Y()!=="1"){a.addCssClass("ms-blog-postDividerHr");a.renderBeginTag("hr");a.renderEndTag()}a.addCssClass("ms-blog-postDivider");a.renderBeginTag("div");var b=this.$0_0.CurrentItem.NumComments;if(this.$0_0.BaseViewID===7&&!SP.ScriptHelpers.isNullOrUndefined(b)){a.addAttribute("name","comments");a.renderBeginTag("a");a.renderEndTag();a.addCssClass("ms-blog-postComments");a.renderBeginTag("h3");if(SP.ScriptHelpers.isNullOrUndefinedOrEmpty(b))b="0";var c=SP.Utilities.LocUtility.getLocalizedCountValue(Strings.STS.L_SPClientNumCommentsTemplate,Strings.STS.L_SPClientNumCommentsTemplateIntervals,Number.parseLocale(b));a.write(String.format(c,b));a.renderEndTag()}a.renderEndTag();return a.toString()},$N_0:function(a){ULSSIv:;a.renderBeginTag("p");a.addCssClass("ms-blog-postBody");a.renderBeginTag("div");a.write(spMgr.RenderFieldByName(this.$0_0,"Body",this.$1_0,this.$0_0.ListSchema));a.renderEndTag();a.renderEndTag()},$Q_0:function(a){ULSSIv:;a.renderBeginTag(this.$M_0);a.addCssClass(this.$C_0);a.addAttribute("href",this.get_$L_0());a.renderBeginTag("a");a.write(spMgr.RenderFieldByName(this.$0_0,"Title",this.$1_0,this.$0_0.ListSchema));a.renderEndTag();a.renderEndTag()},$16_0:function(a){ULSSIv:;a.addCssClass("ms-metadata");a.renderBeginTag("div");a.write(spMgr.RenderFieldByName(this.$0_0,"PublishedDate.LongDate",this.$1_0,this.$0_0.ListSchema));a.renderEndTag()},$5_0:function(a,b){ULSSIv:;a.addCssClass("ms-metadata ms-textSmall");a.renderBeginTag("div");var f=false,g=false,c=null,d="",h="",e="";if(b&16&&this.$0_0.BaseViewID!==7){var k=this.$0_0.CurrentItem.NumComments;g=!SP.ScriptHelpers.isNullOrUndefined(k)}if(b&1)d=spMgr.RenderFieldByName(this.$0_0,"Author",this.$1_0,this.$0_0.ListSchema);if(b&8)e=spMgr.RenderFieldByName(this.$0_0,"PublishedDate.TimeOnly",this.$1_0,this.$0_0.ListSchema);if(b&4)h=spMgr.RenderFieldByName(this.$0_0,"PublishedDate.LongDate",this.$1_0,this.$0_0.ListSchema);if(b&2){c=this.$1_0.PostCategory;f=!SP.ScriptHelpers.isNullOrUndefined(c)&&c.length>0}var i=11,j=12;if(g){a.addCssClass("ms-blog-command-noLeftPadding");a.addCssClass("ms-comm-metalineItemSeparator")}a.renderBeginTag("span");if((b&i)===i)if(f)a.write(String.format(STSHtmlEncode(Strings.STS.L_SPBlogPostAuthorTimeCategories),d,e,this.$c_0(c)));else a.write(String.format(STSHtmlEncode(Strings.STS.L_SPBlogPostAuthorTime),d,e));else if(b&1)if(f)a.write(String.format(STSHtmlEncode(Strings.STS.L_SPBlogPostAuthorCategories),d,this.$c_0(c)));else a.write(String.format(STSHtmlEncode(Strings.STS.L_SPBlogPostAuthor),d));else(b&j)===j&&a.write(String.format(STSHtmlEncode(Strings.STS.L_SPBlogPostOn),h,e));a.renderEndTag();g&&this.$d_0("span",a,false);a.renderEndTag()},$c_0:function(d){ULSSIv:;for(var a=new SP.HtmlBuilder,b=0,e=d.length;b<e;b++){var c=d[b];b&&a.writeEncoded(Strings.STS.L_SPBlogsEnumSeparator);var f=SP.UI.Blogs.PostBehavior.$H(SP.UI.Blogs.PostBehavior.$X(),c,301);a.addAttribute("href",f);a.addAttribute("id","blgcat");a.addAttribute("class","ms-link");a.renderBeginTag("a");a.writeEncoded(c.lookupValue);a.renderEndTag()}return a.toString()},$d_0:function(d,a,e){ULSSIv:;a.addCssClass(e?"ms-blog-command-noLeftPadding ms-textSmall":"ms-blog-command");a.renderBeginTag(d);var b=this.$1_0.NumComments,c=SP.Utilities.LocUtility.getLocalizedCountValue(Strings.STS.L_SPClientNumCommentsTemplate,Strings.STS.L_SPClientNumCommentsTemplateIntervals,Number.parseLocale(b));a.write(String.format(c,b));a.renderEndTag()},$O_0:function(a,k){ULSSIv:;k&&a.addCssClass("ms-blog-commandSpace");a.renderBeginTag("div");var g=this.$0_0.CurrentItem.NumComments;if(this.$0_0.BaseViewID!==7&&!SP.ScriptHelpers.isNullOrUndefined(g)){a.addAttribute("href",this.get_$L_0()+"#comments");a.addCssClass("ms-comm-metalineItemSeparator");this.$d_0("a",a,true);a.addCssClass("ms-blog-command");a.addAttribute("style","display: inline-block;")}for(var c=this.$0_0.wpq+"_"+this.$0_0.CurrentItem.ID,d=["LikesCount","AverageRating"],h=["likesElement-","averageRatingElement-"],b=0;b<d.length;b++)SP.ScriptHelpers.getFieldFromSchema(this.$0_0.ListSchema,d[b])&&this.$3_0.addCommand(new SP.UI.Blogs.FieldRendererCommand(d[b],h[b]+this.$0_0.CurrentItem.ID,this.$0_0));this.$0_0.BaseViewID===7&&this.$3_0.addCommand(new SP.UI.Blogs.CommentCommand(c));this.$3_0.addCommand(new SP.UI.Blogs.ShareCommand(c,this.get_$L_0(),spMgr.RenderFieldByName(this.$0_0,"Title",this.$1_0,this.$0_0.ListSchema)));var f=SP.ScriptHelpers.getListLevelPermissionMask(this.$0_0.CurrentItem),i=Number.parseInvariant(SP.ScriptHelpers.getUserFieldProperty(this.$0_0.CurrentItem,"Author","id"));if(this.$0_0.CurrentUserId===i&&SP.ScriptHelpers.hasPermission(f,4)||SP.ScriptHelpers.hasPermission(f,2048)){var e=SP.ScriptHelpers.replaceOrAddQueryString(this.$0_0.editFormUrl,"ID",this.$1_0.ID),j=window.self.ajaxNavigate;e=SP.ScriptHelpers.replaceOrAddQueryString(e,"Source",j.get_href());this.$3_0.addCommand(new SP.UI.Blogs.EditCommand(c,e))}this.$3_0.render(a);a.renderEndTag()},$17_0:function(){ULSSIv:;for(var a=new SP.HtmlBuilder,j=spMgr.RenderFieldByName(this.$0_0,"PublishedDate.DateOnly",this.$1_0,this.$0_0.ListSchema),c=Sys.CultureInfo.CurrentCulture.dateTimeFormat.DateSeparator,k=Sys.CultureInfo.CurrentCulture.dateTimeFormat.ShortDatePattern,f=k.split(c),g=f.length,d=0,b=0;b<g;b++)if(-1!==f[b].indexOf("y")){d=b;break}var h=j.split(c);a.addCssClass("ms-textSmall");a.renderBeginTag("div");a.write(h[d]);a.renderEndTag();a.addCssClass("ms-textXLarge");a.addCssClass("ms-blog-dateText");a.renderBeginTag("div");for(var e=0,i=1;;e++){if(d===e)continue;a.write(h[e]);i++;if(i===g)break;a.write(c)}a.renderEndTag();return a.toString()},$18_0:function(){ULSSIv:;var a=new SP.HtmlBuilder,c=spMgr.RenderFieldByName(this.$0_0,"PublishedDate.MonthDayOnly",this.$1_0,this.$0_0.ListSchema),b=c.split(" ");if(b.length===2){a.addCssClass("ms-textXLarge");a.renderBeginTag("div");a.write(b[1]);a.renderEndTag();a.addCssClass("ms-uppercase");a.addCssClass("ms-blog-boldMonth");a.addCssClass("ms-textSmall");a.renderBeginTag("div");a.write(b[0]);a.renderEndTag()}else{a.renderBeginTag("h2");a.write(c);a.renderEndTag()}return a.toString()}};SP.UI.Blogs.CommentCommand=function(a){ULSSIv:;SP.UI.Blogs.CommentCommand.initializeBase(this,["comment-"+a,Strings.STS.L_SPBlogsCommentCommand]);this.$l_1=a};SP.UI.Blogs.CommentCommand.prototype={$l_1:null,onClick:function(){ULSSIv:;if(!SP.ScriptHelpers.isNullOrEmptyString(SP.UI.Blogs.PostBehavior.$8)){var a=$get(SP.UI.Blogs.PostBehavior.$4);!SP.ScriptHelpers.isNullOrUndefined(a)&&a.focus()}},get_linkElement:function(){ULSSIv:;return $get(SP.UI.Blogs.PostBehavior.$4)},render:function(a){ULSSIv:;SP.UI.Blogs.PostBehavior.$6="comment-commandid-"+this.$l_1;SP.UI.Blogs.PostBehavior.$4=SP.UI.Blogs.PostBehavior.$6+"-1";a.addAttribute("id",SP.UI.Blogs.PostBehavior.$6);!SP.UI.Blogs.PostBehavior.$V&&a.addAttribute("style","display:none");a.renderBeginTag("span");a.addCssClass("ms-secondaryCommandLink");a.addCssClass("ms-blog-command-noLeftPadding");a.addAttribute("id",SP.UI.Blogs.PostBehavior.$4);a.addAttribute("href","#");a.renderBeginTag("a");a.writeEncoded(Strings.STS.L_SPBlogsCommentCommand);a.renderEndTag();a.renderEndTag()}};SP.UI.Blogs.ShareCommand=function(a,b,c){ULSSIv:;SP.UI.Blogs.ShareCommand.initializeBase(this,["share_"+a,Strings.STS.L_SPBlogsShareCommand]);this.$A_1=escapeProperlyCore(b,true);this.$b_1=c};SP.UI.Blogs.ShareCommand.$r=function(a,b){ULSSIv:;window.location.href="mailto:?body="+escapeProperlyCore(a,false)+"&subject="+escapeProperlyCore(b,false)};SP.UI.Blogs.ShareCommand.prototype={$A_1:null,$b_1:null,onClick:function(){ULSSIv:;SP.UI.Blogs.ShareCommand.$r(this.$A_1,this.$b_1)}};SP.UI.Blogs.EditCommand=function(a,b){ULSSIv:;SP.UI.Blogs.EditCommand.initializeBase(this,["edit_"+a,Strings.STS.L_SPBlogsEditCommand]);this.$U_1=b};SP.UI.Blogs.EditCommand.prototype={$U_1:null,get_href:function(){ULSSIv:;return this.$U_1},onClick:function(){ULSSIv:;STSNavigate(this.get_href())}};SP.UI.Blogs.FieldRendererCommand=function(a,b,c){ULSSIv:;SP.UI.Blogs.FieldRendererCommand.initializeBase(this,["",""]);this.$Z_1=b;this.$0_1=c;this.$W_1=a};SP.UI.Blogs.FieldRendererCommand.prototype={$J_1:null,$Z_1:null,$0_1:null,$W_1:null,get_linkElement:function(){ULSSIv:;if(!this.$J_1)this.$J_1=$get(this.$Z_1);return this.$J_1},render:function(a){ULSSIv:;a.addCssClass("ms-comm-cmdSpaceListItem");a.renderBeginTag("span");a.write(spMgr.RenderFieldByName(this.$0_1,this.$W_1,this.$0_1.CurrentItem,this.$0_1.ListSchema));a.renderEndTag()}};SP.UI.Blogs.ListRenderer.registerClass("SP.UI.Blogs.ListRenderer");SP.UI.Blogs.BlogRenderer.registerClass("SP.UI.Blogs.BlogRenderer",SP.UI.Blogs.ListRenderer);SP.UI.Blogs.CommentBoxControl.registerClass("SP.UI.Blogs.CommentBoxControl");SP.UI.Blogs.CommentsRenderer.registerClass("SP.UI.Blogs.CommentsRenderer",SP.UI.Blogs.ListRenderer);SP.UI.Blogs.Constants.registerClass("SP.UI.Blogs.Constants");SP.UI.Blogs.GlobalTemplateOverrides.registerClass("SP.UI.Blogs.GlobalTemplateOverrides");SP.UI.Blogs.MenuListRenderer.registerClass("SP.UI.Blogs.MenuListRenderer",SP.UI.Blogs.ListRenderer);SP.UI.Blogs.PostBehavior.registerClass("SP.UI.Blogs.PostBehavior");SP.UI.Blogs.CommentCommand.registerClass("SP.UI.Blogs.CommentCommand",SP.UI.Command);SP.UI.Blogs.ShareCommand.registerClass("SP.UI.Blogs.ShareCommand",SP.UI.Command);SP.UI.Blogs.EditCommand.registerClass("SP.UI.Blogs.EditCommand",SP.UI.Command);SP.UI.Blogs.FieldRendererCommand.registerClass("SP.UI.Blogs.FieldRendererCommand",SP.UI.Command);function sp_ui_blogs_initialize(){ULSSIv:;SP.UI.Blogs.GlobalTemplateOverrides.$G=[[301,303,302,103],[0,7,8,9],[0],[0],[4]];SP.UI.Blogs.GlobalTemplateOverrides.$$cctor();SP.UI.Blogs.PostBehavior.$6=null;SP.UI.Blogs.PostBehavior.$4=null;SP.UI.Blogs.PostBehavior.$8=null;SP.UI.Blogs.PostBehavior.$V=false}sp_ui_blogs_initialize();RegisterModuleInit("sp.ui.blogs.js",sp_ui_blogs_initialize);typeof Sys!="undefined"&&Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded();NotifyScriptLoadedAndExecuteWaitingJobs("sp.ui.blogs.js");
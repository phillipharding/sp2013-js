function $_global_hashtagprofile(){HashTagProfile_Init=function(){var a=function(b){var a=b.lastChild;while(a.nodeType!=1)a=a.previousSibling;return a};(function(){var b=document.getElementById("HashTagProfile_FollowTagLinkSpan"),c=document.getElementById("HashTagProfile_UnfollowTagLinkSpan");if(a(b).getAttribute("isFollowed")=="True"){b.style.display="none";c.style.display="inline"}else if(a(b).getAttribute("isFollowed")=="False"){b.style.display="inline";c.style.display="none"}})();SP.SOD.executeFunc("SP.js","SP.ClientContext",function(){SP.SOD.executeFunc("SP.UserProfiles.js","SP.UserProfiles",function(){var b=function(){var a=window.location.search.substring(1,window.location.search.length);if(SP.ScriptUtility.isNullOrEmptyString(a)){a=window.location.hash;a=a.substring(a.indexOf("?")+1,a.length)}var b=null;if(!SP.ScriptUtility.isNullOrEmptyString(a)&&a.indexOf("TermID")!==-1){b=a.substr(a.indexOf("TermID"));b=b.substr(a.indexOf("=")+1);if(b.indexOf("&")!==-1)b=b.substring(0,b.indexOf("&"))}return b};followHashTag=function(){var e=SP.ClientContext.get_current(),f=SP.UserProfiles.PeopleManager.newObject(e);f.followTag(b());var d=document.getElementById("HashTagProfile_FollowTagLinkSpan"),c=document.getElementById("HashTagProfile_UnfollowTagLinkSpan");e.executeQueryAsync(function(){a(d).setAttribute("isFollowed","True");a(c).setAttribute("isFollowed","True");d.style.display="none";c.style.display="inline"},function(){})};unfollowHashTag=function(){var e=SP.ClientContext.get_current(),f=SP.UserProfiles.PeopleManager.newObject(e);f.stopFollowingTag(b());var d=document.getElementById("HashTagProfile_FollowTagLinkSpan"),c=document.getElementById("HashTagProfile_UnfollowTagLinkSpan");e.executeQueryAsync(function(){a(d).setAttribute("isFollowed","False");a(c).setAttribute("isFollowed","False");d.style.display="inline";c.style.display="none"},function(){})};showAddAssociatedHashTags=function(){document.getElementById("HashTagProfile_RelatedTags_AddTagLink").style.display="none";document.getElementById("HashTagProfile_RelatedTags_AddTagArea").style.display="inline-block";document.getElementById("HashTagProfile_RelatedTags_TaggingControl").style.display="inline-block"};clearRelatedTagControl=function(c){document.getElementById("HashTagProfile_RelatedTags_TaggingControl").style.display="none";document.getElementById("HashTagProfile_RelatedTags_AddTagArea").style.display="none";document.getElementById("HashTagProfile_RelatedTags_AddTagLink").style.display="block";var b=document.getElementById(c),a=new Microsoft.SharePoint.Taxonomy.ControlObject(b);a.setRawText("");a.retrieveTerms()};saveTag=function(a){window.setTimeout("clearRelatedTagControl('"+a+"')",0)};cancelTag=function(a){window.setTimeout("clearRelatedTagControl('"+a+"')",0)};removeTag=function(a){window.setTimeout("clearRelatedTagControl('"+a+"')",0)};showMoreTags=function(a){window.setTimeout("clearRelatedTagControl('"+a+"')",0)}})})}}$_global_hashtagprofile();
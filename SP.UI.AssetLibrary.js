function ULSUU1(){var o=new Object;o.ULSTeamName="CMS";o.ULSFileName="SP.UI.AssetLibrary.js";return o;}
Type.registerNamespace("SP.UI.AssetLibrary");SP.UI.AssetLibrary.AssetLibraryTileViewRenderer=function(a,b){ULSUU1:;this.$$d_$5_2=Function.createDelegate(this,this.$5_2);SP.UI.AssetLibrary.AssetLibraryTileViewRenderer.initializeBase(this,[a,b])};SP.UI.AssetLibrary.AssetLibraryTileViewRenderer.prototype={onCreateRenderingContextOverrides:function(a){ULSUU1:;if(null!==a){a.Templates.Item=this.$$d_$5_2;AddPostRenderCallback(a,SP.UI.TileView.TileViewRenderer.hideSelectAllItemsCbxAndTH)}},$5_2:function(b){ULSUU1:;if(!b)return"";var a=b.CurrentItem;if(!a)return"";var f=a.ID,g=STSHtmlEncode(SP.UI.TileView.Utilities.getItemNameOrTitle(a)),h=SP.UI.TileView.TileViewRenderer.getPreviewImageUrl(b,a),c=a.ImageWidth,d=a.ImageHeight;if(SP.ScriptHelpers.isNullOrUndefinedOrEmpty(c))c=a.VideoWidthInPixels;if(SP.ScriptHelpers.isNullOrUndefinedOrEmpty(d))d=a.VideoHeightInPixels;var e=new SP.UI.AssetLibrary.AssetLibraryTileViewRenderer.AssetLibraryTileRenderer(b,f,g,h,c,d);e.set_renderSelectionControlForTabular(true);return e.render()}};SP.UI.AssetLibrary.AssetLibraryTileViewRenderer.AssetLibraryTileRenderer=function(a,b,c,d,e,f){ULSUU1:;this.$2_2={};SP.UI.AssetLibrary.AssetLibraryTileViewRenderer.AssetLibraryTileRenderer.initializeBase(this,[a,b,150,c,d,e,f])};SP.UI.AssetLibrary.AssetLibraryTileViewRenderer.AssetLibraryTileRenderer.$1=function(a){ULSUU1:;return!SP.ScriptHelpers.isNullOrUndefinedOrEmpty(a)?"<div>"+a+"</div>":""};SP.UI.AssetLibrary.AssetLibraryTileViewRenderer.AssetLibraryTileRenderer.$4=function(e){ULSUU1:;var b=parseInt(e);if(!isNaN(b)){var a=Math.floor(b/3600),c=Math.floor((b-a*3600)/60),d=b-(a*3600+c*60);return String.format("{0}{1}{2}:{3}{4}",a<1?"":String.format("{0}{1}:",a<10?"0":"",a.toString()),c<10?"0":"",c.toString(),d<10?"0":"",d.toString())}return e};SP.UI.AssetLibrary.AssetLibraryTileViewRenderer.AssetLibraryTileRenderer.prototype={get_tileDescription:function(){ULSUU1:;var a="",e=true,b=this.item.ContentTypeId;if(!SP.ScriptHelpers.isNullOrUndefinedOrEmpty(b)){b=b.toLowerCase();e=b.startsWith("0x0101009148F5A04DDD49cbA7127AADA5FB792B00AADE34325A8B49cdA8BB4DB53328F214".toLowerCase())}if(e){var c=this.$3_2(this.context.ListSchema,"ImageSize")>=0,d=null;if(c)d=spMgr.RenderFieldByName(this.context,"ImageSize",this.item,this.context.ListSchema);EnsureFileLeafRefSuffix(this.item);var f=this.item["FileLeafRef.Suffix"];if(!SP.ScriptHelpers.isNullOrUndefinedOrEmpty(f)){var g=STSHtmlEncode(f.toUpperCase());if(c)g+="&nbsp;"+d;a+=SP.UI.AssetLibrary.AssetLibraryTileViewRenderer.AssetLibraryTileRenderer.$1(g)}else if(c)a+=SP.UI.AssetLibrary.AssetLibraryTileViewRenderer.AssetLibraryTileRenderer.$1(d);var k=this.$3_2(this.context.ListSchema,"FileSizeDisplay")>=0;if(k){var l=spMgr.RenderFieldByName(this.context,"FileSizeDisplay",this.item,this.context.ListSchema);a+=SP.UI.AssetLibrary.AssetLibraryTileViewRenderer.AssetLibraryTileRenderer.$1(l)}}else{var h=this.item.ContentType,m=!SP.ScriptHelpers.isNullOrUndefinedOrEmpty(h);if(m)a+=SP.UI.AssetLibrary.AssetLibraryTileViewRenderer.AssetLibraryTileRenderer.$1(h);var i=this.item.MediaLengthInSeconds,n=!SP.ScriptHelpers.isNullOrUndefinedOrEmpty(i);if(n)a+=SP.UI.AssetLibrary.AssetLibraryTileViewRenderer.AssetLibraryTileRenderer.$1(String.format(Strings.CMS.L_AssetLibraryDetailDuration,SP.UI.AssetLibrary.AssetLibraryTileViewRenderer.AssetLibraryTileRenderer.$4(i)))}var j=!SP.ScriptHelpers.isNullOrUndefinedOrEmpty(b)&&b.startsWith("0x0120D520A808".toLowerCase())||APD_IsFileSupportedByMediaPlayer(this.item.FileRef);j&&EnsureScriptFunc("mediaplayer.js","mediaplayer",null);return a},$3_2:function(d,f){ULSUU1:;var a=f.toLowerCase();if(!SP.ScriptHelpers.isNullOrUndefinedOrEmpty(this.$2_2[a]))return this.$2_2[a];for(var c=-1,b=0;b<d.Field.length;b++){var e=d.Field[b];if(e.Name.toLowerCase()===a){c=b;break}}this.$2_2[a]=c;return c}};SP.UI.AssetLibrary.GlobalTemplateOverrides=function(){};SP.UI.AssetLibrary.GlobalTemplateOverrides.$$cctor=function(){ULSUU1:;var a=new SP.UI.AssetLibrary.AssetLibraryTileViewRenderer(851,40);SPClientTemplates.TemplateManager.RegisterTemplateOverrides(a.createRenderingContextOverrides())};SP.UI.AssetLibrary.AssetLibraryTileViewRenderer.registerClass("SP.UI.AssetLibrary.AssetLibraryTileViewRenderer",SP.UI.TileView.TabularTileViewRenderer);SP.UI.AssetLibrary.AssetLibraryTileViewRenderer.AssetLibraryTileRenderer.registerClass("SP.UI.AssetLibrary.AssetLibraryTileViewRenderer.AssetLibraryTileRenderer",SP.UI.TileView.TabularTileRenderer);SP.UI.AssetLibrary.GlobalTemplateOverrides.registerClass("SP.UI.AssetLibrary.GlobalTemplateOverrides");function sp_ui_assetlibrary_initialize(){ULSUU1:;SP.UI.AssetLibrary.GlobalTemplateOverrides.$$cctor()}sp_ui_assetlibrary_initialize();RegisterModuleInit("SP.UI.AssetLibrary.js",sp_ui_assetlibrary_initialize);typeof Sys!="undefined"&&Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded();NotifyScriptLoadedAndExecuteWaitingJobs("SP.UI.AssetLibrary.js");
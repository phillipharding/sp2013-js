Type.registerNamespace("SP.UI.MySiteCommon");SP.UI.MySiteCommon.CheckBoxMenuItem=function(a){SP.UI.MySiteCommon.CheckBoxMenuItem.initializeBase(this,[a]);this.$j_0=false};SP.UI.MySiteCommon.CheckBoxMenuItem.prototype={onInvoke:function(b,a){this.$L_1=!this.$L_1;!this.$14_1&&this.$T_0.$1R_0(a)},onMenuElementCreated:function(a){SP.UI.MySiteCommon.MySiteMenuItem.prototype.onMenuElementCreated.call(this,a);a.setAttribute("checked",this.$L_1)},get_checked:function(){return this.$L_1},set_checked:function(a){this.$L_1=a;return a},get_closeOnCheck:function(){return this.$14_1},set_closeOnCheck:function(a){this.$14_1=a;return a},$L_1:false,$14_1:true};SP.UI.MySiteCommon.CommonUIElements=function(){};SP.UI.MySiteCommon.CommonUIElements.$C=function(a,b){return b?"ms-hidden":a?"ms-visibilityHidden":"ms-hide"};SP.UI.MySiteCommon.CommonUIElements.display=function(a){if(a){a.className=a.className.replace(SP.UI.MySiteCommon.CommonUIElements.$C(true,false),"").replace(SP.UI.MySiteCommon.CommonUIElements.$C(false,false),"").trim();if(a.tagName.toLowerCase()==="a")a.tabIndex=0}};SP.UI.MySiteCommon.CommonUIElements.displayForTabbable=function(a){if(a){var b=a.previousSibling,c=a.parentNode;c&&b&&b.getAttribute(SP.UI.MySiteCommon.CommonUIElements.$1D)==="true"&&c.removeChild(b);var d=a.getAttribute(SP.UI.MySiteCommon.CommonUIElements.$b),e=a.getAttribute(SP.UI.MySiteCommon.CommonUIElements.$a);if(d){a.style.width=d;a.removeAttribute(SP.UI.MySiteCommon.CommonUIElements.$b)}if(e){a.style.height=e;a.removeAttribute(SP.UI.MySiteCommon.CommonUIElements.$a)}a.className=a.className.replace(SP.UI.MySiteCommon.CommonUIElements.$C(false,true),"").trim()}};SP.UI.MySiteCommon.CommonUIElements.setDisplayNone=function(c,a){var b=SP.UI.MySiteCommon.CommonUIElements.$C(c,false);if(a&&a.className.indexOf(b)===-1){a.className+=" "+b;if(a.tagName.toLowerCase()==="a")a.tabIndex=-1}};SP.UI.MySiteCommon.CommonUIElements.setDisplayNoneAndTabbable=function(e,a){var f=SP.UI.MySiteCommon.CommonUIElements.$C(e,true);if(a&&a.className.indexOf(f)===-1){var g=false,h=false,c=a.style.width,i=c;if(SP.ScriptHelpers.isNullOrEmptyString(c)||c==="auto")i=a.clientWidth+"px";else g=true;var d=a.style.height,j=d;if(SP.ScriptHelpers.isNullOrEmptyString(d)||d==="auto")j=a.clientHeight+"px";else h=true;var l=a.className,k=a.parentNode;a.className+=" "+f;a.style.height="";a.style.width="";g&&a.setAttribute(SP.UI.MySiteCommon.CommonUIElements.$b,c);h&&a.setAttribute(SP.UI.MySiteCommon.CommonUIElements.$a,d);if(e&&k){var b=document.createElement("div");b.setAttribute(SP.UI.MySiteCommon.CommonUIElements.$1D,"true");b.style.width=i;b.style.height=j;b.className=l;k.insertBefore(b,a)}}};SP.UI.MySiteCommon.CommonUIElements.isEntirelyHidden=function(a){return!a?true:a.className?a.className.indexOf(SP.UI.MySiteCommon.CommonUIElements.$C(false,false))!==-1:false};SP.UI.MySiteCommon.CommonUIElements.displayOrHide=function(a,b){if(b)SP.UI.MySiteCommon.CommonUIElements.display(a);else SP.UI.MySiteCommon.CommonUIElements.setDisplayNone(false,a)};SP.UI.MySiteCommon.CommonUIElements.findElementByID=function(a,e){if(!a||a.id===e)return a;var b=a.childNodes,c=null;if(b)for(var d=0;d<b.length;d++){c=SP.UI.MySiteCommon.CommonUIElements.findElementByID(b[d],e);if(c)return c}return null};SP.UI.MySiteCommon.CommonUIElements.getValidId=function(b,c){var d=new RegExp("\\\\","g"),a=StAttrQuote(String.format(b,c.replace(d,"_-_")));return a.substring(1,a.length-1)};SP.UI.MySiteCommon.CommonUIElements.isSafeURL=function(a){if(a){var b=a.toLowerCase();if(b.indexOf("javascript:")===-1&&b.indexOf("vbscript:")===-1)return true}return false};SP.UI.MySiteCommon.CommonUIElements.createSafeAnchorHTML=function(h,b,f,d,e,c){var a="";if(SP.UI.MySiteCommon.CommonUIElements.isSafeURL(d)){var g=c?STSHtmlEncode(b):b;a=SP.UI.MySiteCommon.CommonUIElements.createAnchorOpenHTMLTag(h,f,d,e)+g+"</a>"}else if(c)a=STSHtmlEncode(b);else a=b;return a};SP.UI.MySiteCommon.CommonUIElements.createAnchorOpenHTMLTag=function(e,b,c,a){var d=StAttrQuote(c);return SP.UI.MySiteCommon.CommonUIElements.createOpenHTMLTagWithAdditionalAttributes("a",e,b,"href="+d+" "+a)};SP.UI.MySiteCommon.CommonUIElements.createSafeImageHTML=function(f,e,a,d){var b="",c="";if(SP.UI.MySiteCommon.CommonUIElements.isSafeURL(a)){c=StAttrQuote(a);b='<img id="'+f+'" class="'+e+'" src='+c+" "+d+"/>"}return b};SP.UI.MySiteCommon.CommonUIElements.encodeSafeURL=function(a){if(SP.UI.MySiteCommon.CommonUIElements.isSafeURL(a)){a=StAttrQuote(a);return a.substring(1,a.length-2)}return""};SP.UI.MySiteCommon.CommonUIElements.get_loadingAnimation=function(){return GetThemedImageUrl("loadingcirclests16.gif")};SP.UI.MySiteCommon.CommonUIElements.get_profileImagePlaceholder32=function(){return GetThemedImageUrl("PersonPlaceholder.32x32x32.png")};SP.UI.MySiteCommon.CommonUIElements.get_profileImagePlaceholder42=function(){return GetThemedImageUrl("PersonPlaceholder.42x42x32.png")};SP.UI.MySiteCommon.CommonUIElements.makeImage=function(c,d,a,b){return SP.UI.MySiteCommon.CommonUIElements.makeImageWithAltText(c,d,a,b,null)};SP.UI.MySiteCommon.CommonUIElements.makeImageAltSameAsTitle=function(c,d,b,a){return SP.UI.MySiteCommon.CommonUIElements.makeImageWithAltText(c,d,b,a,a)};SP.UI.MySiteCommon.CommonUIElements.makeImageWithAltText=function(e,f,d,b,c){var a=document.createElement("img");a.src=e;a.id=f;a.className=d;a.title=!b?"":b;a.alt=!c?"":c;return a};SP.UI.MySiteCommon.CommonUIElements.ensureTrailingSlash=function(a){return SP.ScriptHelpers.isNullOrEmptyString(a)?"":!a.endsWith("/")?a+"/":a};SP.UI.MySiteCommon.CommonUIElements.createOpenHTMLTag=function(b,c,a){return SP.UI.MySiteCommon.CommonUIElements.createOpenHTMLTagWithAdditionalAttributes(b,c,a,"")};SP.UI.MySiteCommon.CommonUIElements.createOpenHTMLTagWithAdditionalAttributes=function(c,d,b,a){return"<"+c+' id="'+d+'" class="'+b+'" '+a+">"};SP.UI.MySiteCommon.CommonUIElements.makeLinkWithClickHandler=function(g,e,b,d,c,f){var a=document.createElement("a");a.id=g;a.className=e;SP.UI.MySiteCommon.CommonUIElements.addClickHandlerToAnchorElement(a,f);b&&a.appendChild(b);d&&a.appendChild(document.createTextNode(d));if(c)a.title=c;return a};SP.UI.MySiteCommon.CommonUIElements.addClickHandlerToAnchorElement=function(a,b){a.href="#";a.setAttribute("onclick","return false;");b&&$addHandler(a,"click",b)};SP.UI.MySiteCommon.CommonUIElements.getCursorPosition=function(a){if(typeof a.selectionStart!=="undefined")return a.selectionStart;else{var c=document.selection.createRange();if(!c)return 0;var b=a.createTextRange(),d=b.duplicate();b.moveToBookmark(c.getBookmark());d.setEndPoint("EndToStart",b);return d.text.length}};SP.UI.MySiteCommon.CommonUIElements.setCursorPosition=function(a,b){if(typeof a.setSelectionRange!=="undefined"){a.setSelectionRange(b,b);a.focus()}else if(typeof a.createTextRange!=="undefined"){var c=a.createTextRange();c.collapse(true);c.moveEnd("character",b);c.moveStart("character",b);c.select()}};SP.UI.MySiteCommon.CommonUIElements.createLoadingDiv=function(b,a,c){return SP.UI.MySiteCommon.CommonUIElements.createOpenHTMLTag("div",a,c)+SP.UI.MySiteCommon.CommonUIElements.createProcessingIconAsHTML(a+"_image","ms-microfeed-loadingImage")+STSHtmlEncode(b)+"</div>"};SP.UI.MySiteCommon.CommonUIElements.createProcessingIcon=function(c,b){var a=document.createElement("img");a.id=c;a.className=b;a.setAttribute("src",SP.UI.MySiteCommon.CommonUIElements.get_loadingAnimation());a.title="";a.setAttribute("alt","");SP.UI.MySiteCommon.CommonUIElements.addProcessingIconClickHandler(a);return a};SP.UI.MySiteCommon.CommonUIElements.createProcessingIconAsHTML=function(b,a){return'<img src="'+SP.UI.MySiteCommon.CommonUIElements.get_loadingAnimation()+'" id="'+b+'" class="'+a+'" title="" alt=""/ onclick="SP.UI.MySiteCommon.CommonUIElements.processingIconClickHandler(event);">'};SP.UI.MySiteCommon.CommonUIElements.addTechnicalDetailsDiv=function(e,f,b,g){if(!b)b="";var c=document.createElement("div");c.id="ms-errorDetailsDiv"+b;c.setAttribute("style","margin-bottom: 15px;");var d=document.createElement("div");d.id="ms-errorDetailsLinkDiv"+b;var a=document.createElement("div");a.id="ms-errorDetailsText"+b;a.className="ms-hide ms-descriptiontext";a.setAttribute("style","margin-bottom: 15px;");SP.UI.MySiteCommon.CommonUIElements.setElementText(a,f);var h=SP.UI.MySiteCommon.CommonUIElements.makeLinkWithClickHandler("ms-errorDetailsLink","ms-commandLink",null,SpsClient.ScriptResources.technicalDetails,null,function(){SP.UI.MySiteCommon.CommonUIElements.$1b(a,g)});d.appendChild(h);c.appendChild(d);c.appendChild(a);e.appendChild(c)};SP.UI.MySiteCommon.CommonUIElements.$1b=function(a,b){if(a)if(SP.UI.MySiteCommon.CommonUIElements.isEntirelyHidden(a)){SetOpacity(a,0);SP.UI.MySiteCommon.CommonUIElements.display(a);SPAnimationUtility.BasicAnimator.FadeIn(a,null,null)}else SPAnimationUtility.BasicAnimator.FadeOut(a,function(){SP.UI.MySiteCommon.CommonUIElements.setDisplayNone(false,a)},null);b&&b.autoSize()};SP.UI.MySiteCommon.CommonUIElements.addProcessingIconClickHandler=function(a){$addHandler(a,"click",SP.UI.MySiteCommon.CommonUIElements.processingIconClickHandler)};SP.UI.MySiteCommon.CommonUIElements.removeProcessingIconClickHandlerAndDisplay=function(a){$removeHandler(a,"click",SP.UI.MySiteCommon.CommonUIElements.processingIconClickHandler);SP.UI.MySiteCommon.CommonUIElements.display(a)};SP.UI.MySiteCommon.CommonUIElements.processingIconClickHandler=function(a){SP.UI.MySiteCommon.CommonUIElements.setDisplayNone(true,a.target)};SP.UI.MySiteCommon.CommonUIElements.displaySimpleErrorDialog=function(b){var a=new SP.UI.MySiteCommon.MySiteDialog(SpsClient.ScriptResources.unknownErrorTitle,SpsClient.ScriptResources.failedToLoadPageErrorMessage);a.$B_0=SpsClient.ScriptResources.closeButtonText;a.$A_0=true;a.$O_0=b;a.show()};SP.UI.MySiteCommon.CommonUIElements.setElementText=function(a,b){if(a)a.innerHTML=STSHtmlEncode(b)};SP.UI.MySiteCommon.PresenceManager=function(){this.$6_0=new ContextInfo;this.$6_0.Templates={};this.$6_0.Templates.Fields={};this.$7_0={};var b=[],a={};a.Name="PeoplePresence";a.FieldType="User";a.HasUserLink="1";a.Type="User";a.PictureOnly="1";a.PictureSize="Size_48px";Array.add(b,a);this.$7_0.Field=b;this.$7_0.EffectivePresenceEnabled="1";this.$7_0.UserDispUrl="person.aspx";this.$7_0.UserDispParam="accountname"};SP.UI.MySiteCommon.PresenceManager.get_$G=function(){if(!SP.UI.MySiteCommon.PresenceManager.$5)SP.UI.MySiteCommon.PresenceManager.$5=new SP.UI.MySiteCommon.PresenceManager;return SP.UI.MySiteCommon.PresenceManager.$5};SP.UI.MySiteCommon.PresenceManager.isPresenceJSLoaded=function(){return SP.UI.MySiteCommon.PresenceManager.get_$G().$1P_0};SP.UI.MySiteCommon.PresenceManager.ensurePresenceJSLoaded=function(a){SP.SOD.executeFunc("clienttemplates.js","spMgr.RenderFieldByName",function(){SP.UI.MySiteCommon.PresenceManager.get_$G().$1P_0=true;a()})};SP.UI.MySiteCommon.PresenceManager.drawLyncUserImage=function(g,b,c,d,e,i,h,a,f){g.innerHTML=SP.UI.MySiteCommon.PresenceManager.getUserImageInnerHTML(b,c,d,e,i,h,a,f)};SP.UI.MySiteCommon.PresenceManager.getUserImageInnerHTML=function(i,j,k,c,n,m,h,l){var a=SP.UI.MySiteCommon.PresenceManager.get_$G().$7_0.Field[0],d=a.Name,e={},f=[],b={};b.accountname=i;b.title=j;b.picture=k;b.email=n;b.jobTitle=m;b.department="";Array.add(f,b);e[d]=f;if(l){a.PictureOnly="1";delete a.WithPictureDetail}else{a.PictureOnly="0";a.WithPictureDetail="1"}if(h)a.PictureSize="Size_36px";else a.PictureSize="Size_48px";if(c){var g=c.indexOf("?");SP.UI.MySiteCommon.PresenceManager.get_$G().$7_0.UserDispUrl=g>0?c.substring(0,g):c}return spMgr.RenderFieldByName(SP.UI.MySiteCommon.PresenceManager.get_$G().$6_0,d,e,SP.UI.MySiteCommon.PresenceManager.get_$G().$7_0)};SP.UI.MySiteCommon.PresenceManager.prototype={$6_0:null,$7_0:null,$1P_0:false};SP.UI.MySiteCommon.MySiteDialog=function(b,a){this.$u_0=b;this.$S_0=a;this.$P_0=false;this.$A_0=false;this.$o_0=false};SP.UI.MySiteCommon.MySiteDialog.prototype={show:function(){var a=null,b=document.createElement("div");b.id="ms-errorDialogDiv";if(!SP.ScriptHelpers.isNullOrEmptyString(this.$S_0)){var g=document.createElement("div");g.id="ms-errorMessageDiv";g.setAttribute("style","margin-bottom: 15px;");SP.UI.MySiteCommon.CommonUIElements.setElementText(g,this.$S_0);b.appendChild(g)}if(this.$p_0){var h=document.createElement("div");h.id="ms-errorExtraMessageDiv";h.setAttribute("style","margin-bottom: 15px;");h.appendChild(this.$p_0);b.appendChild(h)}!SP.ScriptHelpers.isNullOrEmptyString(this.$O_0)&&SP.UI.MySiteCommon.CommonUIElements.addTechnicalDetailsDiv(b,this.$O_0,"_dialog",this.$Y_0);if(!this.$P_0||!this.$A_0){var d=document.createElement("div");d.id="ms-errorButtons";d.className="ms-alignRight";if(!this.$P_0){a=document.createElement("button");a.id="ms-errorOkButton";a.className="ms-ButtonHeightWidth";if(SP.ScriptHelpers.isNullOrEmptyString(this.$B_0))SP.UI.MySiteCommon.CommonUIElements.setElementText(a,SpsClient.ScriptResources.okButtonText);else SP.UI.MySiteCommon.CommonUIElements.setElementText(a,this.$B_0);var e=this;$addHandler(a,"click",function(){e.$F_0&&e.$F_0();!e.$o_0&&SP.UI.ModalDialog.commonModalDialogClose(1,null);e.$Y_0=null});d.appendChild(a)}if(!this.$A_0){var c=document.createElement("button");c.id="ms-errorCancelButton";c.className="ms-ButtonHeightWidth";if(SP.ScriptHelpers.isNullOrEmptyString(this.$K_0))SP.UI.MySiteCommon.CommonUIElements.setElementText(c,SpsClient.ScriptResources.cancelButtonText);else SP.UI.MySiteCommon.CommonUIElements.setElementText(c,this.$K_0);var i=this;$addHandler(c,"click",function(){i.$i_0&&i.$i_0();SP.UI.ModalDialog.commonModalDialogClose(0,null);i.$Y_0=null});d.appendChild(c)}b.appendChild(d)}var f=this;SP.SOD.executeFunc("SP.UI.Dialog.js","SP.UI.ModalDialog.showModalDialog",function(){var c=new SP.UI.DialogOptions;c.title=f.$u_0;c.html=b;c.autoSize=true;f.$Y_0=SP.UI.ModalDialog.showModalDialog(c);if(f.$e_0)f.$e_0();else a&&a.focus()})},get_title:function(){return this.$u_0},set_title:function(a){this.$u_0=a;return a},get_message:function(){return this.$S_0},set_message:function(a){this.$S_0=a;return a},get_errorMessage:function(){return this.$O_0},set_errorMessage:function(a){this.$O_0=a;return a},get_extraMessage:function(){return this.$p_0},set_extraMessage:function(a){this.$p_0=a;return a},get_okButtonText:function(){return this.$B_0},set_okButtonText:function(a){this.$B_0=a;return a},get_okButtonCallback:function(){return this.$F_0},set_okButtonCallback:function(a){this.$F_0=a;return a},get_cancelButtonText:function(){return this.$K_0},set_cancelButtonText:function(a){this.$K_0=a;return a},get_cancelButtonCallback:function(){return this.$i_0},set_cancelButtonCallback:function(a){this.$i_0=a;return a},get_afterDisplayCallback:function(){return this.$e_0},set_afterDisplayCallback:function(a){this.$e_0=a;return a},get_hideOkButton:function(){return this.$P_0},set_hideOkButton:function(a){this.$P_0=a;return a},get_hideCancelButton:function(){return this.$A_0},set_hideCancelButton:function(a){this.$A_0=a;return a},get_delayClose:function(){return this.$o_0},set_delayClose:function(a){this.$o_0=a;return a},$Y_0:null,$u_0:null,$S_0:null,$O_0:null,$p_0:null,$B_0:null,$F_0:null,$K_0:null,$i_0:null,$e_0:null,$P_0:false,$A_0:false,$o_0:false};SP.UI.MySiteCommon.MySiteMenu=function(a){this.$$d__OnClick=Function.createDelegate(this,this._OnClick);this.$2_0=a;SP.UI.MySiteCommon.MySiteMenu.$1E[a]=this;this.$4_0=[]};SP.UI.MySiteCommon.MySiteMenu.onMenuClickCallback=function(d,a){var b=SP.UI.MySiteCommon.MySiteMenu.$1E[d];if(b.$I_0(a)){var c=b.$4_0[a];c.$D_0&&c.$1W_0()}};SP.UI.MySiteCommon.MySiteMenu.onMySiteMenuKeyDown=function(d,b){if(b){var a=$get("ms-mysitemenu-menu_"+d);if(a){var c=a.getElementsByTagName("DIV")[0];if(c)if(b.keyCode===27)a.removeChild(c);else b.keyCode===9&&NavigateToMenu(a)}}};SP.UI.MySiteCommon.MySiteMenu.prototype={add:function(f,c,d,b,e){var a=new SP.UI.MySiteCommon.MySiteMenuItem(e);a.set_text(f);a.set_description(c);a.set_imageSource(d);a.set_imageAltText(b);return this.appendMenuItem(a)},appendMenuItem:function(b){var a=this.get_menuCount();if(!a)this.$U_0=b.get_text();b.set_$11_0(this.$2_0+"_item_"+a);b.$Q_0=a;b.$T_0=this;this.$4_0[a]=b;return a},updateMySiteMenuItemByName:function(e,d,c){var b=this.getMenuIndexFromName(e),a=null;if(b===-1)return;else{a=this.$4_0[b];a.set_text(d);a.$1Y_0(c);this.$4_0[b]=a}},clear:function(){this.$4_0=[];this.$R_0=0},getMenuIndexFromName:function(b){for(var a=0;a<this.get_menuCount();a++)if(b===this.$4_0[a].get_text())return a;return-1},getNameFromMenuIndex:function(a){return!this.$I_0(a)?null:this.$4_0[a].get_text()},getIDFromMenuIndex:function(a){return!this.$I_0(a)?null:"ms-mysitemenu-menu_Item_"+this.$4_0[a].get_$11_0()},setEnabledItem:function(a,b){if(!this.$I_0(a))return;this.$4_0[a].$D_0=b},setStyles:function(){this.$m_0="ms-mysitemenu-control";this.$l_0="ms-mysitemenu-image";this.$k_0="ms-mysitemenu-link";this.set_controlElementType("h2")},setSelection:function(a){if(this.$R_0!==a&&this.$I_0(a)){this.set_text(this.$4_0[a].get_text());var b=$get("ms-mysitemenu-control_Link_"+this.$2_0);SP.UI.MySiteCommon.CommonUIElements.setElementText(b,this.get_text());this.$1G_0(b);this.$R_0=a;return true}return false},render:function(){this.setStyles();var b=document.createElement("span");b.id="ms-mysitemenu-control_"+this.$2_0;b.className=this.$m_0;var d=document.createElement(this.get_controlElementType()),a=document.createElement("a");a.id="ms-mysitemenu-control_Link_"+this.$2_0;a.className=this.$k_0;a.setAttribute("href","javascript:;");a.setAttribute("onclick","return false;");a.setAttribute("onkeydown","javascript:SP.UI.MySiteCommon.MySiteMenu.onMySiteMenuKeyDown('"+this.$2_0+"', event);");SP.UI.MySiteCommon.CommonUIElements.setElementText(a,this.get_text());this.$1G_0(a);var c=document.createElement("div");c.id="ms-mysitemenu-menu_"+this.$2_0;c.className=this.$18_0;c.style.visibility="hidden";c.setAttribute("hideicons",this.$16_0);$addHandler(b,"click",this.$$d__OnClick);d.appendChild(a);b.appendChild(d);b.appendChild(c);return b},$1R_0:function(e){e&&e.preventDefault();this.$t_0&&this.$t_0();for(var c=SP.UI.Menu.create("ms-mysitemenu-menu_"+this.$2_0),a=0;a<this.get_menuCount();a++){var d=this.$4_0[a];d.$1U_0(c,this.$2_0,"ms-mysitemenu-menu_Item_"+d.get_$11_0())}var f=$get("ms-mysitemenu-menu_"+this.$2_0),b=this;window.setTimeout(function(){c.showFilterMenu(f,false,false,0,b.$1A_0,b.$19_0)},0)},_OnClick:function(c){var a=$get("ms-mysitemenu-menu_"+this.$2_0);if(a){var b=a.getElementsByTagName("DIV")[0];if(b)a.removeChild(b);else this.$1R_0(c)}},$I_0:function(a){return 0<=a&&this.get_menuCount()>a},$1G_0:function(e){if(!SP.ScriptHelpers.isNullOrEmptyString(this.$r_0)){var a=document.createElement("img");a.id="ms-mysitemenu-control_Image_"+this.$2_0;a.className=this.$l_0;a.setAttribute("src",this.$r_0);a.title=this.$E_0;a.setAttribute("alt",this.$E_0);if(SP.ScriptHelpers.isNullOrEmptyString(this.$q_0))e.appendChild(a);else{var c=document.createElement("span");c.id="ms-mysitemenu-control_ImageParent_"+this.$2_0;c.className=this.$q_0;c.appendChild(a);e.appendChild(c)}}else{var d=document.createElement("span");d.setAttribute("style","margin-left:7px; height:"+4+"px;width:"+7+"px; position:relative; display:inline-block; overflow:hidden;");d.className="s4-clust ms-viewselector-arrow ms-menu-stdarw";var b=document.createElement("img");b.setAttribute("src","/_layouts/15/images/fgimg.png?rev=23");b.setAttribute("style","border-width:0px; position:absolute; left:-"+0+"px !important; top:-"+262+"px !important;");b.title=this.$E_0;b.setAttribute("alt",this.$E_0);d.appendChild(b);e.appendChild(d)}},get_textOverride:function(){return this.$V_0},set_textOverride:function(a){this.$V_0=a;return a},get_imageSourceOverride:function(){return this.$r_0},set_imageSourceOverride:function(a){this.$r_0=a;return a},get_imageParentClassOverride:function(){return this.$q_0},set_imageParentClassOverride:function(a){this.$q_0=a;return a},get_imageTitleText:function(){return this.$E_0},set_imageTitleText:function(a){this.$E_0=a;return a},get_menuCount:function(){return this.$4_0.length},get_selectedIndex:function(){return this.$R_0},set_selectedIndex:function(a){this.$R_0=a;return a},get_showCheckBoxes:function(){return this.$19_0},set_showCheckBoxes:function(a){this.$19_0=a;return a},get_showCloseButton:function(){return this.$1A_0},set_showCloseButton:function(a){this.$1A_0=a;return a},get_hideIcons:function(){return this.$16_0},set_hideIcons:function(a){this.$16_0=a;return a},get_text:function(){return"EMPTY_STRING_A2BF7E95-82D5-4055-8451-B0B86C4E973E"===this.$V_0?"":!this.$V_0?this.$U_0:this.$V_0},set_text:function(a){if(!a)a="";this.$U_0=a;return a},get_controlStyle:function(){return this.$m_0},set_controlStyle:function(a){this.$m_0=a;return a},get_controlHeaderStyle:function(){return this.$k_0},set_controlHeaderStyle:function(a){this.$k_0=a;return a},get_controlImageStyle:function(){return this.$l_0},set_controlImageStyle:function(a){this.$l_0=a;return a},get_menuStyle:function(){return this.$18_0},set_menuStyle:function(a){this.$18_0=a;return a},get_controlElementType:function(){return this.$15_0},set_controlElementType:function(a){if(SP.ScriptHelpers.isNullOrEmptyString(a))this.$15_0="div";else this.$15_0=a;return a},get_id:function(){return this.$2_0},get_openedCallback:function(){return this.$t_0},set_openedCallback:function(a){this.$t_0=a;return a},$m_0:null,$l_0:null,$k_0:null,$18_0:null,$15_0:null,$2_0:"",$U_0:"",$V_0:"",$r_0:"",$q_0:"",$E_0:"",$R_0:0,$4_0:null,$1A_0:false,$19_0:false,$16_0:false,$t_0:null};SP.UI.MySiteCommon.MySiteMenuItem=function(a){this.$13_0=a};SP.UI.MySiteCommon.MySiteMenuItem.prototype={$1W_0:function(){if(this.$D_0){this.$j_0&&this.$T_0.setSelection(this.$Q_0);this.onInvoke(this.$Q_0,null);this.$13_0(this.$Q_0)}},$1U_0:function(b,c,d){var a=this.createMenuOption(b,c,d);this.onMenuElementCreated(a)},createMenuOption:function(c,b,a){return c.addMenuItem(this.get_text(),SP.UI.MySiteCommon.MySiteMenu.$1M+"('"+b+"', "+this.$Q_0+");",this.get_imageSource(),this.get_imageAltText(),100,this.get_description(),a)},onMenuElementCreated:function(a){a.setAttribute("enabled",this.$D_0);a.setAttribute("isindented",this.$17_0)},onInvoke:function(){},get_$11_0:function(){return this.$2_0},set_$11_0:function(a){if(!a)a="";this.$2_0=a;return a},get_parent:function(){return this.$T_0},set_parent:function(a){this.$T_0=a;return a},get_text:function(){return this.$U_0},set_text:function(a){if(!a)a="";this.$U_0=a;return a},get_description:function(){return this.$1I_0},set_description:function(a){if(!a)a="";this.$1I_0=a;return a},get_imageSource:function(){return this.$1K_0},set_imageSource:function(a){if(!a)a="";this.$1K_0=a;return a},get_imageAltText:function(){return this.$1J_0},set_imageAltText:function(a){if(!a)a="";this.$1J_0=a;return a},get_enabled:function(){return this.$D_0},set_enabled:function(a){this.$D_0=a;return a},$1Y_0:function(a){this.$13_0=a},get_changeHeader:function(){return this.$j_0},set_changeHeader:function(a){this.$j_0=a;return a},get_isIndented:function(){return this.$17_0},set_isIndented:function(a){this.$17_0=a;return a},$2_0:"",$Q_0:0,$T_0:null,$U_0:"",$1I_0:"",$1K_0:"",$1J_0:"",$D_0:true,$13_0:null,$j_0:true,$17_0:false};SP.UI.MySiteCommon.MySitePrivacyIcon=function(c,b,a){this.$2_0=c;this.$1L_0=b;this.$N_0=a};SP.UI.MySiteCommon.MySitePrivacyIcon.prototype={render:function(){if(!SP.ScriptHelpers.isNullOrEmptyString(this.$N_0)){this.$N_0=SP.Utilities.UrlBuilder.replaceOrAddQueryString(this.$N_0,"Section","Preferences");return'<a href="'+this.$N_0+'" id="'+SP.UI.MySiteCommon.MySitePrivacyIcon.$1F+this.$2_0+'" title="'+this.$1L_0+'"><span style="height:17px;width:17px;position:relative;display:inline-block;overflow:hidden;"><img src="/_layouts/15/images/spcommon.png?rev=23" style="left:-160px !important;top:-177px !important;position:absolute;"/></span></a>'}else return'<span style="height:17px;width:17px;position:relative;display:inline-block;overflow:hidden;"><img src="/_layouts/15/images/spcommon.png?rev=23" style="left:-160px !important;top:-177px !important;position:absolute;"/></span>'},$2_0:"",$1L_0:"",$N_0:""};SP.UI.MySiteCommon.SeparatorMenuItem=function(){SP.UI.MySiteCommon.SeparatorMenuItem.initializeBase(this,[null])};SP.UI.MySiteCommon.SeparatorMenuItem.prototype={createMenuOption:function(a){a.addSeparator();return null},onMenuElementCreated:function(){}};SP.UI.MySiteCommon.ErrorCodes=function(){};SP.UI.MySiteCommon.DataCache=function(){this.$h_0=SP.UI.MySiteCommon.DataCache.$12;this.$J_0=10};SP.UI.MySiteCommon.DataCache.getObjectFromJsonData=function(a,c){if(null===a||null===c)return null;var b=$get(a);return null===b?null:c.parseObjectFromJsonString(SP.UI.UIUtility.getInnerText(b))};SP.UI.MySiteCommon.DataCache.prototype={$s_0:false,$g_0:null,$M_0:null,loadCacheFromJsonData:function(b){this.clearCache();if(null===b||b.length<1)return true;var e=new SP.ClientRuntimeContext(_spPageContextInfo.webServerRelativeUrl);this.$M_0={};for(var d=0,f=b.length,c=0;c<f;c++){var a=b[c];if(null===a||a.length<1||a.trim().length<1){this.clearCache();return false}this.$M_0[a]=SP.UI.MySiteCommon.DataCache.getObjectFromJsonData(a,e);if(null!==this.$M_0[a])d++}if(d<1){this.clearCache();return false}this.$g_0=new Date;this.$h_0=0;return false},getDataObject:function(a){return null===a||a.length<1||a.trim().length<1?null:this.isCacheValid()?this.$M_0[a]:null},isCacheValid:function(){if(0!==this.$h_0)return false;if(this.$1X_0()){this.clearCache();return false}return true},clearCache:function(){this.$h_0=SP.UI.MySiteCommon.DataCache.$12;this.$J_0=10;this.$s_0=false;this.$g_0=null;this.$M_0=null},get_cacheDurationInSeconds:function(){return this.$J_0},set_cacheDurationInSeconds:function(a){this.$J_0=a;return a},get_isNoExpiration:function(){return this.$s_0},set_isNoExpiration:function(a){this.$s_0=a;return a},get_cacheStartTime:function(){return this.$g_0},$1X_0:function(){if(this.$s_0)return false;var b=new Date,a=(b-this.$g_0)/1e3;return a>this.$J_0||a<0?true:false}};Type.registerNamespace("SP.UI.MicroFeed");SP.UI.MicroFeed.ExternallyDefinedStrings=function(){};Type.registerNamespace("SP.UI.People");SP.UI.People.FollowOrStopFollowingButtonControl=function(){};SP.UI.People.FollowOrStopFollowingButtonControl.createFollowLinkForPageUser=function(i){var b=$get(i),c=$get("ms-followButtonPersonProperties"),a=null;if(c){var j=new SP.ClientRuntimeContext(_spPageContextInfo.webServerRelativeUrl);a=j.parseObjectFromJsonString(SP.UI.UIUtility.getInnerText(c));c.parentNode.removeChild(c)}if(a&&b){SP.UI.People.PersonManager.addPerson(a);var d=document.createElement("div");d.id="ms-profile-followLinkDiv";var g=SP.UI.People.FollowLinkManager.getLink(a.get_accountName()),k=g.htmlForLink("Profile",true,true);d.appendChild(k);b.parentNode&&b.parentNode.replaceChild(d,b);if(!a.get_isFollowed()){var l=SP.ScriptHelpers.getDocumentQueryPairs(),e=l;for(var f in e){var h={key:f,value:e[f]};if(h.key.toLowerCase()==="followperson"&&h.value.toString()==="1"){SP.UI.People.FollowOrStopFollowingButtonControl.showFollowDialog(g,a.get_displayName());break}}}}};SP.UI.People.FollowOrStopFollowingButtonControl.showFollowDialog=function(c,b){var a=new SP.UI.MySiteCommon.MySiteDialog(String.format(SpsClient.ScriptResources.followLinkTextWithName,b),SpsClient.ScriptResources.l_DialogFollowPersonAction_Content);a.$B_0=SpsClient.ScriptResources.followLinkText;a.$F_0=function(){c.onClick("Profile")};a.show()};SP.UI.People.MySitePeopleUtilities=function(){};SP.UI.People.MySitePeopleUtilities.getPersonManagerPropertiesToInclude=function(){return SP.UI.People.MySitePeopleUtilities.$1N};SP.UI.People.MySitePeopleUtilities.getPersonPropertiesToInclude=function(){return SP.UI.People.MySitePeopleUtilities.$1O};SP.UI.People.PersonManager=function(){this.$W_0={}};SP.UI.People.PersonManager.get_people=function(){if(!SP.UI.People.PersonManager.$5)SP.UI.People.PersonManager.$5=new SP.UI.People.PersonManager;return SP.UI.People.PersonManager.$5};SP.UI.People.PersonManager.addPerson=function(a){var b=new SP.UI.People.ClientPerson;b.setFromPersonProperties(a);SP.UI.People.PersonManager.get_people().$W_0[a.get_accountName().toLowerCase()]=b;SP.UI.People.FollowLinkManager.newLink(a.get_accountName())};SP.UI.People.PersonManager.addSocialActor=function(a){var b=new SP.UI.People.ClientPerson;b.setFromSocialActor(a);SP.UI.People.PersonManager.get_people().$W_0[a.get_accountName().toLowerCase()]=b;SP.UI.People.FollowLinkManager.newLink(a.get_accountName())};SP.UI.People.PersonManager.getPerson=function(a){return SP.UI.People.PersonManager.get_people().$W_0[a.toLowerCase()]};SP.UI.People.PersonManager.getFollowState=function(b){var a=SP.UI.People.PersonManager.getPerson(b);return!!a&&a.$9_0};SP.UI.People.PersonManager.updateFollowState=function(b,c){var a=SP.UI.People.PersonManager.getPerson(b);if(a){a.$9_0=c;SP.UI.People.PersonManager.get_people().$W_0[b.toLowerCase()]=a}};SP.UI.People.PersonManager.prototype={$W_0:null};SP.UI.People.ClientPerson=function(){};SP.UI.People.ClientPerson.prototype={$y_0:null,$H_0:null,$Z_0:null,$c_0:null,$w_0:null,$x_0:null,$9_0:false,setFromPersonProperties:function(a){this.$y_0=a.get_accountName();this.$H_0=a.get_displayName();this.$Z_0=a.get_email();this.$c_0=a.get_latestPost();this.$w_0=a.get_pictureUrl();this.$x_0=a.get_userUrl();this.$9_0=a.get_isFollowed()},setFromSocialActor:function(a){this.$y_0=a.get_accountName();this.$H_0=a.get_name();this.$Z_0=a.get_emailAddress();this.$c_0=a.get_statusText();this.$w_0=a.get_imageUri();this.$x_0=a.get_uri();this.$9_0=a.get_isFollowed()},get_accountName:function(){return this.$y_0},get_displayName:function(){return this.$H_0},get_email:function(){return this.$Z_0},get_latestPost:function(){return this.$c_0},get_pictureUrl:function(){return this.$w_0},get_userUrl:function(){return this.$x_0},get_isFollowed:function(){return this.$9_0},set_isFollowed:function(a){this.$9_0=a;return a}};SP.UI.People.FollowLink=function(a){this.$n_0=0;this.$3_0=a;this.$1_0=SP.UI.People.PersonManager.getPerson(this.$3_0).$9_0;this.$f_0=false;this.set_$8_0(1)};SP.UI.People.FollowLink.get_$1a=function(){return GetThemedImageUrl("socialcommon.png")};SP.UI.People.FollowLink.$1S=function(a,b){SP.SOD.executeFunc("SP.Ribbon.js","GetWSA",function(){var d=GetWSA(),c=0;switch(b){case"FollowMultiplePeople":if(a)c=9711;break;case"Microfeed":if(a)c=9712;break;case"PersonDiv":c=a?9713:9719;break;case"CalloutOwnPage":c=a?9714:9720;break;case"CalloutOtherPage":c=a?9715:9721;break;case"Profile":c=a?9716:9722;break;case"Search":if(a)c=9717;break;case"Suggestion":if(a)c=9718}d&&c>0&&d.incrementDw(c,1)})};SP.UI.People.FollowLink.prototype={$3_0:null,$1_0:false,$f_0:false,get_$8_0:function(){return this.$n_0},set_$8_0:function(a){if(this.$n_0!==a){this.$n_0=a;this.refreshLinks()}return a},get_followingState:function(){return this.$1_0},set_followingState:function(a){this.$1_0=a;return a},get_blockFromTRC:function(){return this.$f_0},$1V_0:function(d){var c=SP.UI.People.FollowLinkManager.get_$1B().amIFollowing(this.$3_0);if(SP.UI.People.FollowLinkManager.get_$v().get_hasPendingRequest()){var a=this,b=this;SP.UI.People.FollowLinkManager.get_$v().executeQueryAsync(function(){a.$X_0(c.get_value(),d)},function(){b.set_$8_0(1)})}},generateTRC:function(){var a=this;SP.SOD.executeFunc("followingcommon.js","addPeopleFollowNotification",function(){if(!a.$f_0){var b=SP.UI.People.PersonManager.getPerson(a.$3_0);addPeopleFollowNotification(b.$H_0,b.$c_0||"",b.$w_0||SP.UI.MySiteCommon.CommonUIElements.get_profileImagePlaceholder32(),b.$Z_0,function(){window.location.href=b.$x_0});a.$f_0=true}})},$X_0:function(a,b){a&&!this.$1_0&&this.generateTRC();this.$1_0=a;this.set_$8_0(1);SP.UI.People.PersonManager.updateFollowState(this.$3_0,this.$1_0);SP.UI.People.FollowLinkManager.get_followCallback()(this.$3_0,this.$1_0,b,true)},isClickable:function(){return this.get_$8_0()===1},updateFromExternalSource:function(a,b){SP.UI.People.FollowLink.$1S(a,b);this.$X_0(a,b);this.refreshLinks()},onClick:function(b){if(this.isClickable()){SP.UI.People.FollowLink.$1S(!this.$1_0,b);var a=this;SP.SOD.executeFunc("SP.js","SP.ClientContext",function(){if(a.$1_0)SP.UI.People.FollowLinkManager.get_$1B().stopFollowing(a.$3_0);else SP.UI.People.FollowLinkManager.get_$1B().follow(a.$3_0);if(SP.UI.People.FollowLinkManager.get_$v().get_hasPendingRequest()){SP.UI.People.FollowLinkManager.get_$v().executeQueryAsync(function(){a.$X_0(!a.$1_0,b)},function(j,e){var c=null,d=null,h=SpsClient.ScriptResources.closeButtonText,g=null,i=null;switch(e.get_errorTypeName()){case"Microsoft.Office.Server.UserProfiles.PrivacyItemNotFoundException":a.$X_0(false,b);break;case"Microsoft.Office.Server.UserProfiles.PrivacyItemExistsException":a.$X_0(true,b);break;case"Microsoft.Office.Server.UserProfiles.PrivacyItemLimitReachedException":c=SpsClient.ScriptResources.followingPeopleLimitReachedErrorDialogTitle;d=e.get_message();break;case"Microsoft.Office.Server.UserProfiles.PrivacyItemDataException":c=SpsClient.ScriptResources.userActionFailedErrorDialogTitle;d=e.get_message();break;case"System.UnauthorizedAccessException":c=SpsClient.ScriptResources.accessDeniedErrorDialogTitle;d=SpsClient.ScriptResources.accessDeniedErrorMessage;break;default:a.$1V_0(b);if(SP.UI.MySiteCommon.ErrorCodes.erroR_TP_E_CANARYTAMPERED===e.get_errorCode()||SP.UI.MySiteCommon.ErrorCodes.erroR_TP_E_CANARYTIMEDOUT===e.get_errorCode()){h=SpsClient.ScriptResources.refreshButtonText;i=function(){SP.UI.ModalDialog.RefreshPage(1)};g=SpsClient.ScriptResources.closeButtonText;c=SpsClient.ScriptResources.needToRefreshErrorDialogTitle;d=SpsClient.ScriptResources.needToRefreshErrorMessage}else{c=SpsClient.ScriptResources.unknownErrorTitle;d=e.get_message()}}a.set_$8_0(1);if(c&&d){var f=new SP.UI.MySiteCommon.MySiteDialog(c,d);f.$B_0=h;f.$F_0=i;if(!SP.ScriptHelpers.isNullOrEmptyString(g))f.$K_0=g;else f.$A_0=true;f.show();SP.UI.People.FollowLinkManager.get_followCallback()(a.$3_0,a.$1_0,b,false)}});a.set_$8_0(2)}})}},$10_0:function(a){return SP.UI.MySiteCommon.CommonUIElements.getValidId(a+"FollowLinkFor{0}",this.$3_0)},htmlForLink:function(a,b,c){return this.htmlForCustomLink(a,a,b,c,false)},htmlForCustomLink:function(b,c,d,f,e){var g=this,a=SP.UI.MySiteCommon.CommonUIElements.makeLinkWithClickHandler(this.$10_0(b),"ms-commandLink",null,null,null,function(){g.onClick(c)});a.setAttribute("name",this.$10_0(""));a.setAttribute("source",c);a.setAttribute("useImage",d);a.setAttribute("useText",f);a.setAttribute("useName",e);this.$1Q_0(a,b);return a.parentNode&&b==="Profile"?a.parentNode:a},$1Q_0:function(a,d){if(a){var c=this.isClickable()===this.$1_0;a.innerHTML="";this.$1T_0(a,d);a.disabled=!this.isClickable();if(a.getAttribute("useText")==="true"){var e=document.createElement("span");e.id=SP.UI.MySiteCommon.CommonUIElements.getValidId(d+"FollowLinkTextFor{0}",this.$3_0);var b="",f=SP.UI.People.PersonManager.getPerson(this.$3_0);if(a.getAttribute("useName")==="true"&&f)b=String.format(c?SpsClient.ScriptResources.stopFollowingLinkTextWithName:SpsClient.ScriptResources.followLinkTextWithName,f.$H_0);else if(d==="Profile")b=this.$1Z_0(c,a);else b=c?SpsClient.ScriptResources.stopFollowingLinkText:SpsClient.ScriptResources.followLinkText;if(!SP.ScriptHelpers.isNullOrEmptyString(b)){SP.UI.MySiteCommon.CommonUIElements.setElementText(e,b);a.appendChild(e)}}if(d==="Profile")a.className=c?"ms-profile-stopFollowingLink ms-commandLink":"ms-profile-followLink ms-heroCommandLink ms-textXLarge"}},$1Z_0:function(k,a){var c="",d=SP.UI.MySiteCommon.CommonUIElements.getValidId("ProfilePageFollowThisPersonLinkTextFor{0}",this.$3_0);if(a.parentNode){var e=SP.UI.MySiteCommon.CommonUIElements.findElementByID(a.parentNode,d);e&&a.parentNode.removeChild(e)}else{var j=document.createElement("div");j.appendChild(a)}if(k)c=SpsClient.ScriptResources.stopFollowingThisPersonText;else{var b=document.createElement("span");b.id=d;b.className="ms-profile-followLink ms-textXLarge";var f=SP.UI.MySiteCommon.CommonUIElements.getValidId("ProfilePageFollowThisPersonLinkAnchorFor{0}",this.$3_0),g=String.format(STSHtmlEncode(SpsClient.ScriptResources.followThisPersonText),'<a id="'+f+'">',"</a>");b.innerHTML=g;var h=SP.UI.MySiteCommon.CommonUIElements.findElementByID(b,f);h.className="ms-heroCommandLink";var i=this;SP.UI.MySiteCommon.CommonUIElements.addClickHandlerToAnchorElement(h,function(){i.onClick("Profile")});a.parentNode&&!SP.ScriptHelpers.isNullOrEmptyString(g)&&a.parentNode.appendChild(b)}return c},$1T_0:function(d,e){if(!d)return;var a=null,f=null,b="ms-people-followLinkImage",c=d;if(this.get_$8_0()===2)if(e.startsWith("Microfeed"))SP.UI.MySiteCommon.CommonUIElements.display($get("ms-progressSpan"));else{a=SP.UI.MySiteCommon.CommonUIElements.get_loadingAnimation();f="";if(e==="Profile"&&this.$1_0)b="ms-profile-followHeroImageParent"}else if(d.getAttribute("useImage")==="true"){c=document.createElement("span");var g="";a=SP.UI.People.FollowLink.get_$1a();if(e==="Profile"){if(this.$1_0)return;b="ms-profile-followHeroImage";g="ms-profile-followHeroImageParent"}else{b=this.$1_0?"ms-people-followLinkImageFollowing":"ms-people-followLinkImageNotFollowing";g="ms-people-followLinkImage ms-people-followLinkImageParent"}c.className=g;d.appendChild(c);f=this.$1_0?SpsClient.ScriptResources.stopFollowingLinkText:SpsClient.ScriptResources.followLinkText}a&&c.appendChild(SP.UI.MySiteCommon.CommonUIElements.makeImageAltSameAsTitle(a,SP.UI.MySiteCommon.CommonUIElements.getValidId(e+"FollowLinkImageFor{0}",this.$3_0),b,f))},refreshLinks:function(){for(var c=this.$10_0(""),d=document.getElementsByName(c),a=0;a<d.length;a++){var b=d[a],e=b.id.substring(0,b.id.length-c.length);this.$1Q_0(b,e)}}};SP.UI.People.FollowLinkManager=function(){this.$d_0={};var a=this;this.$z_0=function(){}};SP.UI.People.FollowLinkManager.get_links=function(){if(!SP.UI.People.FollowLinkManager.$5)SP.UI.People.FollowLinkManager.$5=new SP.UI.People.FollowLinkManager;return SP.UI.People.FollowLinkManager.$5};SP.UI.People.FollowLinkManager.get_$1B=function(){!SP.UI.People.FollowLinkManager.get_links().$1C_0&&SP.UI.People.FollowLinkManager.$1H();return SP.UI.People.FollowLinkManager.get_links().$1C_0};SP.UI.People.FollowLinkManager.get_$v=function(){!SP.UI.People.FollowLinkManager.get_links().$6_0&&SP.UI.People.FollowLinkManager.$1H();return SP.UI.People.FollowLinkManager.get_links().$6_0};SP.UI.People.FollowLinkManager.$1H=function(){SP.SOD.executeFunc("SP.js","SP.ClientContext",function(){SP.UI.People.FollowLinkManager.get_links().$6_0=SP.ClientContext.get_current();SP.UI.People.FollowLinkManager.get_links().$1C_0=SP.UserProfiles.PeopleManager.newObject(SP.UI.People.FollowLinkManager.get_links().$6_0)})};SP.UI.People.FollowLinkManager.newLink=function(c){var b=c.toLowerCase(),a=SP.UI.People.FollowLinkManager.get_links().$d_0[b];if(!a)SP.UI.People.FollowLinkManager.get_links().$d_0[b]=new SP.UI.People.FollowLink(c);else if(a.isClickable()){var d=SP.UI.People.PersonManager.getFollowState(b);if(a.$1_0!==d){a.$1_0=d;a.refreshLinks()}}};SP.UI.People.FollowLinkManager.getLink=function(a){return SP.UI.People.FollowLinkManager.get_links().$d_0[a.toLowerCase()]};SP.UI.People.FollowLinkManager.get_followCallback=function(){return SP.UI.People.FollowLinkManager.get_links().$z_0};SP.UI.People.FollowLinkManager.set_followCallback=function(a){SP.UI.People.FollowLinkManager.get_links().$z_0=a;return a};SP.UI.People.FollowLinkManager.prototype={$d_0:null,$z_0:null,$6_0:null,$1C_0:null};Type.registerNamespace("Microsoft.SharePoint.Portal.UserProfiles");Microsoft.SharePoint.Portal.UserProfiles.MySiteDismissStatusText=function(){};Microsoft.SharePoint.Portal.UserProfiles.MySiteDismissStatusText.dismissStatusText=function(a){if(!a)throw Error.argumentNull("context");var b=new SP.ClientActionInvokeStaticMethod(a,"{00a20542-1d5c-4bc5-bdd4-d64d75144ada}","DismissStatusText",null);a.addQuery(b)};Microsoft.SharePoint.Portal.UserProfiles.MySiteDocumentMoveUtility=function(){};Microsoft.SharePoint.Portal.UserProfiles.MySiteDocumentMoveUtility.firstRunDocumentMove=function(a,d){if(!a)throw Error.argumentNull("context");var b,c=new SP.ClientActionInvokeStaticMethod(a,"{f0be8ab9-1b53-41fa-84b3-bc6145595fcb}","FirstRunDocumentMove",[d]);a.addQuery(c);b=new SP.BooleanResult;a.addQueryIdAndResultObject(c.get_id(),b);return b};SP.UI.MySiteCommon.MySiteMenuItem.registerClass("SP.UI.MySiteCommon.MySiteMenuItem");SP.UI.MySiteCommon.CheckBoxMenuItem.registerClass("SP.UI.MySiteCommon.CheckBoxMenuItem",SP.UI.MySiteCommon.MySiteMenuItem);SP.UI.MySiteCommon.CommonUIElements.registerClass("SP.UI.MySiteCommon.CommonUIElements");SP.UI.MySiteCommon.PresenceManager.registerClass("SP.UI.MySiteCommon.PresenceManager");SP.UI.MySiteCommon.MySiteDialog.registerClass("SP.UI.MySiteCommon.MySiteDialog");SP.UI.MySiteCommon.MySiteMenu.registerClass("SP.UI.MySiteCommon.MySiteMenu");SP.UI.MySiteCommon.MySitePrivacyIcon.registerClass("SP.UI.MySiteCommon.MySitePrivacyIcon");SP.UI.MySiteCommon.SeparatorMenuItem.registerClass("SP.UI.MySiteCommon.SeparatorMenuItem",SP.UI.MySiteCommon.MySiteMenuItem);SP.UI.MySiteCommon.ErrorCodes.registerClass("SP.UI.MySiteCommon.ErrorCodes");SP.UI.MySiteCommon.DataCache.registerClass("SP.UI.MySiteCommon.DataCache");SP.UI.MicroFeed.ExternallyDefinedStrings.registerClass("SP.UI.MicroFeed.ExternallyDefinedStrings");SP.UI.People.FollowOrStopFollowingButtonControl.registerClass("SP.UI.People.FollowOrStopFollowingButtonControl");SP.UI.People.MySitePeopleUtilities.registerClass("SP.UI.People.MySitePeopleUtilities");SP.UI.People.PersonManager.registerClass("SP.UI.People.PersonManager");SP.UI.People.ClientPerson.registerClass("SP.UI.People.ClientPerson");SP.UI.People.FollowLink.registerClass("SP.UI.People.FollowLink");SP.UI.People.FollowLinkManager.registerClass("SP.UI.People.FollowLinkManager");Microsoft.SharePoint.Portal.UserProfiles.MySiteDismissStatusText.registerClass("Microsoft.SharePoint.Portal.UserProfiles.MySiteDismissStatusText");Microsoft.SharePoint.Portal.UserProfiles.MySiteDocumentMoveUtility.registerClass("Microsoft.SharePoint.Portal.UserProfiles.MySiteDocumentMoveUtility");function sp_ui_mysitecommon_initialize(){SP.UI.MySiteCommon.CommonUIElements.$1D="placeholderDivForHiddenElement";SP.UI.MySiteCommon.CommonUIElements.$a="fixedHeight";SP.UI.MySiteCommon.CommonUIElements.$b="fixedWidth";SP.UI.MySiteCommon.PresenceManager.$5=null;SP.UI.MySiteCommon.MySiteMenu.$1E={};SP.UI.MySiteCommon.MySiteMenu.$1M="SP.UI.MySiteCommon.MySiteMenu.onMenuClickCallback";SP.UI.MySiteCommon.MySiteMenu.controlSpan="ms-mysitemenu-control_";SP.UI.MySiteCommon.MySiteMenu.controlLink="ms-mysitemenu-control_Link_";SP.UI.MySiteCommon.MySiteMenu.controlImage="ms-mysitemenu-control_Image_";SP.UI.MySiteCommon.MySiteMenu.controlImageParent="ms-mysitemenu-control_ImageParent_";SP.UI.MySiteCommon.MySiteMenu.menuDiv="ms-mysitemenu-menu_";SP.UI.MySiteCommon.MySiteMenu.menuItem="ms-mysitemenu-menu_Item_";SP.UI.MySiteCommon.MySiteMenu.emptyStringPromptConst="EMPTY_STRING_A2BF7E95-82D5-4055-8451-B0B86C4E973E";SP.UI.MySiteCommon.MySitePrivacyIcon.$1F="mySitePrivacyIcon-anchor_";SP.UI.MySiteCommon.ErrorCodes.erroR_TP_E_CANARYTAMPERED=-2130575251;SP.UI.MySiteCommon.ErrorCodes.erroR_TP_E_CANARYTIMEDOUT=-2130575252;SP.UI.MySiteCommon.DataCache.$12=-1;SP.UI.MicroFeed.ExternallyDefinedStrings.defaultPostDefinitionName="Microsoft.SharePoint.Microfeed.UserPost";SP.UI.People.MySitePeopleUtilities.$1N=["EditProfileLink","IsMyPeopleListPublic"];SP.UI.People.MySitePeopleUtilities.$1O=["DisplayName","AccountName","UserUrl","PictureUrl","Email","LatestPost","IsFollowed"];SP.UI.People.MySitePeopleUtilities.personPropertiesToIncludeInCollection="Include(DisplayName, AccountName, UserUrl, PictureUrl, Email, LatestPost, IsFollowed)";SP.UI.People.PersonManager.$5=null;SP.UI.People.FollowLink.followLinkId="FollowLinkFor{0}";SP.UI.People.FollowLink.followLinkClass="ms-commandLink";SP.UI.People.FollowLink.suggestionFollowLinkClass="ms-secondaryCommandLink";SP.UI.People.FollowLink.followLinkImageId="FollowLinkImageFor{0}";SP.UI.People.FollowLink.followLinkImageClass="ms-people-followLinkImage";SP.UI.People.FollowLink.followLinkImageFollowingClass="ms-people-followLinkImageFollowing";SP.UI.People.FollowLink.followLinkImageNotFollowingClass="ms-people-followLinkImageNotFollowing";SP.UI.People.FollowLink.followLinkImageParentClass="ms-people-followLinkImageParent";SP.UI.People.FollowLink.followLinkTextId="FollowLinkTextFor{0}";SP.UI.People.FollowLink.profilePageFollowThisPersonLinkTextId="ProfilePageFollowThisPersonLinkTextFor{0}";SP.UI.People.FollowLink.profilePageFollowThisPersonLinkAnchorId="ProfilePageFollowThisPersonLinkAnchorFor{0}";SP.UI.People.FollowLink.profilePageFollowThisPersonLinkTextClass="ms-profile-followLink ms-textXLarge";SP.UI.People.FollowLink.profilePageFollowThisPersonAnchorClass="ms-heroCommandLink";SP.UI.People.FollowLink.profilePageFollowLinkClass="ms-profile-followLink ms-heroCommandLink ms-textXLarge";SP.UI.People.FollowLink.profilePageStopFollowingLinkClass="ms-profile-stopFollowingLink ms-commandLink";SP.UI.People.FollowLink.profilePageFollowLinkImageClass="ms-profile-followHeroImage";SP.UI.People.FollowLink.profilePageFollowLinkImageParentClass="ms-profile-followHeroImageParent";SP.UI.People.FollowLink.calloutIdPrefix="Callout";SP.UI.People.FollowLink.calloutSourceOwnPage="CalloutOwnPage";SP.UI.People.FollowLink.calloutSourceOtherPage="CalloutOtherPage";SP.UI.People.FollowLink.microfeedIdPrefixAndSource="Microfeed";SP.UI.People.FollowLink.profileIdPrefixAndSource="Profile";SP.UI.People.FollowLink.suggestionIdPrefixAndSource="Suggestion";SP.UI.People.FollowLink.searchIdPrefixAndSource="Search";SP.UI.People.FollowLink.personDivPrefixAndSource="PersonDiv";SP.UI.People.FollowLink.followMultiplePeoplePrefixAndSource="FollowMultiplePeople";SP.UI.People.FollowLinkManager.$5=null}sp_ui_mysitecommon_initialize();RegisterModuleInit("sp.ui.mysitecommon.js",sp_ui_mysitecommon_initialize);typeof Sys!="undefined"&&Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded();NotifyScriptLoadedAndExecuteWaitingJobs("SP.UI.MySiteCommon.js");_spApplicationPagesScriptLoaded=true;
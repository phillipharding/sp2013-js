function $_global_languagepickercontrol(){LanguageType={Display:0,Content:1};MaxLanguageListLength=64;NoLanguageSelectedValue="NoLanguageSelected";ClassLanguageList="ms-languagepickercontrol-languagelistdiv";ClassLanguageItemContainer="ms-languagepickercontrol-languageitemcontainer";ClassLanguageItem="ms-languagepickercontrol-languageitem";ClassButtonsDiv="ms-languagepickercontrol-buttonsdiv";ClassLanguageTextContainer="ms-languagepickercontrol-languagetextcontainer";ClassItemLinks="ms-languagepickercontrol-itemlinks";ClassLanguageControlWidth="ms-languagepickercontrol-controlwidth";ClassImageUp="ms-languagepickercontrol-imageupcontainer";ClassImageDown="ms-languagepickercontrol-imagedowncontainer";ClassImageRemove="ms-languagepickercontrol-imageremovecontainer";ClassImageAlpha="ms-languagepickercontrol-imagealpha";typeof Sys!="undefined"&&typeof Sys.Application!="undefined"&&typeof Sys.Application.notifyScriptLoaded!="undefined"&&Sys.Application.notifyScriptLoaded();typeof NotifyScriptLoadedAndExecuteWaitingJobs=="function"&&NotifyScriptLoadedAndExecuteWaitingJobs("languagepickercontrol.js")}function ULSvxz(){var a={};a.ULSTeamName="Microsoft SharePoint Foundation";a.ULSFileName="languagepickercontrol.commentedjs";return a}var LanguageType,MaxLanguageListLength,LanguageIds,LanguageTexts,ShowAdvLang,ContentLanguageContainer,DisplayLanguagePickerError,ContentLanguagePickerError,AnotherDisplayLanguageDropDown,AnotherContentLanguageDropDown,MultipleDisplayLanguageHiddenField,MultipleContentLanguageHiddenField,UILanguagesReadOnlyModeHiddenField,ContentLanguagesReadOnlyModeHiddenField,FollowDisplayLanguagesValue,FollowDisplayLanguagesText,NoLanguageSelectedText,NoLanguageSelectedValue,DisplayLanguageSelectionDiv,ContentLanguageSelectionDiv,ShowAdvancedLanguageSettings,HideAdvancedLanguageSettings,ClassLanguageList,ClassLanguageItemContainer,ClassLanguageItem,ClassButtonsDiv,ClassLanguageTextContainer,ClassItemLinks,ClassLanguageControlWidth,ClassImageUp,ClassImageDown,ClassImageRemove,ClassImageAlpha;function GetQueryParameterValue(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c="[\\?&]"+a+"=([^&#]*)",d=new RegExp(c),b=d.exec(window.location.href);return b==null?"":b[1]}function SetUpLanguagePicker(){a:;MapLanguages();ShowAdvLang=GetQueryParameterValue("ShowAdvLang");var a=AnotherContentLanguageDropDown.options[0].value.indexOf(",");FollowDisplayLanguagesValue=AnotherContentLanguageDropDown.options[0].value.substring(0,a);FollowDisplayLanguagesText=AnotherContentLanguageDropDown.options[0].value.substring(a+1);if(!(ShowAdvLang=="1")&&(MultipleContentLanguageHiddenField.value==""||MultipleContentLanguageHiddenField.value==FollowDisplayLanguagesValue))OnHideAdvanced();else OnShowAdvanced();DisplayLanguagePickerError.style.display="none";ContentLanguagePickerError.style.display="none";RefreshListBoxes();SortDropDown(AnotherDisplayLanguageDropDown);SortDropDown(AnotherContentLanguageDropDown)}function OnShowAdvanced(){a:;ShowAdvancedLanguageSettings.style.display="none";HideAdvancedLanguageSettings.style.display="";ContentLanguageContainer.style.display="";return false}function OnHideAdvanced(){a:;ShowAdvancedLanguageSettings.style.display="";HideAdvancedLanguageSettings.style.display="none";ContentLanguageContainer.style.display="none";return false}function MapLanguages(){a:;LanguageIds=[];LanguageTexts=[];for(var b=AnotherDisplayLanguageDropDown.options,c=b.length,a=0;a<c;a++){LanguageIds[a]=b[a].value;LanguageTexts[a]=getTextContentForElement(b[a])}}function ClearListBox(a){while(a.hasChildNodes())a.removeChild(a.firstChild)}function RefreshListBoxes(){a:;ClearListBox(DisplayLanguageSelectionDiv);ClearListBox(ContentLanguageSelectionDiv);var e,c,b,a;if(MultipleDisplayLanguageHiddenField.value!=""){c=MultipleDisplayLanguageHiddenField.value.split(",");e=c.length;for(b=0;b<e;b++){a=c[b];var d=GetLanguageTextByValue(a);if(d==null)continue;CreateNewLanguageListItem(d,a,LanguageType.Display,null);RemoveLanguageFromDropDown(AnotherDisplayLanguageDropDown,a)}}else CreateNoLanguageListItem();if(MultipleContentLanguageHiddenField.value!=""&&MultipleContentLanguageHiddenField.value!=FollowDisplayLanguagesValue){c=MultipleContentLanguageHiddenField.value.split(",");e=c.length;for(b=0;b<e;b++){a=c[b];d=GetLanguageTextByValue(a);if(d==null)continue;CreateNewLanguageListItem(d,a,LanguageType.Content,null);RemoveLanguageFromDropDown(AnotherContentLanguageDropDown,a)}}else{CreateFollowDisplayListItem();MultipleContentLanguageHiddenField.value=GetLanguageStringFromListBox(ContentLanguageSelectionDiv)}}function RefreshHiddenFields(){a:;MultipleDisplayLanguageHiddenField.value=GetLanguageStringFromListBox(DisplayLanguageSelectionDiv);MultipleContentLanguageHiddenField.value=GetLanguageStringFromListBox(ContentLanguageSelectionDiv)}function OnAddNewLanguage(c){a:;DisplayLanguagePickerError.style.display="none";ContentLanguagePickerError.style.display="none";var d,a;switch(c){case LanguageType.Display:d=DisplayLanguageSelectionDiv;a=AnotherDisplayLanguageDropDown;break;case LanguageType.Content:d=ContentLanguageSelectionDiv;a=AnotherContentLanguageDropDown}if(a.selectedIndex==0)return false;var e=a.options[a.selectedIndex].text,b=a.options[a.selectedIndex].value;if(c==LanguageType.Display){if(MultipleDisplayLanguageHiddenField.value.length+b.length+1>MaxLanguageListLength){DisplayLanguagePickerError.style.display="";a.selectedIndex=0;return false}}else if(MultipleContentLanguageHiddenField.value.length+b.length+1>MaxLanguageListLength){ContentLanguagePickerError.style.display="";a.selectedIndex=0;return false}CreateNewLanguageListItem(e,b,c,null);RefreshHiddenFields();RemoveLanguageFromDropDown(a,b);a.selectedIndex=0;return false}function MoveLanguageUp(a,c){a:;DisplayLanguagePickerError.style.display="none";ContentLanguagePickerError.style.display="none";var b=a.previousSibling;if(b==null)return false;var d=LanguageType.Content;if(c==DisplayLanguageSelectionDiv)d=LanguageType.Display;c.removeChild(a);var f=getTextContentForElement(a.children[0]),e=a.id;CreateNewLanguageListItem(f,e,d,b);RefreshHiddenFields();return false}function MoveLanguageDown(b,c){a:;DisplayLanguagePickerError.style.display="none";ContentLanguagePickerError.style.display="none";var a=b.nextSibling;if(a==null)return false;c.insertBefore(a,b);RefreshHiddenFields();return false}function RemoveNoLanguageSelectedListItem(){a:;var a=DisplayLanguageSelectionDiv;DisplayLanguagePickerError.style.display="none";ContentLanguagePickerError.style.display="none";a.removeChild(a.children[0])}function RemoveFollowDisplayListItem(){a:;var a=ContentLanguageSelectionDiv;DisplayLanguagePickerError.style.display="none";ContentLanguagePickerError.style.display="none";a.removeChild(a.children[0])}function RemoveLanguage(c,f){var e=getTextContentForElement(c.children[0]),d=c.id,a,b;switch(f){case LanguageType.Display:a=DisplayLanguageSelectionDiv;b=AnotherDisplayLanguageDropDown;break;case LanguageType.Content:a=ContentLanguageSelectionDiv;b=AnotherContentLanguageDropDown}a.removeChild(c);DisplayLanguagePickerError.style.display="none";ContentLanguagePickerError.style.display="none";RefreshHiddenFields();AddLanguageToDropDown(b,e,d);if(a==DisplayLanguageSelectionDiv&&a.children.length==0){CreateNoLanguageListItem();MultipleDisplayLanguageHiddenField.value=GetLanguageStringFromListBox(DisplayLanguageSelectionDiv)}if(a==ContentLanguageSelectionDiv&&a.children.length==0){CreateFollowDisplayListItem();MultipleContentLanguageHiddenField.value=GetLanguageStringFromListBox(ContentLanguageSelectionDiv)}return false}function AddLanguageToDropDown(b,d,c){a:;var a=document.createElement("option");a.text=d;a.value=c;try{b.add(a,null)}catch(e){b.add(a)}SortDropDown(b)}function RemoveLanguageFromDropDown(b,d){a:;for(var c=b.options.length,a=0;a<c;a++)if(b.options[a].value==d){b.remove(a);return}}function SortDropDown(b){a:;var c=[],f=[],e=[];c[0]="";e[0]="";f[0]="";for(var g=b.options.length,a=1;a<g;a++){c[a]=b.options[a].text;e[a]=b.options[a].text;f[a]=b.options[a].value}c.sort();for(a=1;a<g;a++){b.options[a].text=c[a];for(var d=1;d<b.options.length;d++)if(c[a]==e[d]){b.options[a].value=f[d];break}}}function GetLanguageTextByValue(b){a:;for(var a=0;a<LanguageIds.length;a++)if(LanguageIds[a]==b)return LanguageTexts[a];return null}function CreateNoLanguageListItem(){a:;var c=DisplayLanguageSelectionDiv,a=document.createElement("div");a.id=NoLanguageSelectedValue;a.className=ClassLanguageItemContainer;c.appendChild(a);var b=document.createElement("div");b.className=ClassLanguageTextContainer;b.innerHTML=NoLanguageSelectedText;a.appendChild(b)}function CreateFollowDisplayListItem(){a:;var c=ContentLanguageSelectionDiv,a=document.createElement("div");a.id=FollowDisplayLanguagesValue;a.className=ClassLanguageItemContainer;c.appendChild(a);var b=document.createElement("div");b.className=ClassLanguageTextContainer;b.innerHTML=FollowDisplayLanguagesText;a.appendChild(b)}function CreateNewLanguageListItem(p,o,m,n){a:;var b,l,j=false;switch(m){case LanguageType.Display:b=DisplayLanguageSelectionDiv;l=AnotherDisplayLanguageDropDown;if(UILanguagesReadOnlyModeHiddenField.value=="1")j=true;break;case LanguageType.Content:b=ContentLanguageSelectionDiv;l=AnotherContentLanguageDropDown;if(ContentLanguagesReadOnlyModeHiddenField.value=="1")j=true}b.children.length>0&&b.children[0].id==NoLanguageSelectedValue&&RemoveNoLanguageSelectedListItem();b.children.length>0&&b.children[0].id==FollowDisplayLanguagesValue&&RemoveFollowDisplayListItem();var a=document.createElement("div");a.id=o;a.className=ClassLanguageItemContainer;b.insertBefore(a,n);var g=document.createElement("div");g.className=ClassLanguageTextContainer;g.innerHTML=p;a.appendChild(g);if(!j){var d=document.createElement("div");d.id="ControlButtonsDiv_"+a.id;d.className=ClassButtonsDiv;a.appendChild(d);var e=document.createElement("a");e.href="#";e.id="MoveElementUpLink_"+a.id;e.className=ClassImageUp;var k=document.createElement("img");k.src="/_layouts/15/images/arwmoveup.gif?rev=23";k.className=ClassImageAlpha;d.appendChild(e);e.appendChild(k);e.onclick=function(){a:;return MoveLanguageUp(a,b)};var c=document.createElement("a");c.href="#";c.id="MoveElementDownLink_"+a.id;c.className=ClassImageDown;var i=document.createElement("img");i.src="/_layouts/15/images/arwmovedown.gif?rev=23";i.className=ClassImageAlpha;d.appendChild(c);c.appendChild(i);c.onclick=function(){a:;return MoveLanguageDown(a,b)};var f=document.createElement("a");f.href="#";f.id="RemoveElementLink_"+a.id;f.className=ClassImageRemove;var h=document.createElement("img");h.src="/_layouts/15/images/removeitem.gif?rev=23";h.className=ClassImageAlpha;d.appendChild(f);f.appendChild(h);f.onclick=function(){a:;return RemoveLanguage(a,m)}}}function GetLanguageStringFromListBox(d){a:;for(var c="",b=d.children,a=0;a<b.length;a++){if(b[a].id==NoLanguageSelectedValue){c="";break}c+=b[a].id;if(a<b.length-1)c+=","}return c}function getTextContentForElement(a){return a.textContent!=null?a.textContent:a.innerText}$_global_languagepickercontrol();
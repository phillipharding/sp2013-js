function $_global_wpcm(){wpcmInitInfo.prototype={webpartGuids:undefined};WPCState={existing:0,deleted:4};WPC.prototype.PrepareToCommit=WPCPrepareToCommit;WPC.prototype.Dispose=WPCDispose;WPCM.newWebPartIdElementId="_wpcmWpid";WPCM.prototype.Dispose=WPCMDispose;WPCM.prototype.Init=WPCMInit;g_wpcmSeparator="$$__WPCM__$$";WPCM.prototype.PrepareToCommit=WPCMPrepareToCommit;WPCM.prototype.SetWpcmVal=WPCMSetWpcmVal;ExecuteOrDelayUntilScriptLoaded(function(){a:;RTE.ClientWebPartManager.init()},"sp.ui.rte.js");typeof Sys!="undefined"&&Boolean(Sys)&&Boolean(Sys.Application)&&Sys.Application.notifyScriptLoaded();NotifyScriptLoadedAndExecuteWaitingJobs("wpcm.js")}function ULSAZ1(){var a={};a.ULSTeamName="Microsoft SharePoint Foundation";a.ULSFileName="wpcm.commentedjs";return a}function wpcmInitInfo(){}var WPCState;function WPC(){a:;this.state=WPCState.existing;this.render=null;this.id="";this.titleHtml=null}function WPCPrepareToCommit(a){a.push(this.state);a.push("#");a.push(this.id)}function WPCDispose(){a:;this.state=WPCState.existing;this.render=null;this.id=""}function WPCM(){a:;this.rgparts=null;this.forEditing=false;this.inited=false}function WPCMDispose(){a:;if(this.rgparts!=null){var a;for(a in this.rgparts){var b=this.rgparts[a];b.Dispose()}delete this.rgparts}this.rgparts=null;this.inited=false}function WPCMInit(g){var b,c,a;if(!Boolean(this.rgparts))this.rgparts={};var i={};if(Boolean(g)&&Boolean(g.webpartGuids))for(c=0;c<g.webpartGuids.length;c++){b=g.webpartGuids[c];i[b]=true;a=this.rgparts[b];if(!Boolean(a))a=new WPC;a.id=b;var h=document.getElementById("div_"+b);if(Boolean(h)){a.render=h;h.className="ms-rtestate-notify ms-rtegenerate-notify ms-rtestate-read "+b;if(!a.titleHtml){var d=h.getElementsByTagName("TD");if(Boolean(d))for(var e=0;e<d.length;e++)if(d[e].className&&d[e].className.indexOf("js-webpart-titleCell")>=0){a.titleHtml=d[e].innerHTML;break}}}else{a.render=null;a.state=WPCState.deleted}this.rgparts[b]=a}var f=[];for(b in this.rgparts)!i[b]&&f.push(b);for(c=0;c<f.length;c++){a=this.rgparts[f[c]];Boolean(a)&&a.Dispose();delete this.rgparts[f[c]]}this.inited=true}var g_wpcmSeparator;function WPCMPrepareToCommit(){a:;var a=[],c,d=true;if(!this.forEditing)return"";for(c in this.rgparts){var b=this.rgparts[c],e=document.getElementById("div_"+c);if(e==null)b.state=WPCState.deleted;else b.state=WPCState.existing;if(b.state==WPCState.existing)continue;if(!d)a.push(g_wpcmSeparator);else d=false;b.PrepareToCommit(a)}var f=a.join("");delete a;return f}function WPCMSetWpcmVal(){a:;var a=this.PrepareToCommit();document.getElementById("wpcmVal").value=a}var vwpcm;function InitPageEditor(){a:;var a=vwpcm;if(Boolean(a))a.forEditing=true}function InitWpcm(b,c){a:;var a=vwpcm;if(!Boolean(a)||c)a=new WPCM;a.Init(b);vwpcm=a}function isElementConnected(a){a:;return a==null?false:a==document.body?true:isElementConnected(a.parentNode)}function refreshAllWebParts(){a:;var a;if(!Boolean(vwpcm))return;var g=vwpcm.rgparts;for(var k in g){var d=g[k];if(!Boolean(d)||!Boolean(d.render))continue;var e=d.render,h=isElementConnected(e)&&1==e.parentNode.nodeType,j=GetElementsByName("div_"+k),f=j.length;if(0==f)continue;var i=[];for(a=0;a<f;a++)i[a]=j[a];for(a=0;a<f;a++){var c=i[a];if(!(h&&c==e))if(!h&&0==a)d.render=c;else{var b=c.parentNode;if(Boolean(b))if(Boolean(b.className)&&b.className.indexOf("ms-rte-wpbox")>=0&&Boolean(b.parentNode))b.parentNode.removeChild(b);else b.removeChild(c)}}}typeof inplview!="undefined"&&FixDroppedOrPastedClvps()}$_global_wpcm();
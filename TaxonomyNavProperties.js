function ULSVOC(){var o=new Object;o.ULSTeamName="CMS";o.ULSFileName="TaxonomyNavProperties.js";return o;}
Type.registerNamespace("Pub.Navigation");Pub.Navigation.TaxonomyNavPropertiesTab=function(b){ULSVOC:;this.$$d_$1O_3=Function.createDelegate(this,this.$1O_3);this.$$d_$1N_3=Function.createDelegate(this,this.$1N_3);Pub.Navigation.TaxonomyNavPropertiesTab.initializeBase(this,[$get(b),b]);var a=null;this.$9_3=this.getChildElementByAuthoringId("customizeTitleCheckBox");this.$I_3=this.getChildElementByAuthoringId("navNodeTitleTextBox");this.$Z_3=Microsoft.SharePoint.Taxonomy.TreeUtility.getChildElemById(this.rootNode,"navNodeTitleError");this.$H_3=this.getChildElementByAuthoringId("navHoverTextTextBox");this.$Y_3=this.$H_3.parentNode;this.$P_3=this.getChildElementByAuthoringId("showInGlobalNavCheckBox");this.$R_3=this.getChildElementByAuthoringId("showInCurrentNavCheckBox");this.$15_3=this.$P_3.parentNode.parentNode;this.$K_3=this.getChildElementByAuthoringId("simpleHyperlinkRadioButton");a=this.getChildElementByAuthoringId("simpleHyperlinkSelector");this.$L_3=Microsoft.SharePoint.Taxonomy.TreeUtility.getChildElemById(a,a.id+"_AssetUrlInput");this.$k_3=Microsoft.SharePoint.Taxonomy.TreeUtility.getChildElemById(a,a.id+"_PickerLaunchButton");this.$k_3.setAttribute("style","width: auto;");this.$b_3=a.parentNode;this.$U_3=this.getChildElementByAuthoringId("termDrivenPageRadioButton");a=this.getChildElementByAuthoringId("associatedFolderSelector");this.$7_3=Microsoft.SharePoint.Taxonomy.TreeUtility.getChildElemById(a,a.id+"_AssetUrlInput");this.$o_3=Microsoft.SharePoint.Taxonomy.TreeUtility.getChildElemById(a,a.id+"_PickerLaunchButton");this.$o_3.setAttribute("style","width: auto;");this.$n_3=a.parentNode;this.$1B_3=this.$$d_$1N_3;this.$y_3=this.$$d_$1O_3};Pub.Navigation.TaxonomyNavPropertiesTab.prototype={$j_3:false,$i_3:false,$9_3:null,$I_3:null,$H_3:null,$P_3:null,$R_3:null,$K_3:null,$L_3:null,$k_3:null,$U_3:null,$7_3:null,$o_3:null,$Z_3:null,$Y_3:null,$15_3:null,$b_3:null,$n_3:null,$1B_3:null,$y_3:null,$1N_3:function(b){ULSVOC:;if(b){var a=this.$9_3.checked;Pub.Navigation.NavHelper.$1(this,this.$I_3,a);Microsoft.SharePoint.Taxonomy.TermStoreManager.enableSubmitButton()}},$1O_3:function(b){ULSVOC:;if(b){var a=this.$K_3.checked;Pub.Navigation.NavHelper.$1(this,this.$L_3,a);this.$k_3.disabled=!a;Microsoft.SharePoint.Taxonomy.TermStoreManager.enableSubmitButton()}},onTabLoad:function(){ULSVOC:;this.$S_3();this.$x_3();var b=SP.ClientContext.get_current(),h,i,j,d,e,f,g,c=(g=Pub.Navigation.NavHelper.$v(this.get_treeFocusNode(),b,d={val:j},e={val:i},f={val:h}),j=d.val,i=e.val,h=f.val,g),k=c.getAllParentTerms();b.load(c,"Title","HoverText","ExcludeFromGlobalNavigation","ExcludeFromCurrentNavigation","LinkType","SimpleLinkUrl","AssociatedFolderUrl");b.load(k,"Include(ExcludeFromGlobalNavigation,ExcludeFromCurrentNavigation)");var a=this,l=this;b.executeQueryAsync(function(){ULSVOC:;Microsoft.SharePoint.Taxonomy.CustomPropertyTab.resetErrorMessage(a.$Z_3,null);Microsoft.SharePoint.Taxonomy.CustomPropertyTab.resetErrorMessage(a.$Y_3,null);Microsoft.SharePoint.Taxonomy.CustomPropertyTab.resetErrorMessage(a.$15_3,null);Microsoft.SharePoint.Taxonomy.CustomPropertyTab.resetErrorMessage(a.$b_3,null);Microsoft.SharePoint.Taxonomy.CustomPropertyTab.resetErrorMessage(a.$7_3,null);a.$T_3(c,k)},function(){});this.$C_3()},onPreSubmit:function(){ULSVOC:;this.$S_3();Microsoft.SharePoint.Taxonomy.TermStoreManager.disableSubmitButton();var a=this.$14_3();a&&this.$17_3();return false},onSaveCompleted:function(){},isApplicableType:function(b){ULSVOC:;var a=false;if(b===4)a=Pub.Navigation.NavHelper.$19(this.get_treeFocusNode(),Microsoft.SharePoint.Taxonomy.TermSetRolePropertyNames.useForSiteNavigation);return a},get_domIdPrefix:function(){ULSVOC:;if(!this.aspNetPrefix)this.aspNetPrefix=TaxonomyNavPropertiesTab_getAspNetPrefix();return this.aspNetPrefix},$C_3:function(){ULSVOC:;$addHandler(this.$9_3,"click",this.$1B_3);this.addChangedHandler(this.$I_3);this.addChangedHandler(this.$H_3);this.addClickedHandler(this.$P_3);this.addClickedHandler(this.$R_3);$addHandler(this.$K_3,"click",this.$y_3);this.addChangedHandler(this.$L_3);$addHandler(this.$U_3,"click",this.$y_3);this.addChangedHandler(this.$7_3)},$S_3:function(){ULSVOC:;this.removeAllHandlers(this.$9_3);this.removeAllHandlers(this.$I_3);this.removeAllHandlers(this.$H_3);this.removeAllHandlers(this.$P_3);this.removeAllHandlers(this.$R_3);this.removeAllHandlers(this.$K_3);this.removeAllHandlers(this.$L_3);this.removeAllHandlers(this.$U_3);this.removeAllHandlers(this.$7_3)},$x_3:function(){ULSVOC:;this.$9_3.checked=false;this.$I_3.value="";this.$H_3.value="";this.$P_3.checked=false;this.$R_3.checked=false;this.$K_3.checked=false;this.$L_3.value="";this.$U_3.checked=true;this.$7_3.value=""},$T_3:function(a,c){ULSVOC:;var d=a.get_title();this.$9_3.checked=!d.get_usesDefaultValue();this.$I_3.value=d.get_value();this.$H_3.value=a.get_hoverText();this.$P_3.checked=!a.get_excludeFromGlobalNavigation();this.$R_3.checked=!a.get_excludeFromCurrentNavigation();this.$j_3=false;this.$i_3=false;if(c)for(var f=c.get_count(),b=0;b<f;b++){var e=c.get_item(b);if(e.get_excludeFromGlobalNavigation())this.$j_3=true;if(e.get_excludeFromCurrentNavigation())this.$i_3=true;if(this.$j_3&&this.$i_3)break}if(a.get_linkType()===2){this.$K_3.checked=true;this.$L_3.value=Pub.Navigation.NavHelper.$6(a.get_simpleLinkUrl())}else this.$U_3.checked=true;this.$7_3.value=Pub.Navigation.NavHelper.$6(a.get_associatedFolderUrl());this.$t_3(true)},$t_3:function(a){ULSVOC:;this.$9_3.disabled=!a;Pub.Navigation.NavHelper.$1(this,this.$I_3,a&&this.$9_3.checked);Pub.Navigation.NavHelper.$1(this,this.$H_3,a);this.$P_3.disabled=!a||this.$j_3;this.$R_3.disabled=!a||this.$i_3;this.$K_3.disabled=!a;Pub.Navigation.NavHelper.$1(this,this.$L_3,a&&this.$K_3.checked);this.$k_3.disabled=!a;this.$U_3.disabled=!a;Pub.Navigation.NavHelper.$1(this,this.$7_3,a);this.$o_3.disabled=!a},$14_3:function(){ULSVOC:;var a=true;Microsoft.SharePoint.Taxonomy.CustomPropertyTab.removeErrorMessage(this.$Z_3);if(this.$9_3.checked)a=Microsoft.SharePoint.Taxonomy.CustomPropertyTab.validatePropertyValue(this.$I_3.value,this.$Z_3)&&a;Microsoft.SharePoint.Taxonomy.CustomPropertyTab.removeErrorMessage(this.$Y_3);a=Microsoft.SharePoint.Taxonomy.CustomPropertyTab.validatePropertyValue(this.$H_3.value,this.$Y_3)&&a;Microsoft.SharePoint.Taxonomy.CustomPropertyTab.removeErrorMessage(this.$b_3);a=Microsoft.SharePoint.Taxonomy.CustomPropertyTab.validatePropertyValue(this.$L_3.value,this.$b_3)&&a;Microsoft.SharePoint.Taxonomy.CustomPropertyTab.removeErrorMessage(this.$n_3);if(!SP.ScriptUtility.isNullOrEmptyString(this.$7_3.value))a=Microsoft.SharePoint.Taxonomy.CustomPropertyTab.validatePropertyValue(this.$7_3.value,this.$n_3)&&a;return a},$17_3:function(){ULSVOC:;var i,f,g,l,m,n;Pub.Navigation.NavHelper.$f(this.get_treeFocusNode(),l={val:i},m={val:f},n={val:g}),i=l.val,f=m.val,g=n.val;var a=SP.ClientContext.get_current(),j,w,h,o,p,q,r,b=(r=Pub.Navigation.NavHelper.$e(a,i,f,g,o={val:h},p={val:w},q={val:j}),h=o.val,w=p.val,j=q.val,r),k,d=new SP.RequestVariable(a);d.set("true");var B=Pub.Navigation.NavHelper.$Q(a,b.get_title(),!this.$9_3.checked,this.$I_3.value,d),z=this,C=Pub.Navigation.NavHelper.$m(a,function(){ULSVOC:;b.set_hoverText(Pub.Navigation.NavHelper.$6(z.$H_3.value))},d),u=this,D=Pub.Navigation.NavHelper.$m(a,function(){ULSVOC:;b.set_excludeFromGlobalNavigation(!u.$P_3.checked);b.set_excludeFromCurrentNavigation(!u.$R_3.checked)},d),v=this,E=Pub.Navigation.NavHelper.$m(a,function(){ULSVOC:;if(v.$K_3.checked){b.set_linkType(2);b.set_simpleLinkUrl(Pub.Navigation.NavHelper.$6(v.$L_3.value))}else b.set_linkType(1)},d),A=this,F=Pub.Navigation.NavHelper.$m(a,function(){ULSVOC:;b.set_associatedFolderUrl(Pub.Navigation.NavHelper.$6(A.$7_3.value))},d),e,s,t,G=this,x=(t=Pub.Navigation.NavHelper.$q(a,d,j,function(){ULSVOC:;SP.Publishing.Navigation.TaxonomyNavigation.flushTermSetFromCache(a,a.get_web(),g,f)},null,s={val:e}),e=s.val,t);a.load(h,"LocalCustomProperties","LastModifiedDate");a.load(b,"Title","HoverText","ExcludeFromGlobalNavigation","ExcludeFromCurrentNavigation","LinkType","SimpleLinkUrl","AssociatedFolderUrl");k=b.getAllParentTerms();a.load(k,"Include(ExcludeFromGlobalNavigation,ExcludeFromCurrentNavigation)");a.load(x);var c=this,y=this;a.executeQueryAsync(function(){ULSVOC:;Microsoft.SharePoint.Taxonomy.CustomPropertyTab.resetErrorMessage(c.$Z_3,B);Microsoft.SharePoint.Taxonomy.CustomPropertyTab.resetErrorMessage(c.$Y_3,C);Microsoft.SharePoint.Taxonomy.CustomPropertyTab.resetErrorMessage(c.$15_3,D);Microsoft.SharePoint.Taxonomy.CustomPropertyTab.resetErrorMessage(c.$b_3,E);Microsoft.SharePoint.Taxonomy.CustomPropertyTab.resetErrorMessage(c.$7_3,F);e&&e.get_hasException()&&alert(e.get_errorMessage());if(x.get_value()==="true"){Pub.Navigation.NavHelper.$13(c.get_treeFocusNode(),h);c.$T_3(b,k)}c.$C_3()},function(b,a){ULSVOC:;alert(a.get_message());y.$C_3();Microsoft.SharePoint.Taxonomy.TermStoreManager.enableCancelButton(true)})}};Pub.Navigation.TermDrivenPagePropertiesTab=function(b){ULSVOC:;this.$$d_$1D_3=Function.createDelegate(this,this.$1D_3);this.$$d_$1P_3=Function.createDelegate(this,this.$1P_3);this.$$d_$1E_3=Function.createDelegate(this,this.$1E_3);this.$$d_$1Q_3=Function.createDelegate(this,this.$1Q_3);this.$$d_$1M_3=Function.createDelegate(this,this.$1M_3);Pub.Navigation.TermDrivenPagePropertiesTab.initializeBase(this,[$get(b),b]);var a=null;this.$w_3=Microsoft.SharePoint.Taxonomy.TreeUtility.getChildElemById(this.rootNode,"termDrivenPagePropertiesTab_NotTermDrivenDiv");this.$z_3=Microsoft.SharePoint.Taxonomy.TreeUtility.getChildElemById(this.rootNode,"termDrivenPagePropertiesTab_TermDrivenDiv");this.$10_3=Microsoft.SharePoint.Taxonomy.TreeUtility.getChildElemById(this.rootNode,"termDrivenPagePropertiesTab_TermDrivenDiv2");this.$11_3=Microsoft.SharePoint.Taxonomy.TreeUtility.getChildElemById(this.rootNode,"termDrivenPagePropertiesTab_TermDrivenDiv3");this.$12_3=Microsoft.SharePoint.Taxonomy.TreeUtility.getChildElemById(this.rootNode,"termDrivenPagePropertiesTab_TermDrivenDiv4");this.$1C_3=Microsoft.SharePoint.Taxonomy.TreeUtility.getChildElemById(this.rootNode,"termDrivenPagePropertiesTab_FriendlyUrlPrefix");this.$F_3=this.getChildElementByAuthoringId("friendlyUrlTextBox");this.$8_3=this.getChildElementByAuthoringId("customizeFriendlyUrlCheckBox");this.$X_3=Microsoft.SharePoint.Taxonomy.TreeUtility.getChildElemById(this.rootNode,"friendlyUrlSegmentError");this.$B_3=this.getChildElementByAuthoringId("overridePageTemplateCheckBox");a=this.getChildElementByAuthoringId("pageTemplateSelector");this.$J_3=Microsoft.SharePoint.Taxonomy.TreeUtility.getChildElemById(a,a.id+"_AssetUrlInput");this.$d_3=Microsoft.SharePoint.Taxonomy.TreeUtility.getChildElemById(a,a.id+"_PickerLaunchButton");this.$d_3.setAttribute("style","width: auto;");this.$a_3=a.parentNode;this.$3_3=this.getChildElementByAuthoringId("overrideChildTemplateCheckBox");a=this.getChildElementByAuthoringId("childTemplateSelector");this.$5_3=Microsoft.SharePoint.Taxonomy.TreeUtility.getChildElemById(a,a.id+"_AssetUrlInput");this.$N_3=Microsoft.SharePoint.Taxonomy.TreeUtility.getChildElemById(a,a.id+"_PickerLaunchButton");this.$N_3.setAttribute("style","width: auto;");this.$E_3=a.parentNode;a=this.getChildElementByAuthoringId("topicImageSelector");this.$O_3=Microsoft.SharePoint.Taxonomy.TreeUtility.getChildElemById(a,a.id+"_AssetUrlInput");this.$p_3=Microsoft.SharePoint.Taxonomy.TreeUtility.getChildElemById(a,a.id+"_PickerLaunchButton");this.$p_3.setAttribute("style","width: auto;");this.$W_3=a.parentNode;this.$A_3=this.getChildElementByAuthoringId("overrideItemViewerCheckBox");a=this.getChildElementByAuthoringId("itemViewerSelector");this.$G_3=Microsoft.SharePoint.Taxonomy.TreeUtility.getChildElemById(a,a.id+"_AssetUrlInput");this.$c_3=Microsoft.SharePoint.Taxonomy.TreeUtility.getChildElemById(a,a.id+"_PickerLaunchButton");this.$c_3.setAttribute("style","width: auto;");this.$V_3=a.parentNode;this.$2_3=this.getChildElementByAuthoringId("overrideChildItemViewerCheckBox");a=this.getChildElementByAuthoringId("childItemViewerSelector");this.$4_3=Microsoft.SharePoint.Taxonomy.TreeUtility.getChildElemById(a,a.id+"_AssetUrlInput");this.$M_3=Microsoft.SharePoint.Taxonomy.TreeUtility.getChildElemById(a,a.id+"_PickerLaunchButton");this.$M_3.setAttribute("style","width: auto;");this.$D_3=a.parentNode;this.$1A_3=this.$$d_$1M_3;this.$1G_3=this.$$d_$1Q_3;this.$h_3=this.$$d_$1E_3;this.$1F_3=this.$$d_$1P_3;this.$g_3=this.$$d_$1D_3};Pub.Navigation.TermDrivenPagePropertiesTab.prototype={$r_3:null,$w_3:null,$z_3:null,$10_3:null,$11_3:null,$12_3:null,$1C_3:null,$F_3:null,$8_3:null,$B_3:null,$J_3:null,$d_3:null,$3_3:null,$5_3:null,$N_3:null,$O_3:null,$p_3:null,$A_3:null,$G_3:null,$c_3:null,$2_3:null,$4_3:null,$M_3:null,$X_3:null,$a_3:null,$E_3:null,$W_3:null,$V_3:null,$D_3:null,$1A_3:null,$1G_3:null,$h_3:null,$1F_3:null,$g_3:null,$1M_3:function(b){ULSVOC:;if(b){var a=this.$8_3.checked;Pub.Navigation.NavHelper.$1(this,this.$F_3,a);Microsoft.SharePoint.Taxonomy.TermStoreManager.enableSubmitButton()}},$1Q_3:function(b){ULSVOC:;if(b){var a=this.$B_3.checked;Pub.Navigation.NavHelper.$1(this,this.$J_3,a);this.$d_3.disabled=!a;Microsoft.SharePoint.Taxonomy.TermStoreManager.enableSubmitButton()}},$1E_3:function(b){ULSVOC:;if(b){var a=this.$3_3.checked;Pub.Navigation.NavHelper.$1(this,this.$5_3,a);this.$N_3.disabled=!a;Microsoft.SharePoint.Taxonomy.TermStoreManager.enableSubmitButton()}},$1P_3:function(b){ULSVOC:;if(b){var a=this.$A_3.checked;Pub.Navigation.NavHelper.$1(this,this.$G_3,a);this.$c_3.disabled=!a;Microsoft.SharePoint.Taxonomy.TermStoreManager.enableSubmitButton()}},$1D_3:function(b){ULSVOC:;if(b){var a=this.$2_3.checked;Pub.Navigation.NavHelper.$1(this,this.$4_3,a);this.$M_3.disabled=!a;Microsoft.SharePoint.Taxonomy.TermStoreManager.enableSubmitButton()}},onTabLoad:function(){ULSVOC:;this.$S_3();this.$x_3();var b=SP.ClientContext.get_current(),h,i,j,d,e,f,g,c=(g=Pub.Navigation.NavHelper.$v(this.get_treeFocusNode(),b,d={val:j},e={val:i},f={val:h}),j=d.val,i=e.val,h=f.val,g),k=c.getAllParentTerms();b.load(c,"LinkType","FriendlyUrlSegment","TargetUrl","TargetUrlForChildTerms","CategoryImageUrl","CatalogTargetUrl","CatalogTargetUrlForChildTerms");b.load(k,"Include(FriendlyUrlSegment)");b.load(b.get_web(),"Url");var a=this,l=this;b.executeQueryAsync(function(){ULSVOC:;Microsoft.SharePoint.Taxonomy.CustomPropertyTab.resetErrorMessage(a.$X_3,null);Microsoft.SharePoint.Taxonomy.CustomPropertyTab.resetErrorMessage(a.$E_3,null);Microsoft.SharePoint.Taxonomy.CustomPropertyTab.resetErrorMessage(a.$D_3,null);if(c.get_linkType()===1){Microsoft.SharePoint.Taxonomy.CustomPropertyTab.resetErrorMessage(a.$a_3,null);Microsoft.SharePoint.Taxonomy.CustomPropertyTab.resetErrorMessage(a.$W_3,null);Microsoft.SharePoint.Taxonomy.CustomPropertyTab.resetErrorMessage(a.$V_3,null)}a.$T_3(c,k)},function(b,a){ULSVOC:;alert(a.get_message())});this.$C_3()},onPreSubmit:function(){ULSVOC:;this.$S_3();Microsoft.SharePoint.Taxonomy.TermStoreManager.disableSubmitButton();var a=this.$14_3();a&&this.$17_3();return false},onSaveCompleted:function(){},isApplicableType:function(b){ULSVOC:;var a=false;if(b===4)a=Pub.Navigation.NavHelper.$19(this.get_treeFocusNode(),Microsoft.SharePoint.Taxonomy.TermSetRolePropertyNames.useForSiteNavigation);return a},get_domIdPrefix:function(){ULSVOC:;if(!this.aspNetPrefix)this.aspNetPrefix=TermDrivenPagePropertiesTab_getAspNetPrefix();return this.aspNetPrefix},$C_3:function(){ULSVOC:;this.addChangedHandler(this.$F_3);$addHandler(this.$8_3,"click",this.$1A_3);$addHandler(this.$B_3,"click",this.$1G_3);this.addChangedHandler(this.$J_3);$addHandler(this.$3_3,"click",this.$h_3);this.addChangedHandler(this.$5_3);this.addChangedHandler(this.$O_3);$addHandler(this.$A_3,"click",this.$1F_3);this.addChangedHandler(this.$G_3);$addHandler(this.$2_3,"click",this.$g_3);this.addChangedHandler(this.$4_3)},$S_3:function(){ULSVOC:;this.removeAllHandlers(this.$F_3);this.removeAllHandlers(this.$8_3);this.removeAllHandlers(this.$B_3);this.removeAllHandlers(this.$J_3);this.removeAllHandlers(this.$3_3);this.removeAllHandlers(this.$5_3);this.removeAllHandlers(this.$O_3);this.removeAllHandlers(this.$A_3);this.removeAllHandlers(this.$G_3);this.removeAllHandlers(this.$2_3);this.removeAllHandlers(this.$4_3)},$x_3:function(){ULSVOC:;this.$F_3.value="";this.$8_3.checked=false;this.$B_3.checked=false;this.$J_3.value="";this.$3_3.checked=false;this.$5_3.value="";this.$O_3.value="";this.$A_3.checked=false;this.$G_3.value="";this.$2_3.checked=false;this.$4_3.value=""},$T_3:function(a,h){ULSVOC:;this.$r_3=a;if(a.get_linkType()!==1){Microsoft.SharePoint.Taxonomy.TreeUtility.show(this.$w_3);Microsoft.SharePoint.Taxonomy.TreeUtility.hide(this.$z_3);Microsoft.SharePoint.Taxonomy.TreeUtility.hide(this.$10_3);Microsoft.SharePoint.Taxonomy.TreeUtility.hide(this.$11_3);Microsoft.SharePoint.Taxonomy.TreeUtility.hide(this.$12_3)}else{Microsoft.SharePoint.Taxonomy.TreeUtility.hide(this.$w_3);Microsoft.SharePoint.Taxonomy.TreeUtility.show(this.$z_3);Microsoft.SharePoint.Taxonomy.TreeUtility.show(this.$10_3);Microsoft.SharePoint.Taxonomy.TreeUtility.show(this.$11_3);Microsoft.SharePoint.Taxonomy.TreeUtility.show(this.$12_3)}var b=a.get_friendlyUrlSegment();this.$8_3.checked=!b.get_usesDefaultValue();this.$F_3.value=Pub.Navigation.NavHelper.$6(b.get_value());var g=Pub.Navigation.NavHelper.$1L(h);this.$1C_3.innerText=Pub.Navigation.NavHelper.$1J(g,"/");var c=a.get_targetUrlForChildTerms();this.$3_3.checked=!c.get_usesDefaultValue();this.$5_3.value=Pub.Navigation.NavHelper.$6(c.get_value());var d=a.get_catalogTargetUrlForChildTerms();this.$2_3.checked=!d.get_usesDefaultValue();this.$4_3.value=Pub.Navigation.NavHelper.$6(d.get_value());if(a.get_linkType()===1){var e=a.get_targetUrl();this.$B_3.checked=!e.get_usesDefaultValue();this.$J_3.value=Pub.Navigation.NavHelper.$6(e.get_value());this.$O_3.value=Pub.Navigation.NavHelper.$6(a.get_categoryImageUrl());var f=a.get_catalogTargetUrl();this.$A_3.checked=!f.get_usesDefaultValue();this.$G_3.value=Pub.Navigation.NavHelper.$6(f.get_value())}this.$t_3(true)},$t_3:function(b){ULSVOC:;var a=false;Pub.Navigation.NavHelper.$1(this,this.$F_3,b&&this.$8_3.checked);this.$8_3.disabled=!b;this.$B_3.disabled=!b;a=b&&this.$B_3.checked;Pub.Navigation.NavHelper.$1(this,this.$J_3,a);this.$d_3.disabled=!a;this.$3_3.disabled=!b;a=b&&this.$3_3.checked;Pub.Navigation.NavHelper.$1(this,this.$5_3,a);this.$N_3.disabled=!a;Pub.Navigation.NavHelper.$1(this,this.$O_3,b);this.$p_3.disabled=!b;this.$A_3.disabled=!b;a=b&&this.$A_3.checked;Pub.Navigation.NavHelper.$1(this,this.$G_3,a);this.$c_3.disabled=!a;this.$2_3.disabled=!b;a=b&&this.$2_3.checked;Pub.Navigation.NavHelper.$1(this,this.$4_3,a);this.$M_3.disabled=!a},$14_3:function(){ULSVOC:;var a=true;Microsoft.SharePoint.Taxonomy.CustomPropertyTab.removeErrorMessage(this.$E_3);if(this.$3_3.checked)a=Microsoft.SharePoint.Taxonomy.CustomPropertyTab.validatePropertyValue(this.$5_3.value,this.$E_3)&&a;Microsoft.SharePoint.Taxonomy.CustomPropertyTab.removeErrorMessage(this.$D_3);if(this.$2_3.checked)a=Microsoft.SharePoint.Taxonomy.CustomPropertyTab.validatePropertyValue(this.$4_3.value,this.$D_3)&&a;Microsoft.SharePoint.Taxonomy.CustomPropertyTab.removeErrorMessage(this.$X_3);if(this.$8_3.checked)a=Microsoft.SharePoint.Taxonomy.CustomPropertyTab.validatePropertyValue(this.$F_3.value,this.$X_3)&&a;if(this.$r_3.get_linkType()===1){Microsoft.SharePoint.Taxonomy.CustomPropertyTab.removeErrorMessage(this.$a_3);if(this.$B_3.checked)a=Microsoft.SharePoint.Taxonomy.CustomPropertyTab.validatePropertyValue(this.$J_3.value,this.$a_3)&&a;Microsoft.SharePoint.Taxonomy.CustomPropertyTab.removeErrorMessage(this.$W_3);a=Microsoft.SharePoint.Taxonomy.CustomPropertyTab.validatePropertyValue(this.$O_3.value,this.$W_3)&&a;Microsoft.SharePoint.Taxonomy.CustomPropertyTab.removeErrorMessage(this.$V_3);if(this.$A_3.checked)a=Microsoft.SharePoint.Taxonomy.CustomPropertyTab.validatePropertyValue(this.$G_3.value,this.$V_3)&&a}return a},$17_3:function(){ULSVOC:;var i,f,g,l,m,n;Pub.Navigation.NavHelper.$f(this.get_treeFocusNode(),l={val:i},m={val:f},n={val:g}),i=l.val,f=m.val,g=n.val;var a=SP.ClientContext.get_current(),j,u,h,o,p,q,r,b=(r=Pub.Navigation.NavHelper.$e(a,i,f,g,o={val:h},p={val:u},q={val:j}),h=o.val,u=p.val,j=q.val,r),k=null,d=new SP.RequestVariable(a);d.set("true");var v=null,w=null,x=null,y=null,z=null,A=null;v=Pub.Navigation.NavHelper.$Q(a,b.get_friendlyUrlSegment(),!this.$8_3.checked,this.$F_3.value,d);x=Pub.Navigation.NavHelper.$Q(a,b.get_targetUrlForChildTerms(),!this.$3_3.checked,this.$5_3.value,d);A=Pub.Navigation.NavHelper.$Q(a,b.get_catalogTargetUrlForChildTerms(),!this.$2_3.checked,this.$4_3.value,d);if(this.$r_3.get_linkType()===1){w=Pub.Navigation.NavHelper.$Q(a,b.get_targetUrl(),!this.$B_3.checked,this.$J_3.value,d);var C=this,E=this;y=Pub.Navigation.NavHelper.$l(a,function(){ULSVOC:;b.set_categoryImageUrl(Pub.Navigation.NavHelper.$6(C.$O_3.value))},function(){ULSVOC:;d.set("false")});z=Pub.Navigation.NavHelper.$Q(a,b.get_catalogTargetUrl(),!this.$A_3.checked,this.$G_3.value,d)}var e,s,t,F=this,B=(t=Pub.Navigation.NavHelper.$q(a,d,j,function(){ULSVOC:;SP.Publishing.Navigation.TaxonomyNavigation.flushTermSetFromCache(a,a.get_web(),g,f);SP.Publishing.Navigation.TaxonomyNavigation.setCrawlAsFriendlyUrlPage(a,b,true)},null,s={val:e}),e=s.val,t);a.load(h,"LocalCustomProperties","LastModifiedDate");a.load(b,"LinkType","FriendlyUrlSegment","TargetUrl","TargetUrlForChildTerms","CategoryImageUrl","CatalogTargetUrl","CatalogTargetUrlForChildTerms");k=b.getAllParentTerms();a.load(k,"Include(FriendlyUrlSegment)");a.load(B);var c=this,D=this;a.executeQueryAsync(function(){ULSVOC:;Microsoft.SharePoint.Taxonomy.CustomPropertyTab.resetErrorMessage(c.$X_3,v);Microsoft.SharePoint.Taxonomy.CustomPropertyTab.resetErrorMessage(c.$E_3,x);Microsoft.SharePoint.Taxonomy.CustomPropertyTab.resetErrorMessage(c.$D_3,A);if(b.get_linkType()===1){Microsoft.SharePoint.Taxonomy.CustomPropertyTab.resetErrorMessage(c.$a_3,w);Microsoft.SharePoint.Taxonomy.CustomPropertyTab.resetErrorMessage(c.$W_3,y);Microsoft.SharePoint.Taxonomy.CustomPropertyTab.resetErrorMessage(c.$V_3,z)}e&&e.get_hasException()&&alert(e.get_errorMessage());if(B.get_value()==="true"){Pub.Navigation.NavHelper.$13(c.get_treeFocusNode(),h);c.$T_3(b,k)}c.$C_3()},function(b,a){ULSVOC:;alert(a.get_message());D.$C_3();Microsoft.SharePoint.Taxonomy.TermStoreManager.enableCancelButton(true)})}};Pub.Navigation.NavigationTermSetPropertiesTab=function(b){ULSVOC:;this.$$d_$1D_3=Function.createDelegate(this,this.$1D_3);this.$$d_$1E_3=Function.createDelegate(this,this.$1E_3);Pub.Navigation.NavigationTermSetPropertiesTab.initializeBase(this,[$get(b),b]);var a=null;this.$3_3=this.getChildElementByAuthoringId("overrideChildTemplateCheckBox");a=this.getChildElementByAuthoringId("childTemplateSelector");this.$5_3=Microsoft.SharePoint.Taxonomy.TreeUtility.getChildElemById(a,a.id+"_AssetUrlInput");this.$N_3=Microsoft.SharePoint.Taxonomy.TreeUtility.getChildElemById(a,a.id+"_PickerLaunchButton");this.$N_3.setAttribute("style","width: auto;");this.$E_3=a.parentNode;this.$2_3=this.getChildElementByAuthoringId("overrideChildItemViewerCheckBox");a=this.getChildElementByAuthoringId("childItemViewerSelector");this.$4_3=Microsoft.SharePoint.Taxonomy.TreeUtility.getChildElemById(a,a.id+"_AssetUrlInput");this.$M_3=Microsoft.SharePoint.Taxonomy.TreeUtility.getChildElemById(a,a.id+"_PickerLaunchButton");this.$M_3.setAttribute("style","width: auto;");this.$D_3=a.parentNode;this.$h_3=this.$$d_$1E_3;this.$g_3=this.$$d_$1D_3};Pub.Navigation.NavigationTermSetPropertiesTab.prototype={$s_3:null,$3_3:null,$5_3:null,$N_3:null,$2_3:null,$4_3:null,$M_3:null,$E_3:null,$D_3:null,$h_3:null,$g_3:null,$1E_3:function(b){ULSVOC:;if(b){var a=this.$3_3.checked;Pub.Navigation.NavHelper.$1(this,this.$5_3,a);this.$N_3.disabled=!a;Microsoft.SharePoint.Taxonomy.TermStoreManager.enableSubmitButton()}},$1D_3:function(b){ULSVOC:;if(b){var a=this.$2_3.checked;Pub.Navigation.NavHelper.$1(this,this.$4_3,a);this.$M_3.disabled=!a;Microsoft.SharePoint.Taxonomy.TermStoreManager.enableSubmitButton()}},onTabLoad:function(){ULSVOC:;this.$S_3();this.$x_3();var a=SP.ClientContext.get_current(),f,g,h,b,c,d,e,i=(e=Pub.Navigation.NavHelper.$v(this.get_treeFocusNode(),a,b={val:h},c={val:g},d={val:f}),h=b.val,g=c.val,f=d.val,e);a.load(i,"TargetUrlForChildTerms","CatalogTargetUrlForChildTerms");var j=this,k=this;a.executeQueryAsync(function(){ULSVOC:;j.$T_3(i)},function(){});this.$C_3()},onPreSubmit:function(){ULSVOC:;this.$S_3();Microsoft.SharePoint.Taxonomy.TermStoreManager.disableSubmitButton();var a=this.$14_3();a&&this.$17_3();return false},onSaveCompleted:function(){},isApplicableType:function(a){ULSVOC:;return a===3?Pub.Navigation.NavHelper.$18(this.get_treeFocusNode(),Microsoft.SharePoint.Taxonomy.TermSetRolePropertyNames.useForSiteNavigation):false},get_domIdPrefix:function(){ULSVOC:;if(!this.aspNetPrefix)this.aspNetPrefix=NavigationTermSetPropertiesTab_getAspNetPrefix();return this.aspNetPrefix},$C_3:function(){ULSVOC:;$addHandler(this.$3_3,"click",this.$h_3);this.addChangedHandler(this.$5_3);$addHandler(this.$2_3,"click",this.$g_3);this.addChangedHandler(this.$4_3)},$S_3:function(){ULSVOC:;this.removeAllHandlers(this.$3_3);this.removeAllHandlers(this.$5_3);this.removeAllHandlers(this.$2_3);this.removeAllHandlers(this.$4_3)},$x_3:function(){ULSVOC:;this.$3_3.checked=false;this.$5_3.value="";this.$2_3.checked=false;this.$4_3.value=""},$T_3:function(c){ULSVOC:;this.$s_3=c;var a=this.$s_3.get_targetUrlForChildTerms();this.$3_3.checked=!a.get_usesDefaultValue();this.$5_3.value=Pub.Navigation.NavHelper.$6(a.get_value());var b=this.$s_3.get_catalogTargetUrlForChildTerms();this.$2_3.checked=!b.get_usesDefaultValue();this.$4_3.value=Pub.Navigation.NavHelper.$6(b.get_value());this.$t_3(true)},$t_3:function(b){ULSVOC:;var a=false;this.$3_3.disabled=!b;a=b&&this.$3_3.checked;Pub.Navigation.NavHelper.$1(this,this.$5_3,a);this.$N_3.disabled=!a;this.$2_3.disabled=!b;a=b&&this.$2_3.checked;Pub.Navigation.NavHelper.$1(this,this.$4_3,a);this.$M_3.disabled=!a},$14_3:function(){ULSVOC:;var a=true;Microsoft.SharePoint.Taxonomy.CustomPropertyTab.removeErrorMessage(this.$E_3);if(this.$3_3.checked)a=Microsoft.SharePoint.Taxonomy.CustomPropertyTab.validatePropertyValue(this.$5_3.value,this.$E_3)&&a;Microsoft.SharePoint.Taxonomy.CustomPropertyTab.removeErrorMessage(this.$D_3);if(this.$2_3.checked)a=Microsoft.SharePoint.Taxonomy.CustomPropertyTab.validatePropertyValue(this.$4_3.value,this.$D_3)&&a;return a},$17_3:function(){ULSVOC:;var i,d,e,k,l,m;Pub.Navigation.NavHelper.$f(this.get_treeFocusNode(),k={val:i},l={val:d},m={val:e}),i=k.val,d=l.val,e=m.val;var a=SP.ClientContext.get_current(),j,f,t,n,o,p,q,g=(q=Pub.Navigation.NavHelper.$e(a,i,d,e,n={val:t},o={val:f},p={val:j}),t=n.val,f=o.val,j=p.val,q),h=new SP.RequestVariable(a);h.set("true");var w=Pub.Navigation.NavHelper.$Q(a,g.get_targetUrlForChildTerms(),!this.$3_3.checked,this.$5_3.value,h),x=Pub.Navigation.NavHelper.$Q(a,g.get_catalogTargetUrlForChildTerms(),!this.$2_3.checked,this.$4_3.value,h),c,r,s,y=this,u=(s=Pub.Navigation.NavHelper.$q(a,h,j,function(){ULSVOC:;SP.Publishing.Navigation.TaxonomyNavigation.flushTermSetFromCache(a,a.get_web(),e,d)},null,r={val:c}),c=r.val,s);a.load(f,"CustomProperties","LastModifiedDate");a.load(g,"TargetUrlForChildTerms","CatalogTargetUrlForChildTerms");a.load(u);var b=this,v=this;a.executeQueryAsync(function(){ULSVOC:;Microsoft.SharePoint.Taxonomy.CustomPropertyTab.resetErrorMessage(b.$E_3,w);Microsoft.SharePoint.Taxonomy.CustomPropertyTab.resetErrorMessage(b.$D_3,x);c&&c.get_hasException()&&alert(c.get_errorMessage());if(u.get_value()==="true"){Pub.Navigation.NavHelper.$13(b.get_treeFocusNode(),f);b.$T_3(g)}b.$C_3()},function(b,a){ULSVOC:;alert(a.get_message());v.$C_3();Microsoft.SharePoint.Taxonomy.TermStoreManager.enableCancelButton(true)})}};Pub.Navigation.NavHelper=function(){};Pub.Navigation.NavHelper.$f=function(a,d,e,f){ULSVOC:;if(a.get_nodeType()===4)d.val=new SP.Guid(Pub.Navigation.NavHelper.$u(a.get_id()));else d.val=SP.Guid.get_empty();var b=Pub.Navigation.NavHelper.$16(a,3);e.val=new SP.Guid(Pub.Navigation.NavHelper.$u(b.get_id()));var c=Pub.Navigation.NavHelper.$16(b,11);f.val=new SP.Guid(Pub.Navigation.NavHelper.$u(c?c.get_id():Microsoft.SharePoint.Taxonomy.TermStoreManager.get_sharedAppId()))};Pub.Navigation.NavHelper.$v=function(g,h,i,j,k){ULSVOC:;var a,b,c,d,e,f;Pub.Navigation.NavHelper.$f(g,d={val:a},e={val:b},f={val:c}),a=d.val,b=e.val,c=f.val;return Pub.Navigation.NavHelper.$e(h,a,b,c,i,j,k)};Pub.Navigation.NavHelper.$e=function(a,f,i,j,c,d,g){ULSVOC:;var b=null,h=SP.Taxonomy.TaxonomySession.getTaxonomySession(a);g.val=h.get_termStores().getById(j);d.val=g.val.getTermSet(i);var e=SP.Publishing.Navigation.NavigationTermSetView.createEmptyInstance(a);if(f!==SP.Guid.get_empty()){c.val=d.val.getTerm(f);b=SP.Publishing.Navigation.NavigationTerm.getAsResolvedByView(a,c.val,e)}else{c.val=null;b=SP.Publishing.Navigation.NavigationTermSet.getAsResolvedByView(a,d.val,e)}return b};Pub.Navigation.NavHelper.$6=function(a){ULSVOC:;return SP.ScriptUtility.isNullOrEmptyString(a)?"":a};Pub.Navigation.NavHelper.$u=function(a){ULSVOC:;if(a.length===32&&a.indexOf("-")===-1){var b=a.substring(0,8),c=a.substring(8,12),d=a.substring(12,16),e=a.substring(16,20),f=a.substring(20,32);return b+"-"+c+"-"+d+"-"+e+"-"+f}return a};Pub.Navigation.NavHelper.$16=function(c,b){ULSVOC:;var a=c;if(a){while(a.get_nodeType()!==b&&a.get_parentNode())a=a.get_parentNode();if(a.get_nodeType()===b)return a}return null};Pub.Navigation.NavHelper.$19=function(a,b){ULSVOC:;if(a&&!SP.ScriptUtility.isNullOrEmptyString(b)){var c=Pub.Navigation.NavHelper.$16(a,3);return Pub.Navigation.NavHelper.$18(c,b)}return false};Pub.Navigation.NavHelper.$18=function(b,c){ULSVOC:;if(b&&!SP.ScriptUtility.isNullOrEmptyString(c)){var a=b.get_data().SCP;if(!SP.ScriptUtility.isNullOrEmptyString(a)){var d=Microsoft.SharePoint.Taxonomy.CustomPropertyEditor.deserializeProperties(a);return Microsoft.SharePoint.Taxonomy.CustomPropertyEditor.getBooleanProperty(d,c)}}return false};Pub.Navigation.NavHelper.$1=function(b,a,c){ULSVOC:;a.readOnly=!c;if(c){Sys.UI.DomElement.removeCssClass(a,"tmt-nav-disabled");b.addChangedHandler(a)}else{Sys.UI.DomElement.addCssClass(a,"tmt-nav-disabled");b.removeAllHandlers(a)}};Pub.Navigation.NavHelper.$1J=function(a,b){ULSVOC:;return a.endsWith(b)?a:a+b};Pub.Navigation.NavHelper.$1L=function(c){ULSVOC:;for(var a=new Sys.StringBuilder("/"),d=c.get_count(),b=d-1;b>=0;b--){var e=c.get_item(b);a.append(e.get_friendlyUrlSegment().get_value());a.append("/")}return a.toString()};Pub.Navigation.NavHelper.$13=function(a,b){ULSVOC:;if(a.get_nodeType()===3){var c=b,d=c.get_customProperties(),e=Microsoft.SharePoint.Taxonomy.CustomPropertyEditor.serializeProperties(d);Microsoft.SharePoint.Taxonomy.TermStoreManager.get_customPropertiesData().value=e;Microsoft.SharePoint.Taxonomy.CustomPropertyEditor.saveProperties(Microsoft.SharePoint.Taxonomy.TermStoreManager.get_customPropertiesData(),"SCP");Microsoft.SharePoint.Taxonomy.TermStoreManager.updateNodeData(a)}else{var f=b,g=f.get_localCustomProperties(),h=Microsoft.SharePoint.Taxonomy.CustomPropertyEditor.serializeProperties(g);Microsoft.SharePoint.Taxonomy.TermStoreManager.get_localCustomPropertiesData().value=h;Microsoft.SharePoint.Taxonomy.CustomPropertyEditor.saveProperties(Microsoft.SharePoint.Taxonomy.TermStoreManager.get_localCustomPropertiesData(),"LCP");Microsoft.SharePoint.Taxonomy.TermStoreManager.updateNodeData(a)}Microsoft.SharePoint.Taxonomy.TermStoreManager.get_selectedItemModifiedTime().value=(b.get_lastModifiedDate().getTime()*Pub.Navigation.NavHelper.$1H+Pub.Navigation.NavHelper.$1I).toString()};Pub.Navigation.NavHelper.$l=function(g,b,c){ULSVOC:;var a=new SP.ExceptionHandlingScope(g),d=a.startScope(),e=a.startTry();b&&b();e.dispose();var f=a.startCatch();c&&c();f.dispose();d.dispose();return a};Pub.Navigation.NavHelper.$1K=function(b,c,d){ULSVOC:;var e=new SP.ClientObjectPropertyConditionalScope(b,"Value",SP.ClientConstants.equal,"true",true),a=e.startScope();c&&c();a.dispose();var f=new SP.ClientObjectPropertyConditionalScope(b,"Value",SP.ClientConstants.notEqual,"true",true);a=f.startScope();d&&d();a.dispose()};Pub.Navigation.NavHelper.$q=function(b,f,c,d,e,g){ULSVOC:;var a=new SP.RequestVariable(b);a.set("false");g.val=Pub.Navigation.NavHelper.$l(b,function(){ULSVOC:;Pub.Navigation.NavHelper.$1K(f,function(){ULSVOC:;c.commitAll();d&&d();a.set("true")},function(){ULSVOC:;c.rollbackAll();e&&e()})},null);return a};Pub.Navigation.NavHelper.$m=function(c,a,d){ULSVOC:;return Pub.Navigation.NavHelper.$l(c,function(){ULSVOC:;a&&a()},function(){ULSVOC:;d.set("false")})};Pub.Navigation.NavHelper.$Q=function(d,a,b,e,f){ULSVOC:;return Pub.Navigation.NavHelper.$l(d,function(){ULSVOC:;a.set_usesDefaultValue(b);!b&&a.set_value(Pub.Navigation.NavHelper.$6(e))},function(){ULSVOC:;f.set("false")})};Pub.Navigation.TaxonomyNavPropertiesTab.registerClass("Pub.Navigation.TaxonomyNavPropertiesTab",Microsoft.SharePoint.Taxonomy.CustomPropertyTab);Pub.Navigation.TermDrivenPagePropertiesTab.registerClass("Pub.Navigation.TermDrivenPagePropertiesTab",Microsoft.SharePoint.Taxonomy.CustomPropertyTab);Pub.Navigation.NavigationTermSetPropertiesTab.registerClass("Pub.Navigation.NavigationTermSetPropertiesTab",Microsoft.SharePoint.Taxonomy.CustomPropertyTab);Pub.Navigation.NavHelper.registerClass("Pub.Navigation.NavHelper");function taxonomynavproperties_initialize(){ULSVOC:;Pub.Navigation.NavHelper.$1I=621355968e9;Pub.Navigation.NavHelper.$1H=1e4}taxonomynavproperties_initialize();RegisterModuleInit("taxonomynavproperties.js",taxonomynavproperties_initialize);typeof Sys!="undefined"&&Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded();NotifyScriptLoadedAndExecuteWaitingJobs("TaxonomyNavProperties.js");
function $_global_jsgrid_gantt(){SP.JsGrid.Internal.GanttPane=function(n,d,ob,p,q){var g=12,l=4,J=1e4,r=30,zb=1,fb=1/4,C,f,G,y=[],u,h,Jb=d.intDelegateMgr,e=12,j=e+3,c=[],P={width:-1,height:-1},x=[],S,D,t,lb=this,i,H,T,Fb,Eb,I,M,B,K,z,db,A,b=new SP.JsGrid.TimeScale(d.parentNode,d.styleMgr.timescaleTierStyle,d.RTL,d.jsGridParams,0);vb();var kb,k,E=0,o,L=new yb,w,v,R=new SP.Utilities.Set,Ab=sb(),a={CenterPoint:1,LLeft:2,LCenter:4,LRight:8,RLeft:16,RCenter:32,RRight:64},cb=[a.LLeft|a.RRight,a.CenterPoint|a.LCenter|a.RCenter,a.CenterPoint|a.LCenter|a.RCenter,a.CenterPoint|a.LCenter|a.RCenter,a.CenterPoint|a.LCenter|a.RCenter,a.CenterPoint|a.LCenter|a.RCenter,a.LRight|a.RLeft,a.LRight|a.RLeft,a.CenterPoint|a.LCenter|a.RCenter,a.CenterPoint|a.LCenter|a.RCenter,a.CenterPoint|a.LCenter|a.RCenter,a.CenterPoint|a.LCenter|a.RCenter,a.CenterPoint|a.LCenter|a.RCenter,a.CenterPoint|a.LCenter|a.RCenter,a.CenterPoint|a.LCenter|a.RCenter,a.CenterPoint|a.LCenter|a.RCenter,a.CenterPoint|a.LCenter|a.RCenter,a.CenterPoint|a.LCenter|a.RCenter,a.CenterPoint|a.LCenter|a.RCenter,a.CenterPoint|a.LCenter|a.RCenter,a.CenterPoint|a.LCenter|a.RCenter,a.LLeft|a.RCenter,a.LCenter|a.RRight];p.Init(f,q);var m=new SP.JsGrid.Internal.ScrollBar(SP.JsGrid.Internal.ScrollBar.BarType.Horizontal,G,false,{itemSize:1,itemCount:1,physicalViewportSize:100,scrollbarSize:100},d.styleMgr.scrollBarStyle,d.RTL.bEnabled,d);m.SetOnScroll(wb);this.Id=SP.JsGrid.PaneId.Gantt;this.SetView=function(c,b,a){a:;db=true;t=b;D=xb(c);i=a.dateRange;T=a.ganttBarStyles;I=a.fnGetGanttBarStyleIds;M=a.fnRenderGanttRow;B=a.fnGetGanttBarDate;K=a.fnGetPredecessors;o=i[0];ab(a.ganttZoomLevel);w=i[0];v=i[1];if(a.fieldKeyRedrawFilter!=null&&a.fieldKeyRedrawFilter.length>0){z=new SP.Utilities.Set;z.AddArray(a.fieldKeyRedrawFilter)}else z=null};this.SetEventSinks=function(a){a:;S=a};this.GetZoomLevel=function(){a:;return H};this.SetZoomLevel=function(a){a:;ab(a)};this.GetFocusDate=function(){a:;return o};this.SetFocusDate=function(a){a:;if(o!=null&&o.getTime()!=a.getTime()){o=a;rb();N();U()}};this.GetMinHeaderHeight=function(){a:;return b.GetMinHeight()};this.SetHeaderHeight=function(b){a:;var a=Math.max(this.GetMinHeaderHeight(),b);if(E!=a)E=a};this.GetMinRowHeight=function(){a:;return j};this.SetRowHeight=function(b){a:;var a=Math.max(e+3,b);if(j!=a)j=a};this.Dispose=function(){a:;Ab();y=h=null;m.Dispose()};this.SpliceRows=function(d,b,f,g){a:;var a;if(d!=null&&b!=0){for(a=d;a<d+b;++a)eb(c[a]);Z(d+b,-b);c.splice(d,b)}var e=g.length;if(f!=null&&e!=0){var h=new Array(e);for(a=0;a<e;a++)h[a]=hb(f+a,g[a]);Z(f,e);Array.prototype.splice.apply(c,[f,0].concat(h))}Q();X();bb()};this.RenderRows=function(b){a:;for(var a in b){a=+a;eb(c[a]);c[a]=hb(a,b[a])}Q();X()};this.NotifyUpdateProperty=function(d,e,f,g,b){a:;if(b!=SP.JsGrid.ValidationState.Valid)return;if(z!=null&&!z.Contains(e))return;R.Add(d);SP.Internal.JS.CoalesceFunctionCalls("ganttpropupd",a);function a(){a:;var d={};for(var b in R.GetCollection())if(D.IsRecordOnScreen(b)){var a=D.RecordKeyToRelRowIdx(b);if(a!=null)d[a]=c[a].record}lb.RenderRows(d);R.Clear()}};this.OnResize=function(){a:;if(db){C.style.height=E+"px";var a={width:q.GetWidth(),height:q.GetHeight()};if(a.width!=P.width){O();N();U()}a.height!=P.height&&bb();P=a;p.OnResize()}};this.ExecuteTouchAction=null;this.ShouldUpdateTouchStartPosition=null;this.ScrollVerticallyByTouch=ob;this.ScrollHorizontallyByTouch=function(a){a:;if(a)m.ScrollUpByOne();else m.ScrollDownByOne()};function bb(){a:;var d=q.GetHeight()-E-1-SP.Internal.ScrollBar.GetSystemScrollBarThickness(),b=Math.max(0,Math.min(c.length*j-1,d)),a=Math.max(0,d-b-1);f.style.height=b+"px";if(a==0)u.style.display="none";else{u.style.height=a+"px";u.style.display=""}}function vb(){a:;n.style.verticalAlign="top";C=document.createElement("div");C.style.cssText="overflow:hidden;position:relative;border-bottom:1px solid "+d.styleMgr.timescaleTierStyle.outerBorderColor;n.appendChild(C);f=document.createElement("div");f.style.cssText="overflow:hidden;position:relative";n.appendChild(f);u=document.createElement("div");u.style.cssText="overflow:hidden;position:relative;background:"+d.styleMgr.gridPaneStyle.backgroundColor+";border-top:1px solid "+d.styleMgr.gridPaneStyle.horizontalBorderColor;n.appendChild(u);G=document.createElement("div");G.style.cssText="overflow:hidden;position:relative;height:"+SP.Internal.ScrollBar.GetSystemScrollBarThickness()+"px";n.appendChild(G)}function ab(a){a:;if(a>=0&&a<=9){H=a;b.SetZoomLevel(H);kb=b.RetrieveRoundTimeObj(H);k=Y();O();N();tb()}}function X(){a:;if(w<i[0]||v>i[1]){i=[w,v];k=Y();O()}}function Bb(b,c,a){a:;var d=b+"&"+c+"&"+a;return{key:d,fromKey:b,toKey:c,linkType:a}}function xb(a){a:;return{RecordKeyToRelRowIdx:function(b){a:;return a.RecordKeyToRelViewIdx(b)},IsRecordOnScreen:function(b){a:;return a.IsRecordOnScreen(b)}}}function ib(a){a:;return a>=0&&a<c.length}function gb(a){a:;return b.DateToAbsXCoord(kb.RoundForGanttDisplay(SP.DateTimeUtil.IntlDate.createFromJsUtcDate(a,_spRegionalSettings.calendarType)))}function F(d,c){a:;var a={barheight:0,bartop:d*j+Math.floor((j-e)/2)};a.areatop=a.bartop;var b=SP.JsGrid.Internal.GanttPane.BarShape;switch(c){case b.TopHalf:a.barheight=Math.ceil(e/2)-1;break;case b.MidHalf:a.barheight=Math.ceil(e/2)-1;a.bartop+=Math.floor((e-a.barheight)/2);break;case b.BottomHalf:a.barheight=Math.ceil(e/2)-1;a.bartop+=Math.floor(e/2);break;case b.TopLine:a.barheight=1;break;case b.MidLine:a.barheight=1;a.bartop+=Math.floor((e-1)/2);break;case b.BottomLine:a.barheight=1;a.bartop+=e-2;break;case b.Full:default:a.barheight=e-1}return a}function hb(c,a){a:;if(a==SP.JsGrid.Internal.LoadErrorState)a=null;var b={record:a,virtPrims:[]};if(a!=null&&!a.bIsNewRow)b.virtPrims=jb(c,b);return b}function eb(b){a:;var a=b.virtPrims;for(var c in a)a[c].Dispose()}function yb(){var f,b,e,a,c=SP.JsGrid.GanttDrawBarFlags;this.Init=function(c,d){a:;f=0;b=[];e=c;a=d;a.leftLinkX=Number.MAX_VALUE;a.rightLinkX=Number.MIN_VALUE;a.linkedBarStyleShape=SP.JsGrid.Internal.GanttPane.BarShape.Full};this.GetVirtualPrimitives=function(){a:;return b};this.externalAPI={DrawBar:g,DrawBarByStyle:d};function d(d,f,h,i){a:;if(d!=null&&f!=null&&d>f)return;var g=Db(e,a,d&&gb(d),f&&gb(f),h);b=b.concat(g.vps);if(i&c.LeftLink){a.leftLinkX=g.leftLinkX;a.leftLinkBarStyle=h}if(i&c.RightLink){a.rightLinkX=g.rightLinkX;a.rightLinkBarStyle=h}w=d!=null&&d<w?d:w;v=f!=null&&f>v?f:v}function g(c,e,b,a){a:;d(c,e,T[b],a)}}function jb(l,i){a:;var b=i.record;L.Init(l,i);var k=L.externalAPI,d=I!=null?I(b):null;if(d==null)d=t.GetValue(b,SP.JsGrid.OperationalConstants.GanttBarStyleIds);if(d!=null)for(var g,j=0,c=0;c<d.length;c++){var a=T[d[c]],f=a.startField!=null?b.GetDataValue(a.startField):B&&B(b,c,SP.JsGrid.GanttBarDateType.Start,a),e=a.endField!=null?b.GetDataValue(a.endField):B&&B(b,c,SP.JsGrid.GanttBarDateType.End,a);if(f!=null&&f.constructor!=Date)f=null;if(e!=null&&e.constructor!=Date)e=null;if(f||e){if(a.linkPriority!=0&&a.linkPriority>=j){j=a.linkPriority;g=SP.JsGrid.GanttDrawBarFlags.LeftLink|SP.JsGrid.GanttDrawBarFlags.RightLink}else g=0;k.DrawBarByStyle(f,e,a,g)}}else M!=null&&M(b,k);var h=L.GetVirtualPrimitives();for(c in h)h[c].primHndl.row=i;return h}function Db(u,w,l,k,i){a:;var d=e,m=Math.floor((d+1)/2),q=cb[i.start.shape],r=cb[i.end.shape],g,h;if(l!=null)g=l-(q&a.CenterPoint?m:0);if(k!=null)h=k-(r&a.CenterPoint?m:d);if(l==null)g=h;else if(k==null)h=g;var j={vps:[]},n=F(u,i.shape),f,c;if(l!=null&&k!=null){var o=g;if(q&a.LCenter)o+=m;else if(q&a.LRight)o+=d;var t=h;if(r&a.RCenter)t+=m;else if(r&a.RRight)t+=d;var v=Math.max(t-o,1);f={left:o,top:n.bartop,width:v-1,height:n.barheight};c=new s("rect",f,b);c.primHndl=p.DrawBar(f,i);c.primHndl&&j.vps.push(c)}if(l!=null){f={left:g,top:n.areatop,width:d-1,height:d-1};c=new s("rect",f,b);c.primHndl=p.DrawShape(f,i.start);c.primHndl&&j.vps.push(c)}j.leftLinkX=g;if(k!=null){f={left:h,top:n.areatop,width:d-1,height:d-1};c=new s("rect",f,b);c.primHndl=p.DrawShape(f,i.end);c.primHndl&&j.vps.push(c)}j.rightLinkX=h+d;return j}function Cb(w){a:;var k=D.RecordKeyToRelRowIdx(w.fromKey),t=D.RecordKeyToRelRowIdx(w.toKey);if(k==null||t==null||!ib(k)||!ib(t))return null;var u=c[k],v=c[t],d,a,q,r,o=w.linkType;if(o==SP.JsGrid.LinkType.StartStart||o==SP.JsGrid.LinkType.StartFinish){d=u.leftLinkX-1;q=u.leftLinkBarStyle}else{d=u.rightLinkX;q=u.rightLinkBarStyle}if(o==SP.JsGrid.LinkType.StartStart||o==SP.JsGrid.LinkType.FinishStart){a=v.leftLinkX;r=v.leftLinkBarStyle}else{a=v.rightLinkX;r=v.rightLinkBarStyle}if(q==null||r==null)return null;var y=F(k,q.shape),n=F(t,r.shape),e=y.bartop+Math.ceil(y.barheight/2),f=n.bartop+Math.ceil(n.barheight/2),i,h,m;switch(o){case SP.JsGrid.LinkType.FinishFinish:h=Math.max(d+l,a+g);i=[d,e,h,e,h,f,a,f];break;case SP.JsGrid.LinkType.StartStart:h=Math.min(d-l,a-g);i=[d,e,h,e,h,f,a,f];break;case SP.JsGrid.LinkType.FinishStart:if(a-d>=-1){h=Math.max(d+l,a);i=[d,e,h,e,h,e<f?n.bartop:n.bartop+n.barheight]}else{m=(k+(e<f?1:0))*j-1;i=[d,e,d+l,e,d+l,m,a-g,m,a-g,f,a,f]}break;case SP.JsGrid.LinkType.StartFinish:if(d-a-g-l>=0)i=[d,e,a+g,e,a+g,f,a,f];else{m=(k+(e<f?1:0))*j-1;i=[d,e,d-l,e,d-l,m,a+g,m,a+g,f,a,f]}break;default:return null}var x=new s("points",i,b);x.primHndl=p.DrawLink(i,x.CalcHorizPos());return x}function Y(){a:;var a=b.GetMinTierItemDurationMs()*zb,e=1e3*60*60*24,d=Math.max(i[0].getTime()-a,SP.JsGrid.Internal.DateManip.startOfTimeJsDateTicks),c=Math.min(i[1].getTime()+a,SP.JsGrid.Internal.DateManip.endOfTimeJsDateTicks);return[new Date(d),new Date(c)]}function W(d){a:;var c=b.GetMinTierItemDurationMs()*m.GetWholeItemDisplayCapacity(),a=d.getTime()-c*fb;a=Math.min(a,k[1].getTime()-c);a=Math.max(a,k[0].getTime());return new Date(a)}function nb(d){a:;var a=b.GetMinTierItemDurationMs()*m.GetWholeItemDisplayCapacity(),c=new Date(d.getTime()+a*fb);return c}function V(a){a:;var d=W(a),c=Math.ceil((d.getTime()-k[0].getTime())/b.GetMinTierItemDurationMs());return c}function mb(c){a:;var d=new Date(k[0].getTime()+c*b.GetMinTierItemDurationMs()),a=nb(d);return a}function wb(a){a:;!A&&lb.SetFocusDate(mb(a.topIdx))}function N(){a:;var a=b.Draw(C,q.GetWidth(),E+1,W(o));pb(a.majorTierPlacements);qb(a.todayPlacement)}function pb(b){a:;b.length%2==0&&b.push(1e4);for(var a=0;a<y.length;a++)f.removeChild(y[a]);y=[];for(var e=f.firstChild,a=1;a<b.length;a+=2){var c=document.createElement("div");c.className="jsgrid-gantt-vert-delim";c.style.borderColor=d.styleMgr.gridPaneStyle.horizontalBorderColor;c.style[d.RTL.left]=b[a]-1+"px";c.style.width=b[a+1]-b[a]-1+"px";f.insertBefore(c,e);y.push(c)}}function qb(a){a:;if(h!=null){f.removeChild(h);h=null}if(a>=0){h=document.createElement("div");h.className="jsgrid-gantt-vert-today";h.style.borderColor=d.styleMgr.timescaleTierStyle.todayLineColor;h.style[d.RTL.left]=a-1+"px";f.insertBefore(h,f.firstChild)}}function O(){a:;var c=b.DateToAbsXCoord(SP.DateTimeUtil.IntlDate.createFromJsUtcDate(k[1],_spRegionalSettings.calendarType))-b.DateToAbsXCoord(SP.DateTimeUtil.IntlDate.createFromJsUtcDate(k[0],_spRegionalSettings.calendarType)),a=b.GetMinTierItemWidth();A=true;m.Update({itemSize:a,itemCount:Math.ceil(c/a),physicalViewportSize:q.GetWidth(),scrollbarSize:q.GetWidth(),topItemIdx:V(o)});A=false}function rb(){a:;A=true;m.Update({topItemIdx:V(o)});A=false}function tb(){for(var b=0;b<c.length;b++){var a=c[b];for(var d in a.virtPrims)a.virtPrims[d].Dispose();a.virtPrims=jb(b,a)}Q()}function U(){for(var a=0;a<c.length;a++){var b=c[a].virtPrims;for(var d in b)b[d].SetHorizPos()}for(a in x)x[a].virtPrim.SetHorizPos()}function Z(f,e){a:;for(var d=e*j,a=f;a<c.length;++a){var b=c[a].virtPrims;for(var g in b)b[g].TranslateVertically(d)}}function Q(){a:;SP.Internal.JS.CoalesceFunctionCalls("ganttlinks",a);function a(){a:;for(var g in x)x[g].virtPrim.Dispose();x={};var f={};for(var a in c){var b=c[a].record;if(b!=null&&!b.bIsNewRow){var i=b.key(),d=ub(b);if(d!=null)for(var a=0;a<d.length;a++){var e=Bb(d[a].key,i,d[a].type);f[e.key]=e}}}for(var g in f){var e=f[g],h=Cb(e);if(h)x[g]={link:e,virtPrim:h}}}}function ub(b){var a=t.GetValue(b,SP.JsGrid.OperationalConstants.GanttDependants);return K!=null?K(b,a):a}function sb(){a:;function a(a){a:;d.eventMgr.FireEvent(SP.JsGrid.EventType.OnDoubleClick,new SP.JsGrid.EventArgs.Click(a,SP.JsGrid.ClickContext.Gantt,null,null))}function b(a){a:;if(a.button==Sys.UI.MouseButton.rightButton){d.eventMgr.FireEvent(SP.JsGrid.EventType.OnRightClick,new SP.JsGrid.EventArgs.Click(a,SP.JsGrid.ClickContext.Gantt,null,null));a.stopPropagation();a.preventDefault()}}$addHandlers(n,{mousedown:b,dblclick:a});return function(){a:;$removeHandler(n,"mousedown",b);$removeHandler(n,"dblclick",a)}}function s(j,h){var g=J+r*2;if(j=="rect"){var d=h;this.virtLeft=d.left;this.virtWidth=d.width;this.width=Math.min(d.width,g);d.left=this.CalcHorizPos();d.width=this.width}else{var b=h,c,e;c=e=b[0];for(var a=0;a<b.length;a+=2){c=Math.min(c,b[a]);e=Math.max(e,b[a])}this.virtLeft=c;this.virtWidth=e-c;this.width=Math.min(this.virtWidth,g);var i=this.virtWidth-this.width;for(a=0;a<b.length;a+=2){var f=b[a]-c;if(f>r)f-=i;b[a]=f}}this.primHndl=null}s.prototype={Dispose:function(){a:;var a=this.primHndl;a.row=null;a.Dispose()},TranslateVertically:function(a){a:;var b=this.primHndl;b.TranslateVertically(a)},SetHorizPos:function(){a:;var b=this.primHndl,a=this.CalcHorizPos();b.TranslateHorizontally(a)},CalcHorizPos:function(){a:;var d=b.GetActualStartDateAbsXCoord(),f=d-r,g=d+J+r,c=this.virtLeft,e=c+this.virtWidth,a;if(c>f&&c<g)a=c-d;else if(e>f&&e<g)a=e-d-this.width;else if(c<f&&e>g)a=-r;else a=J+r;return a}}};SP.JsGrid.Internal.GanttPane.BarShape={None:0,Full:1,TopHalf:2,MidHalf:3,BottomHalf:4,TopLine:5,MidLine:6,BottomLine:7};SP.JsGrid.Internal.GanttPane.BarPattern={Transparent:-1,Empty:0,Solid:1,Dots25pct:2,Dots50pct:3,Dots75pct:4,Nw2seDiag:5,Sw2neDiag:6,BothDiag:7,VertLines:8,HorizLines:9,GridLines:10};SP.JsGrid.Internal.GanttPane.EndPtShape={None:0,HomePlateUp:1,HomePlateDown:2,Diamond:3,UpTriangle:4,DownTriangle:5,RightTriangle:6,LeftTriangle:7,UpArrow:8,MiniHomePlateDown:9,MiniHomePlateUp:10,VertBar:11,Square:12,CircledDiamond:13,DownArrow:14,CircledUpTriangle:15,CircledDownTriangle:16,CircledUpArrow:17,CircledDownArrow:18,Circle:19,Star:20,OpenBracket:21,CloseBracket:22};SP.JsGrid.TimeScale=function(x,c,i,w,l){var f,g,q=[],v=[],k=0,h,j,r=new SP.JsGrid.Internal.DateTimeLocalizer,G=this,t,n,m,b=SP.JsGrid.Internal.DateTimeUnit,a=r.GetLabelFormats(),d=2,o=0,p,e=[[{unit:b.Minute,label:a.Minute,count:15},{unit:b.Hour,label:a.ShortDateHour,count:1}],[{unit:b.Hour,label:a.Hour,count:2},{unit:b.Day,label:a.LongDate,count:1}],[{unit:b.Hour,label:a.Hour,count:6},{unit:b.Day,label:a.ShortDate,count:1}],[{unit:b.Day,label:a.ShortestDayName,count:1},{unit:b.Week,label:a.ShortDate,count:1}],[{unit:b.Day,label:a.DayOfMonth,count:3},{unit:b.Month,label:a.YearMonth,count:1}],[{unit:b.Day,label:a.DayOfMonth,count:7},{unit:b.Month,label:a.YearMonth,count:1}],[{unit:b.Month,label:a.MonthAbbr,count:1},{unit:b.Quarter,label:a.YearMonth,count:1}],[{unit:b.Month,label:a.MonthAbbr,count:1},{unit:b.HalfYear,label:a.YearMonth,count:1}],[{unit:b.Quarter,label:a.MonthAbbr,count:1},{unit:b.Year,label:a.Year4,count:1}],[{unit:b.HalfYear,label:a.MonthAbbr,count:1},{unit:b.Year,label:a.Year4,count:1}]];this.RetrieveRoundTimeObj=function(a){a:;var b=v[a];if(!b){var c=e[a][0];v[a]=b=new SP.JsGrid.Internal.RoundTime(c.unit,c.count,w.tableViewParams.ganttParams.workDayStart,w.tableViewParams.ganttParams.workDayEnd)}return b};this.GetActualStartDateAbsXCoord=function(){a:;return k};this.AbsXCoordToDate=function(a){a:;return SP.DateTimeUtil.IntlDate.createFromTicks(a/j+SP.JsGrid.Internal.DateManip.startOfTimeIntlDateTicks,_spRegionalSettings.calendarType)};this.DateToAbsXCoord=function(a){a:;return Math.floor((a.get_ticks()-SP.JsGrid.Internal.DateManip.startOfTimeIntlDateTicks)*j)};this.GetMinTierItemDurationMs=function(){a:;var a=e[h][0];return SP.JsGrid.Internal.UnitTicks[a.unit]*a.count};this.GetMinTierItemWidth=function(){a:;return this.GetMinTierItemDurationMs()*j};this.GetMinHeight=function(){a:;return u()*d};this.SetZoomLevel=function(a){a:;h=a;j=s(h)};this.Draw=function(l,z,D,G){a:;var g={majorTierPlacements:[],todayPlacement:-1},q=u(),E=Math.max(D-d*q,0),f=e[h][0],y=SP.JsGrid.Internal.DateManip.RoundDown(SP.DateTimeUtil.IntlDate.createFromJsUtcDate(G,_spRegionalSettings.calendarType),f.unit,f.count);k=this.DateToAbsXCoord(y);var w=new Date;g.todayPlacement=this.DateToAbsXCoord(SP.DateTimeUtil.IntlDate.createFromDateParts(w.getFullYear(),w.getMonth()+1,w.getDate(),0,SP.DateTimeUtil.SPCalendarType.gregorian))-k;if(g.todayPlacement>z)g.todayPlacement=-1;if(!l.firstChild){var a=l.appendChild(document.createElement("div"));a.style.cssText="padding:0px; left:0px; top:0px; background-repeat:repeat-x; overflow:hidden; position:absolute; width:10000px";a.style.height=D-1+"px";a.style.backgroundColor=c.backgroundColor;a.style.backgroundImage=c.imageUrl||"";for(var x=0;x<d;++x){a=l.appendChild(document.createElement("div"));a.style.cssText=t;a.style.height=q-1+"px";a.style.top=E+q*x+"px";if(!i.bEnabled)a.style.left="0px"}}for(var A=k,b=0;b<d;b++){f=e[h][b];var s=l.childNodes[d-b],p=SP.JsGrid.Internal.DateManip.RoundDown(y,f.unit,f.count),j=this.DateToAbsXCoord(p)-A,F=b==0?0:4,H=b==0?m:n,v=s.firstChild;s.style["margin"+i.Left]=j+"px";while(j<z){b==d-1&&g.majorTierPlacements.push(j);var B=SP.JsGrid.Internal.DateManip.Increment(p,f.unit,f.count),C=this.DateToAbsXCoord(B)-A;if(v){a=v;v=a.nextSibling}else{a=document.createElement("span");a.style.cssText=H;s.appendChild(a)}a.style.width=C-j-(F+1)+"px";o<=b&&SP.Internal.DomElement.SetText(a,r.CreateLabel(p,f.label));j=C;p=B}}return g};this.ScaledDraw=function(e,b,d,c,a){a:;E(a);h=y(a);return this.Draw(e,b,d,c)};function F(){a:;if(l)if(l>=0&&l<d)o=l;D();B()}function D(){a:;t="white-space:nowrap; overflow:hidden; position:absolute; width:10000px;;background-color:"+c.backgroundColor+";color:"+c.textColor+";border-bottom:"+SP.JsGrid.Internal.MakeBorderString(1,c.horizontalBorderStyle,c.horizontalBorderColor);var a="white-space:nowrap; overflow:hidden; height:100%"+(c.font!=null?";font-family:"+c.font:"")+";font-size:"+c.fontSize+";font-weight:"+c.fontWeight+";float:"+i.left+";border-"+i.right+":"+SP.JsGrid.Internal.MakeBorderString(1,c.verticalBorderStyle,c.verticalBorderColor);n=a+";text-align:"+i.left+";padding-"+i.Left+":4px";m=a+";text-align:center"}function B(){a:;f=document.createElement("span");g=document.createElement("span");var a=";position:absolute;top:0px;left:0px;visibility:hidden;overflow:visible";f.style.cssText=n+a;g.style.cssText=m+a;f.style.height=g.style.height="";x.appendChild(f);x.appendChild(g)}function u(){a:;if(p==null)p=C("Apr \u88c6")+1;return p}function s(b){if(q[b])return q[b];var a=0,c;for(var d in e[b]){var f=e[b][d];if(d>=o)c=r.GetWidestLabelWidth(f.label,null,d==0?z:A);else c=4;var h=SP.JsGrid.Internal.UnitTicks[f.unit]*f.count,g=(c+3+2+1)/h;if(g>a||!a)a=g}if(c!=0)q[b]=a;return a}function A(a){a:;SP.Internal.DomElement.SetText(f,a);return f.offsetWidth}function z(a){a:;SP.Internal.DomElement.SetText(g,a);return g.offsetWidth}function C(a){a:;SP.Internal.DomElement.SetText(f,a);return f.offsetHeight}function E(a){j=a}function y(c){a:;for(var b in e){for(var a=0;a<d;a++){var f=e[b][a],g=SP.JsGrid.Internal.UnitTicks[f.unit]*f.count;if((4+1+2+3)/g>c)break}if(a==d&&s(b)<=c)return b}return e.length-1}F()};SP.JsGrid.Internal.MakeBorderString=function(c,b,a){a:;return[c,"px ",b," ",a].join("")};SP.JsGrid.Internal.DateTimeUnit={Minute:0,Hour:1,Day:2,Week:3,ThirdMonth:4,Month:5,Quarter:6,HalfYear:7,Year:8};SP.JsGrid.Internal.DateTimeLocalizer=function(){a:;var e=/ddddd|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|q|l|r|rrr|ss|s|am|pm|tt|t|fff|ff|f|w|zzz|zz|z/g,d=Sys.CultureInfo.CurrentCulture,a=d.dateTimeFormat,c,b=SP.DateTimeUtil.IntlDate.createFromDateParts(2008,1,1,1,SP.DateTimeUtil.SPCalendarType.gregorian);b.convertToCalendar(_spRegionalSettings.calendarType);this.GetLabelFormats=function(){a:;return c};this.CreateLabel=function(b,a){a:;return b.format(a,d.name)};this.GetWidestLabelWidth=function(g,o,i){a:;function f(c,g,f){a:;for(var e=0,b=c,a=c;a<=g;a+=f){var d=i(a);if(d>e){e=d;b=a}}return b}function h(c){a:;for(var e=0,b=c.length-1,a=b;a>=0;a--){var d=i(c[a]);if(d>e){e=d;b=a}}return c[b]}function k(a){a:;var c=[];b.setDate(b.get_year(),1,1,b.get_era());if(a=="MMMM"||a=="MMM"){for(var g=b.monthsInYear(),e=1;e<=g;b.addMonths(1),e++)c.push(b.format(a,d.name));return h(c)}else if(a=="ddddd"||a=="dddd"||a=="ddd"){for(var f=1;f<=7;b.addDays(1),f++)c.push(b.format(a,d.name));return h(c)}else return i(b.format(a,d.name))}if(g[0]=="%")g=g.substr(1);var l=[];e.lastIndex=0;while(true){var n=e.lastIndex,j=e.exec(g);l.push(g.slice(n,j?j.index:g.length));if(!j)break;var c,m=j[0];switch(m){case"ddddd":case"dddd":case"ddd":case"MMMM":case"MMM":c=k(m);break;case"yyyy":c=f(1111,9999,1111);break;case"fff":c=f(111,999,111);break;case"dd":case"d":case"MM":case"M":case"h":case"hh":case"HH":case"H":case"mm":case"m":case"ss":case"s":case"yy":case"y":case"ff":case"w":case"rrr":c=f(11,99,11);break;case"f":case"q":case"l":case"r":c=f(0,9,1);break;case"t":c=h([a.AMDesignator[0],a.PMDesignator[0]]);case"tt":c=h([a.AMDesignator,a.PMDesignator]);break;case"z":case"zz":c=h(["+","-"])+f(10,13,1);break;case"zzz":c=h(["+","-"])+f(10,13,1)+k(":")+f(11,99,11);break;case"/":c=k("/");break;case":":c=k(":")}l.push(c)}return i(l.join(""))};function f(){a:;c={Year4:"yyyy",YearMonth:a.YearMonthPattern,MonthAbbr:"MMM",ShortestDayName:"ddddd",DayOfMonth:"%d",ShortDate:a.ShortDatePattern,ShortDateTime:a.ShortDatePattern+" "+a.ShortTimePattern,MonthDay:a.MonthDayPattern,LongDate:a.LongDatePattern,Hour:null,ShortDateHour:null,Minute:"%m"};var e=a.ShortTimePattern,b=/hh|h|HH|H/g.exec(e),d=/ tt|.tt|tt |tt/g.exec(e);c.Hour=(b?!d?b:b.index<d.index?b+d:d+b:e)+"";c.ShortDateHour=a.ShortDatePattern+" "+c.Hour}f()};SP.JsGrid.Internal.UnitTicks=[60*1e3,3600*1e3,86400*1e3,604800*1e3,864e3*1e3,2628e3*1e3,7884e3*1e3,15768e3*1e3,31536e3*1e3];SP.JsGrid.Internal.RoundTime=function(a,b,c,d){this.ganttDisplayInfo=SP.JsGrid.Internal.UnitTicks[a]*b>SP.JsGrid.Internal.UnitTicks[SP.JsGrid.Internal.DateTimeUnit.Day]?{unit:SP.JsGrid.Internal.DateTimeUnit.Day,count:1}:{unit:a,count:b};this.ganttDragInfo={unit:a,count:b};if(a!=SP.JsGrid.Internal.DateTimeUnit.Day)this.ganttDragInfo=SP.JsGrid.Internal.DateManip.ReduceUnit(this.ganttDragInfo);this.workDayStartMs=c*6e4;this.workDayEndMs=d*6e4};SP.JsGrid.Internal.RoundTime.prototype={RoundForGanttDisplay:function(a){a:;var b=a.get_ticks()%864e5;if(b<=this.workDayStartMs)a=SP.JsGrid.Internal.DateManip.RoundDown(a,this.ganttDisplayInfo.unit,this.ganttDisplayInfo.count);else if(b>=this.workDayEndMs)a=SP.JsGrid.Internal.DateManip.RoundUp(a,this.ganttDisplayInfo.unit,this.ganttDisplayInfo.count);return a},RoundForGanttStartDrag:function(a){a:;a=SP.JsGrid.Internal.DateManip.RoundDown(a,this.ganttDragInfo.unit,this.ganttDragInfo.count);this.ganttDragInfo.unit>=SP.JsGrid.Internal.DateTimeUnit.Day&&a.setTime(0,0,0,this.workDayStartMs);return a},RoundForGanttFinishDrag:function(a){a:;a=SP.JsGrid.Internal.DateManip.RoundUp(a,this.ganttDragInfo.unit,this.ganttDragInfo.count);this.ganttDragInfo.unit>=SP.JsGrid.Internal.DateTimeUnit.Day&&a.setTime(-24,0,0,this.workDayEndMs);return a}};SP.JsGrid.Internal.DateManip=function(){a:;var d=SP.DateTimeUtil.IntlDate.createFromDateParts(1984,1,1,0,SP.DateTimeUtil.SPCalendarType.gregorian),f=SP.DateTimeUtil.IntlDate.createFromDateParts(2150,1,1,0,SP.DateTimeUtil.SPCalendarType.gregorian),e=60*1e3,c=e*60,b=c*24,a=SP.JsGrid.Internal.DateTimeUnit,g=["addMinutes","addHours","addDays","addWeeks","addMonthThirds","addMonths","addQuarters","addHalfYears","addYears"];return{startOfTimeIntlDateTicks:d.get_ticks(),endOfTimeIntlDateTicks:f.get_ticks(),startOfTimeJsDateTicks:d.toJsDate().getTime(),endOfTimeJsDateTicks:f.toJsDate().getTime(),RoundUp:function(a,b,c){a:;var d=this.RoundDown(a,b,c);return a.equals(d)?d:this.RoundDown(this.Increment(a,b,c),b,c)},RoundDown:function(d,n,l){var h=d.get_ticks(),k,r,s,j,g,i,f;switch(n){case a.Minute:f=SP.DateTimeUtil.IntlDate.createFromTicks(h-h%(l*e),d.get_calendarType());break;case a.Hour:f=SP.DateTimeUtil.IntlDate.createFromTicks(h-h%(l*c),d.get_calendarType());break;case a.Day:case a.Week:if(n==a.Week)l*=7;var m;if(h>_spRegionalSettings.firstDayOfWeek*b){var o=h-this.startOfTimeIntlDateTicks;m=h-(o-_spRegionalSettings.firstDayOfWeek*b)%(l*b)}else m=this.startOfTimeIntlDateTicks+_spRegionalSettings.firstDayOfWeek*b;f=SP.DateTimeUtil.IntlDate.createFromTicks(m,d.get_calendarType());break;case a.Month:f=SP.DateTimeUtil.IntlDate.createFromDateParts(d.get_year(),d.get_month(),1,d.get_era(),d.get_calendarType());break;case a.Quarter:var q=d.get_quarter();j=d.get_calendarType();k=d.get_year();g=q*3-2;i=SP.DateTimeUtil.SPIntlCal.isLocalYearLeap(j,k)?SP.DateTimeUtil.SPIntlCal.getMonthLeap(j,k):-1;if(i!=-1&&i<g-1)g++;f=SP.DateTimeUtil.IntlDate.createFromDateParts(d.get_year(),g,1,d.get_era(),d.get_calendarType());break;case a.HalfYear:var p=d.get_halfYear();j=d.get_calendarType();k=d.get_year();g=(p-1)*6+1;i=SP.DateTimeUtil.SPIntlCal.isLocalYearLeap(j,k)?SP.DateTimeUtil.SPIntlCal.getMonthLeap(j,k):-1;if(i!=-1&&i<g-1)g++;f=SP.DateTimeUtil.IntlDate.createFromDateParts(d.get_year(),g,1,d.get_era(),d.get_calendarType());break;case a.Year:f=d.clone();f.addYears(-(d.get_year()%l));f.setDate(f.get_year(),1,1,f.get_era());f.setTime(0,0,0,0)}return f},Increment:function(b,c,d){a:;var a=b.clone();a[g[c]](d);return a},ReduceUnit:function(c){a:;var b=c;if(b.count>1)b.count=1;else switch(b.unit){case a.Hour:b.unit=a.Minute;break;case a.Day:b.unit=a.Hour;break;case a.Week:case a.ThirdMonth:b.unit=a.Day;break;case a.Month:b.unit=a.Week;break;case a.Quarter:case a.HalfYear:case a.Year:b.unit=a.Month}return b}}}();SP.JsGrid.Internal.VmlGanttDrawImpl=function(o){var c,d=SP.JsGrid.Internal.GanttPane.BarShape,b=SP.JsGrid.Internal.GanttPane.BarPattern,a=SP.JsGrid.Internal.GanttPane.EndPtShape,p=0,g,i=[,,"patt_25pct.PNG","patt_50pct.PNG","patt_75pct.PNG","patt_se_diag.PNG","patt_ne_diag.PNG","patt_both_diag.PNG","patt_vert.PNG","patt_horiz.PNG","patt_grid.PNG"],j=[,"HomePlateUp","HomePlateDown","Diamond","UpTriangle","DownTriangle","RightTriangle","LeftTriangle","UpArrow","MiniHomePlateDown","MiniHomePlateUp","VertBar","Square","Diamond","DownArrow","UpTriangle","DownTriangle","UpArrow","DownArrow","Circle","Star","OpenBracket","CloseBracket"];this.Init=function(a,b){a:;g=b;m();l(a)};this.OnResize=n;this.DrawBar=function(l,g){a:;if(g.shape==d.None)return null;var j=k(g.shape,g.pattern),a;if(j=="#SolidLineBar"||g.pattern==b.Transparent)a=f("rect");else{a=f("shape");a.type=j;if(j=="#PatternBar"){var n=e("fill",a);n.src="/_layouts/15/images/"+i[g.pattern]}else if(j=="#PatternLineBar"){var m=e("stroke",a);m.src="/_layouts/15/images/"+i[g.pattern]}}a.strokeweight=g.strokeWeight;a.style.left=l.left;a.style.top=l.top;a.style.width=l.width;a.style.height=l.height;c.appendChild(a);if(j=="#PatternLineBar")a.fillcolor=g.color;else a.strokecolor=g.color;if(g.pattern==b.Transparent)a.filled=false;return new h(a)};this.DrawShape=function(i,g){a:;var d;switch(g.shape){case a.None:return null;case a.HomePlateUp:case a.HomePlateDown:case a.Diamond:case a.UpTriangle:case a.DownTriangle:case a.LeftTriangle:case a.RightTriangle:case a.UpArrow:case a.DownArrow:case a.MiniHomePlateUp:case a.MiniHomePlateDown:case a.VertBar:case a.Square:case a.Circle:case a.Star:case a.OpenBracket:case a.CloseBracket:d=f("shape");d.type="#"+j[g.shape];d.strokecolor=g.color;break;default:d=f("group");var k=e("oval",d);k.style.width=k.style.height=1e3;k.strokecolor=g.color;var b=e("shape",d);b.type="#"+j[g.shape];b.strokecolor=g.color;switch(g.shape){case a.CircledDiamond:b.style.width=b.style.height=800;b.style.top=b.style.left=100;break;case a.CircledUpTriangle:b.style.width=b.style.height=700;b.style.top=70;b.style.left=150;break;case a.CircledDownTriangle:b.style.width=b.style.height=700;b.style.top=230;b.style.left=150;break;case a.CircledUpArrow:b.style.width=b.style.height=800;b.style.top=80;b.style.left=100;break;case a.CircledDownArrow:b.style.width=b.style.height=800;b.style.top=120;b.style.left=100;break;default:return null}}d.style.left=i.left;d.style.top=i.top;d.style.width=i.width;c.appendChild(d);d.style.height=i.height;return new h(d)};this.DrawLink=function(d,g){a:;var a=f("polyline");a.filled=false;var b=e("stroke",a);b.endarrow="classic";b.color="#8DB8EB";a.points=d.join(",");c.appendChild(a);a.style.left=g;return new h(a)};function h(a){a:;this.VmlDOMElement=a}h.prototype={Dispose:function(){a:;this.VmlDOMElement.parentNode.removeChild(this.VmlDOMElement)},TranslateVertically:function(a){a:;this.VmlDOMElement.style.top=parseInt(this.VmlDOMElement.style.top,10)+a+"px"},TranslateHorizontally:function(a){a:;var b=parseInt(this.VmlDOMElement.style.left,10);if(b!=a)this.VmlDOMElement.style.left=a+"px"}};function f(b){a:;var a=document.createElement("v:"+b);a.className="jsgrid-vml";return a}function e(c,b){a:;var a=document.createElement("v:"+c);a.className="jsgrid-vml";b.appendChild(a);return a}function k(c,a){a:;switch(c){case d.Full:return a==b.Empty||a==b.Transparent?"#EmptyBar":a==b.Solid?"#SolidBar":"#PatternBar";case d.TopHalf:case d.MidHalf:case d.BottomHalf:return a==b.Empty||a==b.Transparent?"#EmptyBar":a==b.Solid?"#SolidBar":"#PatternBar";case d.TopLine:case d.MidLine:case d.BottomLine:return a==b.Empty||a==b.Transparent?"#SolidLineBar":a==b.Solid?"#SolidLineBar":"#PatternLineBar"}return null}function m(){a:;document.namespaces.add("v","urn:schemas-microsoft-com:vml")}function l(h){a:;var b=document.createElement("div");b.style.display="none";var i={HomePlateUp:"M50,R50,50,,50,-100,,,-50X",HomePlateDown:"M,R100,,,50,-50,50L,50X",Diamond:"M50,L100,50,50,100,,50X",UpTriangle:"M50,L100,100,,100X",DownTriangle:"M,L100,,50,100X",LeftTriangle:"M,50L100,100,100,X",RightTriangle:"M,L100,50,,100X",UpArrow:"M,50L50,R50,50,-30,,,50,-40,,,-50X",DownArrow:"M,50R30,,,-50,40,,,50,30,,-50,50X",MiniHomePlateUp:"M25,100R,-25,25,-25,25,25,,25X",MiniHomePlateDown:"M25,R,25,25,25,25,-25,,-25X",VertBar:"M35,R30,,,100,-30,X",Square:"M22,22R56,,,56,-56,X",Circle:"AL50,50,50,50,0,23592960",Star:"M50,L38,38,,38R31,24L19,100R31,-23L81,100,69,62,100,38R-38,X",OpenBracket:"M0,0R50,0R0,20R-30,0R0,60R30,0R0,20R-50,0X",CloseBracket:"M100,0R-50,0R0,20R30,0R0,60R-30,0R0,20R50,0X"};for(var k in i){var g=e("shapetype",b);g.id=k;g.coordsize="100,100";g.path=i[k];var j=e("fill",g);j.type="solid";j.color="line lighten 180"}var d=' coordsize="100,100" path="M,L100,L100,100L,100X"',a=' style="behavior:url(#default#vml)"';b.innerHTML+=['<v:shapetype id="SolidBar"',d,a,">",'<v:fill type="solid" color="line lighten 180"',a,"/>",'<v:path limo="50,50"',a,"/></v:shapetype>",'<v:shapetype id="GradientBar"',d,a,">",'<v:fill type="gradient" color="line" color2="line lighten 80" focus="10%" method="linear"',a,"/>",'<v:path limo="50,50"',a,"/></v:shapetype>",'<v:shapetype id="EmptyBar"',d,a,'><v:path limo="50,50"',a,"/></v:shapetype>",'<v:shapetype id="PatternBar"',d,a,">",'<v:fill type="pattern" color2="line"',a,"/>",'<v:path limo="50,50"',a,"/></v:shapetype>",'<v:shapetype id="PatternLineBar" coordsize="10,1" path="M,R10,,,1,-10,X"',a,">",'<v:stroke filltype="pattern" color2="fill" color="white"',a,"/>","</v:shapetype>"].join("");h.appendChild(b);c=f("group",h);if(o)c.style.flip="x";h.appendChild(c)}function n(){a:;c.coordsize=g.GetWidth()+","+g.GetHeight();c.style.width=g.GetWidth();c.style.height=g.GetHeight()}};SP.JsGrid.Internal.SvgGanttDrawImpl=function(F){var d=SP.JsGrid.Internal.GanttPane.BarShape,c=SP.JsGrid.Internal.GanttPane.BarPattern,a=SP.JsGrid.Internal.GanttPane.EndPtShape,D=[,,"patt_25pct.PNG","patt_50pct.PNG","patt_75pct.PNG","patt_se_diag.PNG","patt_ne_diag.PNG","patt_both_diag.PNG","patt_vert.PNG","patt_horiz.PNG","patt_grid.PNG"],k=[,"HomePlateUp","HomePlateDown","Diamond","UpTriangle","DownTriangle","RightTriangle","LeftTriangle","UpArrow","MiniHomePlateDown","MiniHomePlateUp","VertBar","Square","Diamond","DownArrow","UpTriangle","DownTriangle","UpArrow","DownArrow","Circle","Star","OpenBracket","CloseBracket"],b="http://www.w3.org/2000/svg",h="http://www.w3.org/1999/xlink",f,q,o={},m={},z=.1,A=.2,j=.3,l={},s=r();this.Init=function(b,a){a:;q=a;C(b)};this.OnResize=E;this.DrawBar=function(c,b){a:;if(b.shape==d.None)return null;var a=new i;y(a,c,b);return a};this.DrawShape=function(d,c){a:;if(c.shape==a.None)return null;var b=new i;w(b,d,c);return b};this.DrawLink=function(b,c){a:;var a=new i(true);x(a,b,c);return a};function i(a){a:;this.SvgDOMElement=null;this._isLink=a}i.prototype={Dispose:function(){a:;var b=this;a(b);function a(a){a:;a.SvgDOMElement!=null&&a.SvgDOMElement.parentNode.removeChild(a.SvgDOMElement)}},TranslateVertically:function(b){a:;var c=this;a(c,b);function a(a,b){a:;if(a.SvgDOMElement!=null)if(!a._isLink){var c=parseInt(a.SvgDOMElement.getAttributeNS(null,"y"),10);a.SvgDOMElement.setAttributeNS(null,"y",c+b)}else a.SvgDOMElement.setAttributeNS(null,"transform",String.format("translate(0,{0})",b))}},TranslateHorizontally:function(c){a:;var b=this;a(b,c);function a(a,b){a:;if(a.SvgDOMElement!=null)if(!a._isLink){var c=parseInt(a.SvgDOMElement.getAttributeNS(null,"x"),10);c!=b&&a.SvgDOMElement.setAttributeNS(null,"x",b)}else a.SvgDOMElement.setAttributeNS(null,"transform",String.format("translate({0},0)",b))}}};function y(i,h,d){a:;var e=B(d.shape,d.pattern),a=document.createElementNS(b,"rect");a.setAttributeNS(null,"x",h.left);a.setAttributeNS(null,"y",h.top);a.setAttributeNS(null,"width",h.width);a.setAttributeNS(null,"height",h.height);a.setAttributeNS(null,"stroke-width",d.strokeWeight);if(e=="#PatternLineBar")a.setAttributeNS(null,"stroke",n(d));else a.setAttributeNS(null,"stroke",d.color);if(d.pattern==c.Transparent||d.pattern==c.Empty||e=="#SolidLineBar"||e=="#PatternLineBar")a.setAttributeNS(null,"fill","none");else if(e=="#SolidBar")a.setAttributeNS(null,"fill",g(d.color,A));else if(e=="#GradientBar")a.setAttributeNS(null,"fill",v(d.color));else e=="#PatternBar"&&a.setAttributeNS(null,"fill",n(d));f.appendChild(a);i.SvgDOMElement=a}function w(p,d,m){a:;var c,o=m.color;switch(m.shape){case a.HomePlateUp:case a.HomePlateDown:case a.Diamond:case a.UpTriangle:case a.DownTriangle:case a.LeftTriangle:case a.RightTriangle:case a.UpArrow:case a.DownArrow:case a.MiniHomePlateUp:case a.MiniHomePlateDown:case a.VertBar:case a.Square:case a.Circle:case a.Star:case a.OpenBracket:case a.CloseBracket:c=document.createElementNS(b,"use");c.setAttributeNS(h,"xlink:href",e(k[m.shape]));c.setAttributeNS(null,"x",d.left);c.setAttributeNS(null,"y",d.top);c.setAttributeNS(null,"width",d.width);c.setAttributeNS(null,"height",d.height);c.setAttributeNS(null,"fill",g(o,j));c.setAttributeNS(null,"stroke",o);c.setAttributeNS(null,"stroke-width","1pt");break;default:c=document.createElementNS(b,"g");var i=document.createElementNS(b,"use");i.setAttributeNS(h,"xlink:href",e(k[a.Circle]));i.setAttributeNS(null,"x",d.left);i.setAttributeNS(null,"y",d.top);i.setAttributeNS(null,"width",d.width);i.setAttributeNS(null,"height",d.height);i.setAttributeNS(null,"fill","none");i.setAttributeNS(null,"stroke",m.color);i.setAttributeNS(null,"stroke-width","3pt");c.appendChild(i);var l=document.createElementNS(b,"use");l.setAttributeNS(null,"x",d.left);l.setAttributeNS(null,"y",d.top);l.setAttributeNS(null,"width",d.width);l.setAttributeNS(null,"height",d.height);l.setAttributeNS(null,"fill",g(o,j));var n;switch(m.shape){case a.CircledUpTriangle:n=e("CircledUpTriangle");break;case a.CircledDownTriangle:n=e("CircledDownTriangle");break;default:n=e(k[m.shape])}l.setAttributeNS(h,"xlink:href",n);c.appendChild(l)}f.appendChild(c);p.SvgDOMElement=c}function x(c,g,h){a:;var a=document.createElementNS(b,"polyline");a.setAttributeNS(null,"fill","none");a.setAttributeNS(null,"stroke","#8DB8EB");var d=e("ArrowMarker");a.setAttributeNS(null,"marker-end","url("+d+")");a.setAttributeNS(null,"points",g.join(","));a.setAttributeNS(null,"transform",String.format("translate({0},0)",h));f.appendChild(a);c.SvgDOMElement=a}function e(a){a:;return s+"#"+a}function r(){a:;if(SP.Internal.DomElement.BrowserIsIE)return"";else{var b=document.getElementsByTagName("base");if(b==null||b.length==0)return"";var a=document.location.href,c=a.indexOf("#");return c>0?a.substring(0,c):a}}function n(c){a:;var e=c.color.replace("#",""),d=o[c.pattern+"_"+e];if(d)return d;patternId="Pattern_"+c.pattern+"_"+e;var a=document.createElementNS(b,"pattern");a.setAttributeNS(null,"id",patternId);a.setAttributeNS(null,"patternUnits","userSpaceOnUse");a.setAttributeNS(null,"x","0");a.setAttributeNS(null,"y","0");a.setAttributeNS(null,"width","8");a.setAttributeNS(null,"height","8");a.setAttributeNS(null,"viewBox","0 0 8 8");document.getElementById("definitions").appendChild(a);var f=document.createElementNS(b,"image");f.setAttributeNS(null,"width","8px");f.setAttributeNS(null,"height","8px");var j=p(),i=j.getContext("2d"),g=document.createElement("img");g.onload=function(){a:;i.drawImage(g,0,0);var b=p(),c=b.getContext("2d");u(i,c,e);f.setAttributeNS(h,"xlink:href",b.toDataURL());a.appendChild(f)};g.src="/_layouts/15/images/"+D[c.pattern];o[c.pattern+"_"+e]=d="url(#"+patternId+")";return d}function u(k,g,c){a:;for(var a=k.getImageData(0,0,8,8),j=parseInt(c.substring(0,2),16),i=parseInt(c.substring(2,4),16),h=parseInt(c.substring(4,6),16),b=0;b<a.data.length;b+=4){var f=a.data[b],e=a.data[b+1],d=a.data[b+2],l=a.data[b+3];if(!(f==255&&e==255&&d==255)){f=j;e=i;d=h;a.data[b]=f;a.data[b+1]=e;a.data[b+2]=d}}g.putImageData(a,0,0)}function p(){a:;var a=document.createElement("canvas");a.width=8;a.height=8;return a}function v(c){a:;var d=m[c];if(d)return d;gradientId="Gradient_"+c.replace("#","");var a=document.createElementNS(b,"linearGradient");a.setAttributeNS(null,"id",gradientId);a.setAttributeNS(null,"x1","0%");a.setAttributeNS(null,"y1","0%");a.setAttributeNS(null,"x2","0%");a.setAttributeNS(null,"y2","50%");a.setAttributeNS(null,"spreadMethod","reflect");document.getElementById("definitions").appendChild(a);var f=document.createElementNS(b,"stop");f.setAttributeNS(null,"offset","0%");f.setAttributeNS(null,"stop-color",g(c,z));a.appendChild(f);var h=document.createElementNS(b,"stop");h.setAttributeNS(null,"offset","100%");h.setAttributeNS(null,"stop-color",g(c,j));a.appendChild(h);var i=e(gradientId);m[c]=d="url("+i+")";return d}function g(d,f){a:;var e=d+f,c=l[e];if(c==null){var a=1-f,b=SP.JsGrid.Internal.Color.HexStringToColor(d),g=SP.JsGrid.Internal.Color.MakeColor(1-(1-b.r)*a,1-(1-b.g)*a,1-(1-b.b)*a);l[e]=c=SP.JsGrid.Internal.Color.ColorToHexString(g)}return c}function B(b,a){a:;switch(b){case d.Full:return a==c.Empty||a==c.Transparent?"#EmptyBar":a==c.Solid?"#SolidBar":"#PatternBar";case d.TopHalf:case d.MidHalf:case d.BottomHalf:return a==c.Empty||a==c.Transparent?"#EmptyBar":a==c.Solid?"#SolidBar":"#PatternBar";case d.TopLine:case d.MidLine:case d.BottomLine:return a==c.Empty||a==c.Transparent?"#SolidLineBar":a==c.Solid?"#SolidLineBar":"#PatternLineBar"}return null}function C(a){a:;var c=t();a.innerHTML=c;f=document.createElementNS(b,"g");a.firstChild.appendChild(f)}function t(){a:;var c=' viewBox="0,0 100,100"',d=' viewBox="0,0 1000,1000"',a=' preserveAspectRatio="none"',e=['<svg xmlns="',b,'" xmlns:xlink="',h,'" width=100% height=100%>','<defs id = "definitions">','<symbol id="HomePlateUp"',c,a,,'><path d="M50,0 l 50,50 0,50 -100,0 0,-50Z" />',"</symbol>",'<symbol id="HomePlateDown"',c,a,,'><path d="M0,0 l 100,0 0,50 -50,50 L0,50Z" />',"</symbol>",'<symbol id="Diamond"',c,a,,'><path d="M50,0 L100,50 50,100 0,50Z" />',"</symbol>",'<symbol id="UpTriangle"',c,a,,'><path d="M50,0 L100,100 0,100Z" />',"</symbol>",'<symbol id="DownTriangle"',c,a,,'><path d="M0,0 L100,0 50,100Z" />',"</symbol>",'<symbol id="LeftTriangle"',c,a,,'><path d="M0,50 L100,100 100,0Z" />',"</symbol>",'<symbol id="RightTriangle"',c,a,,'><path d="M0,0 L100,50 0,100Z" />',"</symbol>",'<symbol id="UpArrow"',c,a,,'><path d="M0,50 L50,0 l 50,50 -30,0 0,50 -40,0 0,-50Z" />',"</symbol>",'<symbol id="DownArrow"',c,a,,'><path d="M0,50 l 30,0 0,-50 40,0 0,50 30,0 -50,50Z" />',"</symbol>",'<symbol id="MiniHomePlateUp"',c,a,,'><path d="M25,100 l 0,-25 25,-25 25,25 0,25Z" />',"</symbol>",'<symbol id="MiniHomePlateDown"',c,a,,'><path d="M25,0 l 0,25 25,25 25,-25 0,-25Z" />',"</symbol>",'<symbol id="VertBar"',c,a,,'><path d="M35,0 l 30,0 0,100 -30,0Z" />',"</symbol>",'<symbol id="Square"',c,a,,'><path d="M22,22 l 56,0 0,56 -56,0Z" />',"</symbol>",'<symbol id="Circle"',c,a,,'><circle cx="50" cy="50" r="50" />',"</symbol>",'<symbol id="Star"',c,a,,'><path d="M50,0 L38,38 0,38 l 31,24 L19,100 l 31,-23 L81,100 69,62 100,38 l -38,0Z" />',"</symbol>",'<symbol id="OpenBracket"',c,a,,'><path d="M0,0 l 50,0 0,20 -30,0 0,60 30,0 0,20 -50,0Z" />',"</symbol>",'<symbol id="CloseBracket"',c,a,,'><path d="M100,0 l -50,0 0,20 30,0 0,60 -30,0 0,20 50,0Z" />',"</symbol>",'<symbol id="CircledUpTriangle"',d,a,,'><path d="M500,0 L67,750 933,750Z" />',"</symbol>",'<symbol id="CircledDownTriangle"',d,a,,'><path d="M500,1000 L67,250 933,250Z" />',"</symbol>",'<marker id="ArrowMarker" markerWidth="8" markerHeight="8" viewBox="0,0 100,100" markerUnits="strokeWidth" orient="auto" refX="100" refY="50" color="#8DB8EB">','<polyline points="0,0 100,50 0,100 50,50 0,0" stroke="currentColor" fill="currentColor" />',"</marker>","</defs>","</svg>"].join("");return e}function E(){a:;F&&f!=null&&f.setAttributeNS(null,"transform","translate("+q.GetWidth()+", 0) scale(-1, 1)")}};typeof Sys!="undefined"&&Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded();typeof NotifyScriptLoadedAndExecuteWaitingJobs=="function"&&NotifyScriptLoadedAndExecuteWaitingJobs("jsgrid.gantt.js")}function ULSrd5(){var a={};a.ULSTeamName="Microsoft SharePoint Foundation";a.ULSFileName="JsGrid.Gantt.commentedjs";return a}$_global_jsgrid_gantt();